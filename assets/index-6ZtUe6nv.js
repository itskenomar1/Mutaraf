(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function a1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Fp={exports:{}},Ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h0;function o1(){if(h0)return Ql;h0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:n,type:r,key:c,ref:a!==void 0?a:null,props:l}}return Ql.Fragment=e,Ql.jsx=t,Ql.jsxs=t,Ql}var p0;function l1(){return p0||(p0=1,Fp.exports=o1()),Fp.exports}var w=l1(),Gp={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m0;function u1(){if(m0)return Ne;m0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function E(z){return z===null||typeof z!="object"?null:(z=_&&z[_]||z["@@iterator"],typeof z=="function"?z:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,H={};function j(z,te,se){this.props=z,this.context=te,this.refs=H,this.updater=se||S}j.prototype.isReactComponent={},j.prototype.setState=function(z,te){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,te,"setState")},j.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function U(){}U.prototype=j.prototype;function P(z,te,se){this.props=z,this.context=te,this.refs=H,this.updater=se||S}var D=P.prototype=new U;D.constructor=P,R(D,j.prototype),D.isPureReactComponent=!0;var G=Array.isArray,q={H:null,A:null,T:null,S:null,V:null},ee=Object.prototype.hasOwnProperty;function M(z,te,se,ue,ye,Ie){return se=Ie.ref,{$$typeof:n,type:z,key:te,ref:se!==void 0?se:null,props:Ie}}function C(z,te){return M(z.type,te,void 0,void 0,void 0,z.props)}function I(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function O(z){var te={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(se){return te[se]})}var k=/\/+/g;function V(z,te){return typeof z=="object"&&z!==null&&z.key!=null?O(""+z.key):te.toString(36)}function A(){}function de(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(A,A):(z.status="pending",z.then(function(te){z.status==="pending"&&(z.status="fulfilled",z.value=te)},function(te){z.status==="pending"&&(z.status="rejected",z.reason=te)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function fe(z,te,se,ue,ye){var Ie=typeof z;(Ie==="undefined"||Ie==="boolean")&&(z=null);var Ae=!1;if(z===null)Ae=!0;else switch(Ie){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(z.$$typeof){case n:case e:Ae=!0;break;case y:return Ae=z._init,fe(Ae(z._payload),te,se,ue,ye)}}if(Ae)return ye=ye(z),Ae=ue===""?"."+V(z,0):ue,G(ye)?(se="",Ae!=null&&(se=Ae.replace(k,"$&/")+"/"),fe(ye,te,se,"",function(Jn){return Jn})):ye!=null&&(I(ye)&&(ye=C(ye,se+(ye.key==null||z&&z.key===ye.key?"":(""+ye.key).replace(k,"$&/")+"/")+Ae)),te.push(ye)),1;Ae=0;var gt=ue===""?".":ue+":";if(G(z))for(var et=0;et<z.length;et++)ue=z[et],Ie=gt+V(ue,et),Ae+=fe(ue,te,se,Ie,ye);else if(et=E(z),typeof et=="function")for(z=et.call(z),et=0;!(ue=z.next()).done;)ue=ue.value,Ie=gt+V(ue,et++),Ae+=fe(ue,te,se,Ie,ye);else if(Ie==="object"){if(typeof z.then=="function")return fe(de(z),te,se,ue,ye);throw te=String(z),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function $(z,te,se){if(z==null)return z;var ue=[],ye=0;return fe(z,ue,"","",function(Ie){return te.call(se,Ie,ye++)}),ue}function W(z){if(z._status===-1){var te=z._result;te=te(),te.then(function(se){(z._status===0||z._status===-1)&&(z._status=1,z._result=se)},function(se){(z._status===0||z._status===-1)&&(z._status=2,z._result=se)}),z._status===-1&&(z._status=0,z._result=te)}if(z._status===1)return z._result.default;throw z._result}var ce=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function pe(){}return Ne.Children={map:$,forEach:function(z,te,se){$(z,function(){te.apply(this,arguments)},se)},count:function(z){var te=0;return $(z,function(){te++}),te},toArray:function(z){return $(z,function(te){return te})||[]},only:function(z){if(!I(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Ne.Component=j,Ne.Fragment=t,Ne.Profiler=a,Ne.PureComponent=P,Ne.StrictMode=r,Ne.Suspense=p,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(z){return q.H.useMemoCache(z)}},Ne.cache=function(z){return function(){return z.apply(null,arguments)}},Ne.cloneElement=function(z,te,se){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var ue=R({},z.props),ye=z.key,Ie=void 0;if(te!=null)for(Ae in te.ref!==void 0&&(Ie=void 0),te.key!==void 0&&(ye=""+te.key),te)!ee.call(te,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&te.ref===void 0||(ue[Ae]=te[Ae]);var Ae=arguments.length-2;if(Ae===1)ue.children=se;else if(1<Ae){for(var gt=Array(Ae),et=0;et<Ae;et++)gt[et]=arguments[et+2];ue.children=gt}return M(z.type,ye,void 0,void 0,Ie,ue)},Ne.createContext=function(z){return z={$$typeof:c,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:l,_context:z},z},Ne.createElement=function(z,te,se){var ue,ye={},Ie=null;if(te!=null)for(ue in te.key!==void 0&&(Ie=""+te.key),te)ee.call(te,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ye[ue]=te[ue]);var Ae=arguments.length-2;if(Ae===1)ye.children=se;else if(1<Ae){for(var gt=Array(Ae),et=0;et<Ae;et++)gt[et]=arguments[et+2];ye.children=gt}if(z&&z.defaultProps)for(ue in Ae=z.defaultProps,Ae)ye[ue]===void 0&&(ye[ue]=Ae[ue]);return M(z,Ie,void 0,void 0,null,ye)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(z){return{$$typeof:f,render:z}},Ne.isValidElement=I,Ne.lazy=function(z){return{$$typeof:y,_payload:{_status:-1,_result:z},_init:W}},Ne.memo=function(z,te){return{$$typeof:m,type:z,compare:te===void 0?null:te}},Ne.startTransition=function(z){var te=q.T,se={};q.T=se;try{var ue=z(),ye=q.S;ye!==null&&ye(se,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(pe,ce)}catch(Ie){ce(Ie)}finally{q.T=te}},Ne.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},Ne.use=function(z){return q.H.use(z)},Ne.useActionState=function(z,te,se){return q.H.useActionState(z,te,se)},Ne.useCallback=function(z,te){return q.H.useCallback(z,te)},Ne.useContext=function(z){return q.H.useContext(z)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(z,te){return q.H.useDeferredValue(z,te)},Ne.useEffect=function(z,te,se){var ue=q.H;if(typeof se=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ue.useEffect(z,te)},Ne.useId=function(){return q.H.useId()},Ne.useImperativeHandle=function(z,te,se){return q.H.useImperativeHandle(z,te,se)},Ne.useInsertionEffect=function(z,te){return q.H.useInsertionEffect(z,te)},Ne.useLayoutEffect=function(z,te){return q.H.useLayoutEffect(z,te)},Ne.useMemo=function(z,te){return q.H.useMemo(z,te)},Ne.useOptimistic=function(z,te){return q.H.useOptimistic(z,te)},Ne.useReducer=function(z,te,se){return q.H.useReducer(z,te,se)},Ne.useRef=function(z){return q.H.useRef(z)},Ne.useState=function(z){return q.H.useState(z)},Ne.useSyncExternalStore=function(z,te,se){return q.H.useSyncExternalStore(z,te,se)},Ne.useTransition=function(){return q.H.useTransition()},Ne.version="19.1.0",Ne}var g0;function Zm(){return g0||(g0=1,Gp.exports=u1()),Gp.exports}var L=Zm();const Rt=a1(L);var $p={exports:{}},Xl={},Kp={exports:{}},Yp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0;function c1(){return y0||(y0=1,function(n){function e($,W){var ce=$.length;$.push(W);e:for(;0<ce;){var pe=ce-1>>>1,z=$[pe];if(0<a(z,W))$[pe]=W,$[ce]=z,ce=pe;else break e}}function t($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var W=$[0],ce=$.pop();if(ce!==W){$[0]=ce;e:for(var pe=0,z=$.length,te=z>>>1;pe<te;){var se=2*(pe+1)-1,ue=$[se],ye=se+1,Ie=$[ye];if(0>a(ue,ce))ye<z&&0>a(Ie,ue)?($[pe]=Ie,$[ye]=ce,pe=ye):($[pe]=ue,$[se]=ce,pe=se);else if(ye<z&&0>a(Ie,ce))$[pe]=Ie,$[ye]=ce,pe=ye;else break e}}return W}function a($,W){var ce=$.sortIndex-W.sortIndex;return ce!==0?ce:$.id-W.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var p=[],m=[],y=1,_=null,E=3,S=!1,R=!1,H=!1,j=!1,U=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function G($){for(var W=t(m);W!==null;){if(W.callback===null)r(m);else if(W.startTime<=$)r(m),W.sortIndex=W.expirationTime,e(p,W);else break;W=t(m)}}function q($){if(H=!1,G($),!R)if(t(p)!==null)R=!0,ee||(ee=!0,V());else{var W=t(m);W!==null&&fe(q,W.startTime-$)}}var ee=!1,M=-1,C=5,I=-1;function O(){return j?!0:!(n.unstable_now()-I<C)}function k(){if(j=!1,ee){var $=n.unstable_now();I=$;var W=!0;try{e:{R=!1,H&&(H=!1,P(M),M=-1),S=!0;var ce=E;try{t:{for(G($),_=t(p);_!==null&&!(_.expirationTime>$&&O());){var pe=_.callback;if(typeof pe=="function"){_.callback=null,E=_.priorityLevel;var z=pe(_.expirationTime<=$);if($=n.unstable_now(),typeof z=="function"){_.callback=z,G($),W=!0;break t}_===t(p)&&r(p),G($)}else r(p);_=t(p)}if(_!==null)W=!0;else{var te=t(m);te!==null&&fe(q,te.startTime-$),W=!1}}break e}finally{_=null,E=ce,S=!1}W=void 0}}finally{W?V():ee=!1}}}var V;if(typeof D=="function")V=function(){D(k)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,de=A.port2;A.port1.onmessage=k,V=function(){de.postMessage(null)}}else V=function(){U(k,0)};function fe($,W){M=U(function(){$(n.unstable_now())},W)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function($){switch(E){case 1:case 2:case 3:var W=3;break;default:W=E}var ce=E;E=W;try{return $()}finally{E=ce}},n.unstable_requestPaint=function(){j=!0},n.unstable_runWithPriority=function($,W){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ce=E;E=$;try{return W()}finally{E=ce}},n.unstable_scheduleCallback=function($,W,ce){var pe=n.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?pe+ce:pe):ce=pe,$){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=ce+z,$={id:y++,callback:W,priorityLevel:$,startTime:ce,expirationTime:z,sortIndex:-1},ce>pe?($.sortIndex=ce,e(m,$),t(p)===null&&$===t(m)&&(H?(P(M),M=-1):H=!0,fe(q,ce-pe))):($.sortIndex=z,e(p,$),R||S||(R=!0,ee||(ee=!0,V()))),$},n.unstable_shouldYield=O,n.unstable_wrapCallback=function($){var W=E;return function(){var ce=E;E=W;try{return $.apply(this,arguments)}finally{E=ce}}}}(Yp)),Yp}var v0;function d1(){return v0||(v0=1,Kp.exports=c1()),Kp.exports}var Qp={exports:{}},Yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _0;function f1(){if(_0)return Yt;_0=1;var n=Zm();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,m,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:p,containerInfo:m,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Yt.createPortal=function(p,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(p,m,null,y)},Yt.flushSync=function(p){var m=c.T,y=r.p;try{if(c.T=null,r.p=2,p)return p()}finally{c.T=m,r.p=y,r.d.f()}},Yt.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(p,m))},Yt.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Yt.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var y=m.as,_=f(y,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?r.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:S}):y==="script"&&r.d.X(p,{crossOrigin:_,integrity:E,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Yt.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=f(m.as,m.crossOrigin);r.d.M(p,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(p)},Yt.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,_=f(y,m.crossOrigin);r.d.L(p,y,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Yt.preloadModule=function(p,m){if(typeof p=="string")if(m){var y=f(m.as,m.crossOrigin);r.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(p)},Yt.requestFormReset=function(p){r.d.r(p)},Yt.unstable_batchedUpdates=function(p,m){return p(m)},Yt.useFormState=function(p,m,y){return c.H.useFormState(p,m,y)},Yt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Yt.version="19.1.0",Yt}var E0;function h1(){if(E0)return Qp.exports;E0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Qp.exports=f1(),Qp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T0;function p1(){if(T0)return Xl;T0=1;var n=d1(),e=Zm(),t=h1();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(l(i)!==i)throw Error(r(188))}function p(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,u=s;;){var h=o.return;if(h===null)break;var g=h.alternate;if(g===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===o)return f(h),i;if(g===u)return f(h),s;g=g.sibling}throw Error(r(188))}if(o.return!==u.return)o=h,u=g;else{for(var b=!1,x=h.child;x;){if(x===o){b=!0,o=h,u=g;break}if(x===u){b=!0,u=h,o=g;break}x=x.sibling}if(!b){for(x=g.child;x;){if(x===o){b=!0,o=g,u=h;break}if(x===u){b=!0,u=g,o=h;break}x=x.sibling}if(!b)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function m(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=m(i),s!==null)return s;i=i.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),D=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function V(i){return i===null||typeof i!="object"?null:(i=k&&i[k]||i["@@iterator"],typeof i=="function"?i:null)}var A=Symbol.for("react.client.reference");function de(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===A?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case R:return"Fragment";case j:return"Profiler";case H:return"StrictMode";case q:return"Suspense";case ee:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case S:return"Portal";case D:return(i.displayName||"Context")+".Provider";case P:return(i._context.displayName||"Context")+".Consumer";case G:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case M:return s=i.displayName||null,s!==null?s:de(i.type)||"Memo";case C:s=i._payload,i=i._init;try{return de(i(s))}catch{}}return null}var fe=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},pe=[],z=-1;function te(i){return{current:i}}function se(i){0>z||(i.current=pe[z],pe[z]=null,z--)}function ue(i,s){z++,pe[z]=i.current,i.current=s}var ye=te(null),Ie=te(null),Ae=te(null),gt=te(null);function et(i,s){switch(ue(Ae,s),ue(Ie,i),ue(ye,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?B_(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=B_(s),i=H_(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}se(ye),ue(ye,i)}function Jn(){se(ye),se(Ie),se(Ae)}function wr(i){i.memoizedState!==null&&ue(gt,i);var s=ye.current,o=H_(s,i.type);s!==o&&(ue(Ie,i),ue(ye,o))}function Di(i){Ie.current===i&&(se(ye),se(Ie)),gt.current===i&&(se(gt),Fl._currentValue=ce)}var Es=Object.prototype.hasOwnProperty,Ts=n.unstable_scheduleCallback,bs=n.unstable_cancelCallback,Bo=n.unstable_shouldYield,Bu=n.unstable_requestPaint,Cn=n.unstable_now,Ff=n.unstable_getCurrentPriorityLevel,Ho=n.unstable_ImmediatePriority,ba=n.unstable_UserBlockingPriority,ws=n.unstable_NormalPriority,Gf=n.unstable_LowPriority,wa=n.unstable_IdlePriority,qo=n.log,Hu=n.unstable_setDisableYieldValue,lt=null,$e=null;function yn(i){if(typeof qo=="function"&&Hu(i),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(lt,i)}catch{}}var $t=Math.clz32?Math.clz32:Ss,qu=Math.log,$f=Math.LN2;function Ss(i){return i>>>=0,i===0?32:31-(qu(i)/$f|0)|0}var As=256,xs=4194304;function qn(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Sa(i,s,o){var u=i.pendingLanes;if(u===0)return 0;var h=0,g=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var x=u&134217727;return x!==0?(u=x&~g,u!==0?h=qn(u):(b&=x,b!==0?h=qn(b):o||(o=x&~i,o!==0&&(h=qn(o))))):(x=u&~g,x!==0?h=qn(x):b!==0?h=qn(b):o||(o=u&~i,o!==0&&(h=qn(o)))),h===0?0:s!==0&&s!==h&&(s&g)===0&&(g=h&-h,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:h}function Rs(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Fo(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Go(){var i=As;return As<<=1,(As&4194048)===0&&(As=256),i}function $o(){var i=xs;return xs<<=1,(xs&62914560)===0&&(xs=4194304),i}function Mi(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function Pi(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ko(i,s,o,u,h,g){var b=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var x=i.entanglements,B=i.expirationTimes,X=i.hiddenUpdates;for(o=b&~o;0<o;){var ie=31-$t(o),ae=1<<ie;x[ie]=0,B[ie]=-1;var Z=X[ie];if(Z!==null)for(X[ie]=null,ie=0;ie<Z.length;ie++){var J=Z[ie];J!==null&&(J.lane&=-536870913)}o&=~ae}u!==0&&ei(i,u,0),g!==0&&h===0&&i.tag!==0&&(i.suspendedLanes|=g&~(b&~s))}function ei(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-$t(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194090}function Yo(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var u=31-$t(o),h=1<<u;h&s|i[u]&s&&(i[u]|=s),o&=~h}}function Sr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Aa(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ar(){var i=W.p;return i!==0?i:(i=window.event,i===void 0?32:o0(i.type))}function Fu(i,s){var o=W.p;try{return W.p=i,s()}finally{W.p=o}}var nt=Math.random().toString(36).slice(2),bt="__reactFiber$"+nt,yt="__reactProps$"+nt,In="__reactContainer$"+nt,Qo="__reactEvents$"+nt,Kf="__reactListeners$"+nt,xr="__reactHandles$"+nt,Gu="__reactResources$"+nt,Cs="__reactMarker$"+nt;function Rr(i){delete i[bt],delete i[yt],delete i[Qo],delete i[Kf],delete i[xr]}function ki(i){var s=i[bt];if(s)return s;for(var o=i.parentNode;o;){if(s=o[In]||o[bt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=$_(i);i!==null;){if(o=i[bt])return o;i=$_(i)}return s}i=o,o=i.parentNode}return null}function ti(i){if(i=i[bt]||i[In]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function ni(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function tn(i){var s=i[Gu];return s||(s=i[Gu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ft(i){i[Cs]=!0}var Xo=new Set,xa={};function Fn(i,s){Vi(i,s),Vi(i+"Capture",s)}function Vi(i,s){for(xa[i]=s,i=0;i<s.length;i++)Xo.add(s[i])}var $u=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ku={},Is={};function Yu(i){return Es.call(Is,i)?!0:Es.call(Ku,i)?!1:$u.test(i)?Is[i]=!0:(Ku[i]=!0,!1)}function Cr(i,s,o){if(Yu(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function ii(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function jt(i,s,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+u)}}var Ns,Qu;function Li(i){if(Ns===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Ns=s&&s[1]||"",Qu=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ns+i+Qu}var Ra=!1;function Ca(i,s){if(!i||Ra)return"";Ra=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(J){var Z=J}Reflect.construct(i,[],ae)}else{try{ae.call()}catch(J){Z=J}i.call(ae.prototype)}}else{try{throw Error()}catch(J){Z=J}(ae=i())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(J){if(J&&Z&&typeof J.stack=="string")return[J.stack,Z.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),b=g[0],x=g[1];if(b&&x){var B=b.split(`
`),X=x.split(`
`);for(h=u=0;u<B.length&&!B[u].includes("DetermineComponentFrameRoot");)u++;for(;h<X.length&&!X[h].includes("DetermineComponentFrameRoot");)h++;if(u===B.length||h===X.length)for(u=B.length-1,h=X.length-1;1<=u&&0<=h&&B[u]!==X[h];)h--;for(;1<=u&&0<=h;u--,h--)if(B[u]!==X[h]){if(u!==1||h!==1)do if(u--,h--,0>h||B[u]!==X[h]){var ie=`
`+B[u].replace(" at new "," at ");return i.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",i.displayName)),ie}while(1<=u&&0<=h);break}}}finally{Ra=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Li(o):""}function Wo(i){switch(i.tag){case 26:case 27:case 5:return Li(i.type);case 16:return Li("Lazy");case 13:return Li("Suspense");case 19:return Li("SuspenseList");case 0:case 15:return Ca(i.type,!1);case 11:return Ca(i.type.render,!1);case 1:return Ca(i.type,!0);case 31:return Li("Activity");default:return""}}function Ia(i){try{var s="";do s+=Wo(i),i=i.return;while(i);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function nn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Zo(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Yf(i){var s=Zo(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),u=""+i[s];if(!i.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,g=o.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return h.call(this)},set:function(b){u=""+b,g.call(this,b)}}),Object.defineProperty(i,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(b){u=""+b},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Na(i){i._valueTracker||(i._valueTracker=Yf(i))}function Jo(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return i&&(u=Zo(i)?i.checked?"true":"false":i.value),i=u,i!==o?(s.setValue(i),!0):!1}function Os(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Qf=/[\n"\\]/g;function vt(i){return i.replace(Qf,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function vn(i,s,o,u,h,g,b,x){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),s!=null?b==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+nn(s)):i.value!==""+nn(s)&&(i.value=""+nn(s)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),s!=null?Ir(i,b,nn(s)):o!=null?Ir(i,b,nn(o)):u!=null&&i.removeAttribute("value"),h==null&&g!=null&&(i.defaultChecked=!!g),h!=null&&(i.checked=h&&typeof h!="function"&&typeof h!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?i.name=""+nn(x):i.removeAttribute("name")}function Ds(i,s,o,u,h,g,b,x){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+nn(o):"",s=s!=null?""+nn(s):o,x||s===i.value||(i.value=s),i.defaultValue=s}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=x?i.checked:!!u,i.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b)}function Ir(i,s,o){s==="number"&&Os(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function ji(i,s,o,u){if(i=i.options,s){s={};for(var h=0;h<o.length;h++)s["$"+o[h]]=!0;for(o=0;o<i.length;o++)h=s.hasOwnProperty("$"+i[o].value),i[o].selected!==h&&(i[o].selected=h),h&&u&&(i[o].defaultSelected=!0)}else{for(o=""+nn(o),s=null,h=0;h<i.length;h++){if(i[h].value===o){i[h].selected=!0,u&&(i[h].defaultSelected=!0);return}s!==null||i[h].disabled||(s=i[h])}s!==null&&(s.selected=!0)}}function Qe(i,s,o){if(s!=null&&(s=""+nn(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+nn(o):""}function Ms(i,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if(fe(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=nn(s),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function Nn(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var Ps=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xu(i,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,o):typeof o!="number"||o===0||Ps.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function el(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var h in s)u=s[h],s.hasOwnProperty(h)&&o[h]!==u&&Xu(i,h,u)}else for(var g in s)s.hasOwnProperty(g)&&Xu(i,g,s[g])}function tl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oa(i){return Wf.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Ui=null;function On(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var zi=null,Bi=null;function nl(i){var s=ti(i);if(s&&(i=s.stateNode)){var o=i[yt]||null;e:switch(i=s.stateNode,s.type){case"input":if(vn(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+vt(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==i&&u.form===i.form){var h=u[yt]||null;if(!h)throw Error(r(90));vn(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===i.form&&Jo(u)}break e;case"textarea":Qe(i,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&ji(i,!!o.multiple,s,!1)}}}var ri=!1;function Wu(i,s,o){if(ri)return i(s,o);ri=!0;try{var u=i(s);return u}finally{if(ri=!1,(zi!==null||Bi!==null)&&(Fc(),zi&&(s=zi,i=Bi,Bi=zi=null,nl(s),i)))for(s=0;s<i.length;s++)nl(i[s])}}function ks(i,s){var o=i.stateNode;if(o===null)return null;var u=o[yt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dn=!1;if(Gn)try{var Vs={};Object.defineProperty(Vs,"passive",{get:function(){Dn=!0}}),window.addEventListener("test",Vs,Vs),window.removeEventListener("test",Vs,Vs)}catch{Dn=!1}var si=null,Nr=null,Hi=null;function il(){if(Hi)return Hi;var i,s=Nr,o=s.length,u,h="value"in si?si.value:si.textContent,g=h.length;for(i=0;i<o&&s[i]===h[i];i++);var b=o-i;for(u=1;u<=b&&s[o-u]===h[g-u];u++);return Hi=h.slice(i,1<u?1-u:void 0)}function ai(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function oi(){return!0}function rl(){return!1}function Ot(i){function s(o,u,h,g,b){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var x in i)i.hasOwnProperty(x)&&(o=i[x],this[x]=o?o(g):g[x]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?oi:rl,this.isPropagationStopped=rl,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=oi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=oi)},persist:function(){},isPersistent:oi}),s}var Fe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Da=Ot(Fe),Ls=y({},Fe,{view:0,detail:0}),Zu=Ot(Ls),Ma,Pa,li,js=y({},Ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==li&&(li&&i.type==="mousemove"?(Ma=i.screenX-li.screenX,Pa=i.screenY-li.screenY):Pa=Ma=0,li=i),Ma)},movementY:function(i){return"movementY"in i?i.movementY:Pa}}),Mn=Ot(js),Ju=y({},js,{dataTransfer:0}),Zf=Ot(Ju),Us=y({},Ls,{relatedTarget:0}),ka=Ot(Us),sl=y({},Fe,{animationName:0,elapsedTime:0,pseudoElement:0}),Va=Ot(sl),ec=y({},Fe,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),La=Ot(ec),Jf=y({},Fe,{data:0}),al=Ot(Jf),zs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ol(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=nc[i])?!!s[i]:!1}function Bs(){return ol}var ic=y({},Ls,{key:function(i){if(i.key){var s=zs[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=ai(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?tc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bs,charCode:function(i){return i.type==="keypress"?ai(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ai(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),ja=Ot(ic),rc=y({},js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ll=Ot(rc),qi=y({},Ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bs}),sc=Ot(qi),ac=y({},Fe,{propertyName:0,elapsedTime:0,pseudoElement:0}),oc=Ot(ac),lc=y({},js,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ua=Ot(lc),rn=y({},Fe,{newState:0,oldState:0}),uc=Ot(rn),cc=[9,13,27,32],ui=Gn&&"CompositionEvent"in window,d=null;Gn&&"documentMode"in document&&(d=document.documentMode);var v=Gn&&"TextEvent"in window&&!d,T=Gn&&(!ui||d&&8<d&&11>=d),N=" ",Y=!1;function ne(i,s){switch(i){case"keyup":return cc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var je=!1;function wt(i,s){switch(i){case"compositionend":return he(s);case"keypress":return s.which!==32?null:(Y=!0,N);case"textInput":return i=s.data,i===N&&Y?null:i;default:return null}}function Ue(i,s){if(je)return i==="compositionend"||!ui&&ne(i,s)?(i=il(),Hi=Nr=si=null,je=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return T&&s.locale!=="ko"?null:s.data;default:return null}}var Dt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function St(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Dt[i.type]:s==="textarea"}function Fi(i,s,o,u){zi?Bi?Bi.push(u):Bi=[u]:zi=u,s=Xc(s,"onChange"),0<s.length&&(o=new Da("onChange","change",null,o,u),i.push({event:o,listeners:s}))}var Ut=null,ci=null;function ul(i){V_(i,0)}function dc(i){var s=ni(i);if(Jo(s))return i}function iy(i,s){if(i==="change")return s}var ry=!1;if(Gn){var eh;if(Gn){var th="oninput"in document;if(!th){var sy=document.createElement("div");sy.setAttribute("oninput","return;"),th=typeof sy.oninput=="function"}eh=th}else eh=!1;ry=eh&&(!document.documentMode||9<document.documentMode)}function ay(){Ut&&(Ut.detachEvent("onpropertychange",oy),ci=Ut=null)}function oy(i){if(i.propertyName==="value"&&dc(ci)){var s=[];Fi(s,ci,i,On(i)),Wu(ul,s)}}function VS(i,s,o){i==="focusin"?(ay(),Ut=s,ci=o,Ut.attachEvent("onpropertychange",oy)):i==="focusout"&&ay()}function LS(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return dc(ci)}function jS(i,s){if(i==="click")return dc(s)}function US(i,s){if(i==="input"||i==="change")return dc(s)}function zS(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var _n=typeof Object.is=="function"?Object.is:zS;function cl(i,s){if(_n(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!Es.call(s,h)||!_n(i[h],s[h]))return!1}return!0}function ly(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function uy(i,s){var o=ly(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=s&&u>=s)return{node:o,offset:s-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=ly(o)}}function cy(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?cy(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function dy(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Os(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=Os(i.document)}return s}function nh(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var BS=Gn&&"documentMode"in document&&11>=document.documentMode,za=null,ih=null,dl=null,rh=!1;function fy(i,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;rh||za==null||za!==Os(u)||(u=za,"selectionStart"in u&&nh(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),dl&&cl(dl,u)||(dl=u,u=Xc(ih,"onSelect"),0<u.length&&(s=new Da("onSelect","select",null,s,o),i.push({event:s,listeners:u}),s.target=za)))}function Hs(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var Ba={animationend:Hs("Animation","AnimationEnd"),animationiteration:Hs("Animation","AnimationIteration"),animationstart:Hs("Animation","AnimationStart"),transitionrun:Hs("Transition","TransitionRun"),transitionstart:Hs("Transition","TransitionStart"),transitioncancel:Hs("Transition","TransitionCancel"),transitionend:Hs("Transition","TransitionEnd")},sh={},hy={};Gn&&(hy=document.createElement("div").style,"AnimationEvent"in window||(delete Ba.animationend.animation,delete Ba.animationiteration.animation,delete Ba.animationstart.animation),"TransitionEvent"in window||delete Ba.transitionend.transition);function qs(i){if(sh[i])return sh[i];if(!Ba[i])return i;var s=Ba[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in hy)return sh[i]=s[o];return i}var py=qs("animationend"),my=qs("animationiteration"),gy=qs("animationstart"),HS=qs("transitionrun"),qS=qs("transitionstart"),FS=qs("transitioncancel"),yy=qs("transitionend"),vy=new Map,ah="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ah.push("scrollEnd");function $n(i,s){vy.set(i,s),Fn(s,[i])}var _y=new WeakMap;function Pn(i,s){if(typeof i=="object"&&i!==null){var o=_y.get(i);return o!==void 0?o:(s={value:i,source:s,stack:Ia(s)},_y.set(i,s),s)}return{value:i,source:s,stack:Ia(s)}}var kn=[],Ha=0,oh=0;function fc(){for(var i=Ha,s=oh=Ha=0;s<i;){var o=kn[s];kn[s++]=null;var u=kn[s];kn[s++]=null;var h=kn[s];kn[s++]=null;var g=kn[s];if(kn[s++]=null,u!==null&&h!==null){var b=u.pending;b===null?h.next=h:(h.next=b.next,b.next=h),u.pending=h}g!==0&&Ey(o,h,g)}}function hc(i,s,o,u){kn[Ha++]=i,kn[Ha++]=s,kn[Ha++]=o,kn[Ha++]=u,oh|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function lh(i,s,o,u){return hc(i,s,o,u),pc(i)}function qa(i,s){return hc(i,null,null,s),pc(i)}function Ey(i,s,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var h=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(h=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,h&&s!==null&&(h=31-$t(o),i=g.hiddenUpdates,u=i[h],u===null?i[h]=[s]:u.push(s),s.lane=o|536870912),g):null}function pc(i){if(50<Vl)throw Vl=0,pp=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Fa={};function GS(i,s,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(i,s,o,u){return new GS(i,s,o,u)}function uh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Gi(i,s){var o=i.alternate;return o===null?(o=En(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Ty(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function mc(i,s,o,u,h,g){var b=0;if(u=i,typeof i=="function")uh(i)&&(b=1);else if(typeof i=="string")b=KA(i,o,ye.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case I:return i=En(31,o,s,h),i.elementType=I,i.lanes=g,i;case R:return Fs(o.children,h,g,s);case H:b=8,h|=24;break;case j:return i=En(12,o,s,h|2),i.elementType=j,i.lanes=g,i;case q:return i=En(13,o,s,h),i.elementType=q,i.lanes=g,i;case ee:return i=En(19,o,s,h),i.elementType=ee,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case U:case D:b=10;break e;case P:b=9;break e;case G:b=11;break e;case M:b=14;break e;case C:b=16,u=null;break e}b=29,o=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=En(b,o,s,h),s.elementType=i,s.type=u,s.lanes=g,s}function Fs(i,s,o,u){return i=En(7,i,u,s),i.lanes=o,i}function ch(i,s,o){return i=En(6,i,null,s),i.lanes=o,i}function dh(i,s,o){return s=En(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Ga=[],$a=0,gc=null,yc=0,Vn=[],Ln=0,Gs=null,$i=1,Ki="";function $s(i,s){Ga[$a++]=yc,Ga[$a++]=gc,gc=i,yc=s}function by(i,s,o){Vn[Ln++]=$i,Vn[Ln++]=Ki,Vn[Ln++]=Gs,Gs=i;var u=$i;i=Ki;var h=32-$t(u)-1;u&=~(1<<h),o+=1;var g=32-$t(s)+h;if(30<g){var b=h-h%5;g=(u&(1<<b)-1).toString(32),u>>=b,h-=b,$i=1<<32-$t(s)+h|o<<h|u,Ki=g+i}else $i=1<<g|o<<h|u,Ki=i}function fh(i){i.return!==null&&($s(i,1),by(i,1,0))}function hh(i){for(;i===gc;)gc=Ga[--$a],Ga[$a]=null,yc=Ga[--$a],Ga[$a]=null;for(;i===Gs;)Gs=Vn[--Ln],Vn[Ln]=null,Ki=Vn[--Ln],Vn[Ln]=null,$i=Vn[--Ln],Vn[Ln]=null}var sn=null,ut=null,qe=!1,Ks=null,di=!1,ph=Error(r(519));function Ys(i){var s=Error(r(418,""));throw pl(Pn(s,i)),ph}function wy(i){var s=i.stateNode,o=i.type,u=i.memoizedProps;switch(s[bt]=i,s[yt]=u,o){case"dialog":ke("cancel",s),ke("close",s);break;case"iframe":case"object":case"embed":ke("load",s);break;case"video":case"audio":for(o=0;o<jl.length;o++)ke(jl[o],s);break;case"source":ke("error",s);break;case"img":case"image":case"link":ke("error",s),ke("load",s);break;case"details":ke("toggle",s);break;case"input":ke("invalid",s),Ds(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Na(s);break;case"select":ke("invalid",s);break;case"textarea":ke("invalid",s),Ms(s,u.value,u.defaultValue,u.children),Na(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||z_(s.textContent,o)?(u.popover!=null&&(ke("beforetoggle",s),ke("toggle",s)),u.onScroll!=null&&ke("scroll",s),u.onScrollEnd!=null&&ke("scrollend",s),u.onClick!=null&&(s.onclick=Wc),s=!0):s=!1,s||Ys(i)}function Sy(i){for(sn=i.return;sn;)switch(sn.tag){case 5:case 13:di=!1;return;case 27:case 3:di=!0;return;default:sn=sn.return}}function fl(i){if(i!==sn)return!1;if(!qe)return Sy(i),qe=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Np(i.type,i.memoizedProps)),o=!o),o&&ut&&Ys(i),Sy(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(s===0){ut=Yn(i.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;i=i.nextSibling}ut=null}}else s===27?(s=ut,$r(i.type)?(i=Pp,Pp=null,ut=i):ut=s):ut=sn?Yn(i.stateNode.nextSibling):null;return!0}function hl(){ut=sn=null,qe=!1}function Ay(){var i=Ks;return i!==null&&(cn===null?cn=i:cn.push.apply(cn,i),Ks=null),i}function pl(i){Ks===null?Ks=[i]:Ks.push(i)}var mh=te(null),Qs=null,Yi=null;function Or(i,s,o){ue(mh,s._currentValue),s._currentValue=o}function Qi(i){i._currentValue=mh.current,se(mh)}function gh(i,s,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===o)break;i=i.return}}function yh(i,s,o,u){var h=i.child;for(h!==null&&(h.return=i);h!==null;){var g=h.dependencies;if(g!==null){var b=h.child;g=g.firstContext;e:for(;g!==null;){var x=g;g=h;for(var B=0;B<s.length;B++)if(x.context===s[B]){g.lanes|=o,x=g.alternate,x!==null&&(x.lanes|=o),gh(g.return,o,i),u||(b=null);break e}g=x.next}}else if(h.tag===18){if(b=h.return,b===null)throw Error(r(341));b.lanes|=o,g=b.alternate,g!==null&&(g.lanes|=o),gh(b,o,i),b=null}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===i){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}}function ml(i,s,o,u){i=null;for(var h=s,g=!1;h!==null;){if(!g){if((h.flags&524288)!==0)g=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var b=h.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var x=h.type;_n(h.pendingProps.value,b.value)||(i!==null?i.push(x):i=[x])}}else if(h===gt.current){if(b=h.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(i!==null?i.push(Fl):i=[Fl])}h=h.return}i!==null&&yh(s,i,o,u),s.flags|=262144}function vc(i){for(i=i.firstContext;i!==null;){if(!_n(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Xs(i){Qs=i,Yi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Kt(i){return xy(Qs,i)}function _c(i,s){return Qs===null&&Xs(i),xy(i,s)}function xy(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Yi===null){if(i===null)throw Error(r(308));Yi=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Yi=Yi.next=s;return o}var $S=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},KS=n.unstable_scheduleCallback,YS=n.unstable_NormalPriority,At={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vh(){return{controller:new $S,data:new Map,refCount:0}}function gl(i){i.refCount--,i.refCount===0&&KS(YS,function(){i.controller.abort()})}var yl=null,_h=0,Ka=0,Ya=null;function QS(i,s){if(yl===null){var o=yl=[];_h=0,Ka=Tp(),Ya={status:"pending",value:void 0,then:function(u){o.push(u)}}}return _h++,s.then(Ry,Ry),s}function Ry(){if(--_h===0&&yl!==null){Ya!==null&&(Ya.status="fulfilled");var i=yl;yl=null,Ka=0,Ya=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function XS(i,s){var o=[],u={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var h=0;h<o.length;h++)(0,o[h])(s)},function(h){for(u.status="rejected",u.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),u}var Cy=$.S;$.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&QS(i,s),Cy!==null&&Cy(i,s)};var Ws=te(null);function Eh(){var i=Ws.current;return i!==null?i:tt.pooledCache}function Ec(i,s){s===null?ue(Ws,Ws.current):ue(Ws,s.pool)}function Iy(){var i=Eh();return i===null?null:{parent:At._currentValue,pool:i}}var vl=Error(r(460)),Ny=Error(r(474)),Tc=Error(r(542)),Th={then:function(){}};function Oy(i){return i=i.status,i==="fulfilled"||i==="rejected"}function bc(){}function Dy(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(bc,bc),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Py(i),i;default:if(typeof s.status=="string")s.then(bc,bc);else{if(i=tt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=u}},function(u){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Py(i),i}throw _l=s,vl}}var _l=null;function My(){if(_l===null)throw Error(r(459));var i=_l;return _l=null,i}function Py(i){if(i===vl||i===Tc)throw Error(r(483))}var Dr=!1;function bh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wh(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Mr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Pr(i,s,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Ke&2)!==0){var h=u.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),u.pending=s,s=pc(i),Ey(i,null,o),s}return hc(i,u,s,o),pc(i)}function El(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,Yo(i,o)}}function Sh(i,s){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?h=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?h=g=s:g=g.next=s}else h=g=s;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var Ah=!1;function Tl(){if(Ah){var i=Ya;if(i!==null)throw i}}function bl(i,s,o,u){Ah=!1;var h=i.updateQueue;Dr=!1;var g=h.firstBaseUpdate,b=h.lastBaseUpdate,x=h.shared.pending;if(x!==null){h.shared.pending=null;var B=x,X=B.next;B.next=null,b===null?g=X:b.next=X,b=B;var ie=i.alternate;ie!==null&&(ie=ie.updateQueue,x=ie.lastBaseUpdate,x!==b&&(x===null?ie.firstBaseUpdate=X:x.next=X,ie.lastBaseUpdate=B))}if(g!==null){var ae=h.baseState;b=0,ie=X=B=null,x=g;do{var Z=x.lane&-536870913,J=Z!==x.lane;if(J?(ze&Z)===Z:(u&Z)===Z){Z!==0&&Z===Ka&&(Ah=!0),ie!==null&&(ie=ie.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var xe=i,Te=x;Z=s;var Ze=o;switch(Te.tag){case 1:if(xe=Te.payload,typeof xe=="function"){ae=xe.call(Ze,ae,Z);break e}ae=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=Te.payload,Z=typeof xe=="function"?xe.call(Ze,ae,Z):xe,Z==null)break e;ae=y({},ae,Z);break e;case 2:Dr=!0}}Z=x.callback,Z!==null&&(i.flags|=64,J&&(i.flags|=8192),J=h.callbacks,J===null?h.callbacks=[Z]:J.push(Z))}else J={lane:Z,tag:x.tag,payload:x.payload,callback:x.callback,next:null},ie===null?(X=ie=J,B=ae):ie=ie.next=J,b|=Z;if(x=x.next,x===null){if(x=h.shared.pending,x===null)break;J=x,x=J.next,J.next=null,h.lastBaseUpdate=J,h.shared.pending=null}}while(!0);ie===null&&(B=ae),h.baseState=B,h.firstBaseUpdate=X,h.lastBaseUpdate=ie,g===null&&(h.shared.lanes=0),Hr|=b,i.lanes=b,i.memoizedState=ae}}function ky(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Vy(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)ky(o[i],s)}var Qa=te(null),wc=te(0);function Ly(i,s){i=nr,ue(wc,i),ue(Qa,s),nr=i|s.baseLanes}function xh(){ue(wc,nr),ue(Qa,Qa.current)}function Rh(){nr=wc.current,se(Qa),se(wc)}var kr=0,Oe=null,Xe=null,_t=null,Sc=!1,Xa=!1,Zs=!1,Ac=0,wl=0,Wa=null,WS=0;function ht(){throw Error(r(321))}function Ch(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!_n(i[o],s[o]))return!1;return!0}function Ih(i,s,o,u,h,g){return kr=g,Oe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,$.H=i===null||i.memoizedState===null?Ev:Tv,Zs=!1,g=o(u,h),Zs=!1,Xa&&(g=Uy(s,o,u,h)),jy(i),g}function jy(i){$.H=Oc;var s=Xe!==null&&Xe.next!==null;if(kr=0,_t=Xe=Oe=null,Sc=!1,wl=0,Wa=null,s)throw Error(r(300));i===null||Mt||(i=i.dependencies,i!==null&&vc(i)&&(Mt=!0))}function Uy(i,s,o,u){Oe=i;var h=0;do{if(Xa&&(Wa=null),wl=0,Xa=!1,25<=h)throw Error(r(301));if(h+=1,_t=Xe=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}$.H=rA,g=s(o,u)}while(Xa);return g}function ZS(){var i=$.H,s=i.useState()[0];return s=typeof s.then=="function"?Sl(s):s,i=i.useState()[0],(Xe!==null?Xe.memoizedState:null)!==i&&(Oe.flags|=1024),s}function Nh(){var i=Ac!==0;return Ac=0,i}function Oh(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function Dh(i){if(Sc){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Sc=!1}kr=0,_t=Xe=Oe=null,Xa=!1,wl=Ac=0,Wa=null}function ln(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Oe.memoizedState=_t=i:_t=_t.next=i,_t}function Et(){if(Xe===null){var i=Oe.alternate;i=i!==null?i.memoizedState:null}else i=Xe.next;var s=_t===null?Oe.memoizedState:_t.next;if(s!==null)_t=s,Xe=i;else{if(i===null)throw Oe.alternate===null?Error(r(467)):Error(r(310));Xe=i,i={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},_t===null?Oe.memoizedState=_t=i:_t=_t.next=i}return _t}function Mh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sl(i){var s=wl;return wl+=1,Wa===null&&(Wa=[]),i=Dy(Wa,i,s),s=Oe,(_t===null?s.memoizedState:_t.next)===null&&(s=s.alternate,$.H=s===null||s.memoizedState===null?Ev:Tv),i}function xc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Sl(i);if(i.$$typeof===D)return Kt(i)}throw Error(r(438,String(i)))}function Ph(i){var s=null,o=Oe.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Oe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Mh(),Oe.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),u=0;u<i;u++)o[u]=O;return s.index++,o}function Xi(i,s){return typeof s=="function"?s(i):s}function Rc(i){var s=Et();return kh(s,Xe,i)}function kh(i,s,o){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var h=i.baseQueue,g=u.pending;if(g!==null){if(h!==null){var b=h.next;h.next=g.next,g.next=b}s.baseQueue=h=g,u.pending=null}if(g=i.baseState,h===null)i.memoizedState=g;else{s=h.next;var x=b=null,B=null,X=s,ie=!1;do{var ae=X.lane&-536870913;if(ae!==X.lane?(ze&ae)===ae:(kr&ae)===ae){var Z=X.revertLane;if(Z===0)B!==null&&(B=B.next={lane:0,revertLane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),ae===Ka&&(ie=!0);else if((kr&Z)===Z){X=X.next,Z===Ka&&(ie=!0);continue}else ae={lane:0,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},B===null?(x=B=ae,b=g):B=B.next=ae,Oe.lanes|=Z,Hr|=Z;ae=X.action,Zs&&o(g,ae),g=X.hasEagerState?X.eagerState:o(g,ae)}else Z={lane:ae,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},B===null?(x=B=Z,b=g):B=B.next=Z,Oe.lanes|=ae,Hr|=ae;X=X.next}while(X!==null&&X!==s);if(B===null?b=g:B.next=x,!_n(g,i.memoizedState)&&(Mt=!0,ie&&(o=Ya,o!==null)))throw o;i.memoizedState=g,i.baseState=b,i.baseQueue=B,u.lastRenderedState=g}return h===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Vh(i){var s=Et(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var u=o.dispatch,h=o.pending,g=s.memoizedState;if(h!==null){o.pending=null;var b=h=h.next;do g=i(g,b.action),b=b.next;while(b!==h);_n(g,s.memoizedState)||(Mt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function zy(i,s,o){var u=Oe,h=Et(),g=qe;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=s();var b=!_n((Xe||h).memoizedState,o);b&&(h.memoizedState=o,Mt=!0),h=h.queue;var x=qy.bind(null,u,h,i);if(Al(2048,8,x,[i]),h.getSnapshot!==s||b||_t!==null&&_t.memoizedState.tag&1){if(u.flags|=2048,Za(9,Cc(),Hy.bind(null,u,h,o,s),null),tt===null)throw Error(r(349));g||(kr&124)!==0||By(u,s,o)}return o}function By(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=Oe.updateQueue,s===null?(s=Mh(),Oe.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function Hy(i,s,o,u){s.value=o,s.getSnapshot=u,Fy(s)&&Gy(i)}function qy(i,s,o){return o(function(){Fy(s)&&Gy(i)})}function Fy(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!_n(i,o)}catch{return!0}}function Gy(i){var s=qa(i,2);s!==null&&An(s,i,2)}function Lh(i){var s=ln();if(typeof i=="function"){var o=i;if(i=o(),Zs){yn(!0);try{o()}finally{yn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:i},s}function $y(i,s,o,u){return i.baseState=o,kh(i,Xe,typeof u=="function"?u:Xi)}function JS(i,s,o,u,h){if(Nc(i))throw Error(r(485));if(i=s.action,i!==null){var g={payload:h,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};$.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,Ky(s,g)):(g.next=o.next,s.pending=o.next=g)}}function Ky(i,s){var o=s.action,u=s.payload,h=i.state;if(s.isTransition){var g=$.T,b={};$.T=b;try{var x=o(h,u),B=$.S;B!==null&&B(b,x),Yy(i,s,x)}catch(X){jh(i,s,X)}finally{$.T=g}}else try{g=o(h,u),Yy(i,s,g)}catch(X){jh(i,s,X)}}function Yy(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Qy(i,s,u)},function(u){return jh(i,s,u)}):Qy(i,s,o)}function Qy(i,s,o){s.status="fulfilled",s.value=o,Xy(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,Ky(i,o)))}function jh(i,s,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,Xy(s),s=s.next;while(s!==u)}i.action=null}function Xy(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function Wy(i,s){return s}function Zy(i,s){if(qe){var o=tt.formState;if(o!==null){e:{var u=Oe;if(qe){if(ut){t:{for(var h=ut,g=di;h.nodeType!==8;){if(!g){h=null;break t}if(h=Yn(h.nextSibling),h===null){h=null;break t}}g=h.data,h=g==="F!"||g==="F"?h:null}if(h){ut=Yn(h.nextSibling),u=h.data==="F!";break e}}Ys(u)}u=!1}u&&(s=o[0])}}return o=ln(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wy,lastRenderedState:s},o.queue=u,o=yv.bind(null,Oe,u),u.dispatch=o,u=Lh(!1),g=qh.bind(null,Oe,!1,u.queue),u=ln(),h={state:s,dispatch:null,action:i,pending:null},u.queue=h,o=JS.bind(null,Oe,h,g,o),h.dispatch=o,u.memoizedState=i,[s,o,!1]}function Jy(i){var s=Et();return ev(s,Xe,i)}function ev(i,s,o){if(s=kh(i,s,Wy)[0],i=Rc(Xi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Sl(s)}catch(b){throw b===vl?Tc:b}else u=s;s=Et();var h=s.queue,g=h.dispatch;return o!==s.memoizedState&&(Oe.flags|=2048,Za(9,Cc(),eA.bind(null,h,o),null)),[u,g,i]}function eA(i,s){i.action=s}function tv(i){var s=Et(),o=Xe;if(o!==null)return ev(s,o,i);Et(),s=s.memoizedState,o=Et();var u=o.queue.dispatch;return o.memoizedState=i,[s,u,!1]}function Za(i,s,o,u){return i={tag:i,create:o,deps:u,inst:s,next:null},s=Oe.updateQueue,s===null&&(s=Mh(),Oe.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,s.lastEffect=i),i}function Cc(){return{destroy:void 0,resource:void 0}}function nv(){return Et().memoizedState}function Ic(i,s,o,u){var h=ln();u=u===void 0?null:u,Oe.flags|=i,h.memoizedState=Za(1|s,Cc(),o,u)}function Al(i,s,o,u){var h=Et();u=u===void 0?null:u;var g=h.memoizedState.inst;Xe!==null&&u!==null&&Ch(u,Xe.memoizedState.deps)?h.memoizedState=Za(s,g,o,u):(Oe.flags|=i,h.memoizedState=Za(1|s,g,o,u))}function iv(i,s){Ic(8390656,8,i,s)}function rv(i,s){Al(2048,8,i,s)}function sv(i,s){return Al(4,2,i,s)}function av(i,s){return Al(4,4,i,s)}function ov(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function lv(i,s,o){o=o!=null?o.concat([i]):null,Al(4,4,ov.bind(null,s,i),o)}function Uh(){}function uv(i,s){var o=Et();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Ch(s,u[1])?u[0]:(o.memoizedState=[i,s],i)}function cv(i,s){var o=Et();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Ch(s,u[1]))return u[0];if(u=i(),Zs){yn(!0);try{i()}finally{yn(!1)}}return o.memoizedState=[u,s],u}function zh(i,s,o){return o===void 0||(kr&1073741824)!==0?i.memoizedState=s:(i.memoizedState=o,i=h_(),Oe.lanes|=i,Hr|=i,o)}function dv(i,s,o,u){return _n(o,s)?o:Qa.current!==null?(i=zh(i,o,u),_n(i,s)||(Mt=!0),i):(kr&42)===0?(Mt=!0,i.memoizedState=o):(i=h_(),Oe.lanes|=i,Hr|=i,s)}function fv(i,s,o,u,h){var g=W.p;W.p=g!==0&&8>g?g:8;var b=$.T,x={};$.T=x,qh(i,!1,s,o);try{var B=h(),X=$.S;if(X!==null&&X(x,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var ie=XS(B,u);xl(i,s,ie,Sn(i))}else xl(i,s,u,Sn(i))}catch(ae){xl(i,s,{then:function(){},status:"rejected",reason:ae},Sn())}finally{W.p=g,$.T=b}}function tA(){}function Bh(i,s,o,u){if(i.tag!==5)throw Error(r(476));var h=hv(i).queue;fv(i,h,s,ce,o===null?tA:function(){return pv(i),o(u)})}function hv(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:ce},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function pv(i){var s=hv(i).next.queue;xl(i,s,{},Sn())}function Hh(){return Kt(Fl)}function mv(){return Et().memoizedState}function gv(){return Et().memoizedState}function nA(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=Sn();i=Mr(o);var u=Pr(s,i,o);u!==null&&(An(u,s,o),El(u,s,o)),s={cache:vh()},i.payload=s;return}s=s.return}}function iA(i,s,o){var u=Sn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Nc(i)?vv(s,o):(o=lh(i,s,o,u),o!==null&&(An(o,i,u),_v(o,s,u)))}function yv(i,s,o){var u=Sn();xl(i,s,o,u)}function xl(i,s,o,u){var h={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Nc(i))vv(s,h);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var b=s.lastRenderedState,x=g(b,o);if(h.hasEagerState=!0,h.eagerState=x,_n(x,b))return hc(i,s,h,0),tt===null&&fc(),!1}catch{}finally{}if(o=lh(i,s,h,u),o!==null)return An(o,i,u),_v(o,s,u),!0}return!1}function qh(i,s,o,u){if(u={lane:2,revertLane:Tp(),action:u,hasEagerState:!1,eagerState:null,next:null},Nc(i)){if(s)throw Error(r(479))}else s=lh(i,o,u,2),s!==null&&An(s,i,2)}function Nc(i){var s=i.alternate;return i===Oe||s!==null&&s===Oe}function vv(i,s){Xa=Sc=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function _v(i,s,o){if((o&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,Yo(i,o)}}var Oc={readContext:Kt,use:xc,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht},Ev={readContext:Kt,use:xc,useCallback:function(i,s){return ln().memoizedState=[i,s===void 0?null:s],i},useContext:Kt,useEffect:iv,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,Ic(4194308,4,ov.bind(null,s,i),o)},useLayoutEffect:function(i,s){return Ic(4194308,4,i,s)},useInsertionEffect:function(i,s){Ic(4,2,i,s)},useMemo:function(i,s){var o=ln();s=s===void 0?null:s;var u=i();if(Zs){yn(!0);try{i()}finally{yn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(i,s,o){var u=ln();if(o!==void 0){var h=o(s);if(Zs){yn(!0);try{o(s)}finally{yn(!1)}}}else h=s;return u.memoizedState=u.baseState=h,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:h},u.queue=i,i=i.dispatch=iA.bind(null,Oe,i),[u.memoizedState,i]},useRef:function(i){var s=ln();return i={current:i},s.memoizedState=i},useState:function(i){i=Lh(i);var s=i.queue,o=yv.bind(null,Oe,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:Uh,useDeferredValue:function(i,s){var o=ln();return zh(o,i,s)},useTransition:function(){var i=Lh(!1);return i=fv.bind(null,Oe,i.queue,!0,!1),ln().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var u=Oe,h=ln();if(qe){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),tt===null)throw Error(r(349));(ze&124)!==0||By(u,s,o)}h.memoizedState=o;var g={value:o,getSnapshot:s};return h.queue=g,iv(qy.bind(null,u,g,i),[i]),u.flags|=2048,Za(9,Cc(),Hy.bind(null,u,g,o,s),null),o},useId:function(){var i=ln(),s=tt.identifierPrefix;if(qe){var o=Ki,u=$i;o=(u&~(1<<32-$t(u)-1)).toString(32)+o,s="«"+s+"R"+o,o=Ac++,0<o&&(s+="H"+o.toString(32)),s+="»"}else o=WS++,s="«"+s+"r"+o.toString(32)+"»";return i.memoizedState=s},useHostTransitionStatus:Hh,useFormState:Zy,useActionState:Zy,useOptimistic:function(i){var s=ln();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=qh.bind(null,Oe,!0,o),o.dispatch=s,[i,s]},useMemoCache:Ph,useCacheRefresh:function(){return ln().memoizedState=nA.bind(null,Oe)}},Tv={readContext:Kt,use:xc,useCallback:uv,useContext:Kt,useEffect:rv,useImperativeHandle:lv,useInsertionEffect:sv,useLayoutEffect:av,useMemo:cv,useReducer:Rc,useRef:nv,useState:function(){return Rc(Xi)},useDebugValue:Uh,useDeferredValue:function(i,s){var o=Et();return dv(o,Xe.memoizedState,i,s)},useTransition:function(){var i=Rc(Xi)[0],s=Et().memoizedState;return[typeof i=="boolean"?i:Sl(i),s]},useSyncExternalStore:zy,useId:mv,useHostTransitionStatus:Hh,useFormState:Jy,useActionState:Jy,useOptimistic:function(i,s){var o=Et();return $y(o,Xe,i,s)},useMemoCache:Ph,useCacheRefresh:gv},rA={readContext:Kt,use:xc,useCallback:uv,useContext:Kt,useEffect:rv,useImperativeHandle:lv,useInsertionEffect:sv,useLayoutEffect:av,useMemo:cv,useReducer:Vh,useRef:nv,useState:function(){return Vh(Xi)},useDebugValue:Uh,useDeferredValue:function(i,s){var o=Et();return Xe===null?zh(o,i,s):dv(o,Xe.memoizedState,i,s)},useTransition:function(){var i=Vh(Xi)[0],s=Et().memoizedState;return[typeof i=="boolean"?i:Sl(i),s]},useSyncExternalStore:zy,useId:mv,useHostTransitionStatus:Hh,useFormState:tv,useActionState:tv,useOptimistic:function(i,s){var o=Et();return Xe!==null?$y(o,Xe,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Ph,useCacheRefresh:gv},Ja=null,Rl=0;function Dc(i){var s=Rl;return Rl+=1,Ja===null&&(Ja=[]),Dy(Ja,i,s)}function Cl(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Mc(i,s){throw s.$$typeof===_?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function bv(i){var s=i._init;return s(i._payload)}function wv(i){function s(K,F){if(i){var Q=K.deletions;Q===null?(K.deletions=[F],K.flags|=16):Q.push(F)}}function o(K,F){if(!i)return null;for(;F!==null;)s(K,F),F=F.sibling;return null}function u(K){for(var F=new Map;K!==null;)K.key!==null?F.set(K.key,K):F.set(K.index,K),K=K.sibling;return F}function h(K,F){return K=Gi(K,F),K.index=0,K.sibling=null,K}function g(K,F,Q){return K.index=Q,i?(Q=K.alternate,Q!==null?(Q=Q.index,Q<F?(K.flags|=67108866,F):Q):(K.flags|=67108866,F)):(K.flags|=1048576,F)}function b(K){return i&&K.alternate===null&&(K.flags|=67108866),K}function x(K,F,Q,re){return F===null||F.tag!==6?(F=ch(Q,K.mode,re),F.return=K,F):(F=h(F,Q),F.return=K,F)}function B(K,F,Q,re){var ge=Q.type;return ge===R?ie(K,F,Q.props.children,re,Q.key):F!==null&&(F.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===C&&bv(ge)===F.type)?(F=h(F,Q.props),Cl(F,Q),F.return=K,F):(F=mc(Q.type,Q.key,Q.props,null,K.mode,re),Cl(F,Q),F.return=K,F)}function X(K,F,Q,re){return F===null||F.tag!==4||F.stateNode.containerInfo!==Q.containerInfo||F.stateNode.implementation!==Q.implementation?(F=dh(Q,K.mode,re),F.return=K,F):(F=h(F,Q.children||[]),F.return=K,F)}function ie(K,F,Q,re,ge){return F===null||F.tag!==7?(F=Fs(Q,K.mode,re,ge),F.return=K,F):(F=h(F,Q),F.return=K,F)}function ae(K,F,Q){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=ch(""+F,K.mode,Q),F.return=K,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case E:return Q=mc(F.type,F.key,F.props,null,K.mode,Q),Cl(Q,F),Q.return=K,Q;case S:return F=dh(F,K.mode,Q),F.return=K,F;case C:var re=F._init;return F=re(F._payload),ae(K,F,Q)}if(fe(F)||V(F))return F=Fs(F,K.mode,Q,null),F.return=K,F;if(typeof F.then=="function")return ae(K,Dc(F),Q);if(F.$$typeof===D)return ae(K,_c(K,F),Q);Mc(K,F)}return null}function Z(K,F,Q,re){var ge=F!==null?F.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return ge!==null?null:x(K,F,""+Q,re);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case E:return Q.key===ge?B(K,F,Q,re):null;case S:return Q.key===ge?X(K,F,Q,re):null;case C:return ge=Q._init,Q=ge(Q._payload),Z(K,F,Q,re)}if(fe(Q)||V(Q))return ge!==null?null:ie(K,F,Q,re,null);if(typeof Q.then=="function")return Z(K,F,Dc(Q),re);if(Q.$$typeof===D)return Z(K,F,_c(K,Q),re);Mc(K,Q)}return null}function J(K,F,Q,re,ge){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return K=K.get(Q)||null,x(F,K,""+re,ge);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case E:return K=K.get(re.key===null?Q:re.key)||null,B(F,K,re,ge);case S:return K=K.get(re.key===null?Q:re.key)||null,X(F,K,re,ge);case C:var Me=re._init;return re=Me(re._payload),J(K,F,Q,re,ge)}if(fe(re)||V(re))return K=K.get(Q)||null,ie(F,K,re,ge,null);if(typeof re.then=="function")return J(K,F,Q,Dc(re),ge);if(re.$$typeof===D)return J(K,F,Q,_c(F,re),ge);Mc(F,re)}return null}function xe(K,F,Q,re){for(var ge=null,Me=null,ve=F,be=F=0,kt=null;ve!==null&&be<Q.length;be++){ve.index>be?(kt=ve,ve=null):kt=ve.sibling;var He=Z(K,ve,Q[be],re);if(He===null){ve===null&&(ve=kt);break}i&&ve&&He.alternate===null&&s(K,ve),F=g(He,F,be),Me===null?ge=He:Me.sibling=He,Me=He,ve=kt}if(be===Q.length)return o(K,ve),qe&&$s(K,be),ge;if(ve===null){for(;be<Q.length;be++)ve=ae(K,Q[be],re),ve!==null&&(F=g(ve,F,be),Me===null?ge=ve:Me.sibling=ve,Me=ve);return qe&&$s(K,be),ge}for(ve=u(ve);be<Q.length;be++)kt=J(ve,K,be,Q[be],re),kt!==null&&(i&&kt.alternate!==null&&ve.delete(kt.key===null?be:kt.key),F=g(kt,F,be),Me===null?ge=kt:Me.sibling=kt,Me=kt);return i&&ve.forEach(function(Wr){return s(K,Wr)}),qe&&$s(K,be),ge}function Te(K,F,Q,re){if(Q==null)throw Error(r(151));for(var ge=null,Me=null,ve=F,be=F=0,kt=null,He=Q.next();ve!==null&&!He.done;be++,He=Q.next()){ve.index>be?(kt=ve,ve=null):kt=ve.sibling;var Wr=Z(K,ve,He.value,re);if(Wr===null){ve===null&&(ve=kt);break}i&&ve&&Wr.alternate===null&&s(K,ve),F=g(Wr,F,be),Me===null?ge=Wr:Me.sibling=Wr,Me=Wr,ve=kt}if(He.done)return o(K,ve),qe&&$s(K,be),ge;if(ve===null){for(;!He.done;be++,He=Q.next())He=ae(K,He.value,re),He!==null&&(F=g(He,F,be),Me===null?ge=He:Me.sibling=He,Me=He);return qe&&$s(K,be),ge}for(ve=u(ve);!He.done;be++,He=Q.next())He=J(ve,K,be,He.value,re),He!==null&&(i&&He.alternate!==null&&ve.delete(He.key===null?be:He.key),F=g(He,F,be),Me===null?ge=He:Me.sibling=He,Me=He);return i&&ve.forEach(function(s1){return s(K,s1)}),qe&&$s(K,be),ge}function Ze(K,F,Q,re){if(typeof Q=="object"&&Q!==null&&Q.type===R&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case E:e:{for(var ge=Q.key;F!==null;){if(F.key===ge){if(ge=Q.type,ge===R){if(F.tag===7){o(K,F.sibling),re=h(F,Q.props.children),re.return=K,K=re;break e}}else if(F.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===C&&bv(ge)===F.type){o(K,F.sibling),re=h(F,Q.props),Cl(re,Q),re.return=K,K=re;break e}o(K,F);break}else s(K,F);F=F.sibling}Q.type===R?(re=Fs(Q.props.children,K.mode,re,Q.key),re.return=K,K=re):(re=mc(Q.type,Q.key,Q.props,null,K.mode,re),Cl(re,Q),re.return=K,K=re)}return b(K);case S:e:{for(ge=Q.key;F!==null;){if(F.key===ge)if(F.tag===4&&F.stateNode.containerInfo===Q.containerInfo&&F.stateNode.implementation===Q.implementation){o(K,F.sibling),re=h(F,Q.children||[]),re.return=K,K=re;break e}else{o(K,F);break}else s(K,F);F=F.sibling}re=dh(Q,K.mode,re),re.return=K,K=re}return b(K);case C:return ge=Q._init,Q=ge(Q._payload),Ze(K,F,Q,re)}if(fe(Q))return xe(K,F,Q,re);if(V(Q)){if(ge=V(Q),typeof ge!="function")throw Error(r(150));return Q=ge.call(Q),Te(K,F,Q,re)}if(typeof Q.then=="function")return Ze(K,F,Dc(Q),re);if(Q.$$typeof===D)return Ze(K,F,_c(K,Q),re);Mc(K,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,F!==null&&F.tag===6?(o(K,F.sibling),re=h(F,Q),re.return=K,K=re):(o(K,F),re=ch(Q,K.mode,re),re.return=K,K=re),b(K)):o(K,F)}return function(K,F,Q,re){try{Rl=0;var ge=Ze(K,F,Q,re);return Ja=null,ge}catch(ve){if(ve===vl||ve===Tc)throw ve;var Me=En(29,ve,null,K.mode);return Me.lanes=re,Me.return=K,Me}finally{}}}var eo=wv(!0),Sv=wv(!1),jn=te(null),fi=null;function Vr(i){var s=i.alternate;ue(xt,xt.current&1),ue(jn,i),fi===null&&(s===null||Qa.current!==null||s.memoizedState!==null)&&(fi=i)}function Av(i){if(i.tag===22){if(ue(xt,xt.current),ue(jn,i),fi===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(fi=i)}}else Lr()}function Lr(){ue(xt,xt.current),ue(jn,jn.current)}function Wi(i){se(jn),fi===i&&(fi=null),se(xt)}var xt=te(0);function Pc(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Mp(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Fh(i,s,o,u){s=i.memoizedState,o=o(u,s),o=o==null?s:y({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Gh={enqueueSetState:function(i,s,o){i=i._reactInternals;var u=Sn(),h=Mr(u);h.payload=s,o!=null&&(h.callback=o),s=Pr(i,h,u),s!==null&&(An(s,i,u),El(s,i,u))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var u=Sn(),h=Mr(u);h.tag=1,h.payload=s,o!=null&&(h.callback=o),s=Pr(i,h,u),s!==null&&(An(s,i,u),El(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=Sn(),u=Mr(o);u.tag=2,s!=null&&(u.callback=s),s=Pr(i,u,o),s!==null&&(An(s,i,o),El(s,i,o))}};function xv(i,s,o,u,h,g,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,b):s.prototype&&s.prototype.isPureReactComponent?!cl(o,u)||!cl(h,g):!0}function Rv(i,s,o,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==i&&Gh.enqueueReplaceState(s,s.state,null)}function Js(i,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(i=i.defaultProps){o===s&&(o=y({},o));for(var h in i)o[h]===void 0&&(o[h]=i[h])}return o}var kc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Cv(i){kc(i)}function Iv(i){console.error(i)}function Nv(i){kc(i)}function Vc(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function Ov(i,s,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function $h(i,s,o){return o=Mr(o),o.tag=3,o.payload={element:null},o.callback=function(){Vc(i,s)},o}function Dv(i){return i=Mr(i),i.tag=3,i}function Mv(i,s,o,u){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var g=u.value;i.payload=function(){return h(g)},i.callback=function(){Ov(s,o,u)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){Ov(s,o,u),typeof h!="function"&&(qr===null?qr=new Set([this]):qr.add(this));var x=u.stack;this.componentDidCatch(u.value,{componentStack:x!==null?x:""})})}function sA(i,s,o,u,h){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&ml(s,o,h,!0),o=jn.current,o!==null){switch(o.tag){case 13:return fi===null?gp():o.alternate===null&&ct===0&&(ct=3),o.flags&=-257,o.flags|=65536,o.lanes=h,u===Th?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),vp(i,u,h)),!1;case 22:return o.flags|=65536,u===Th?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),vp(i,u,h)),!1}throw Error(r(435,o.tag))}return vp(i,u,h),gp(),!1}if(qe)return s=jn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,u!==ph&&(i=Error(r(422),{cause:u}),pl(Pn(i,o)))):(u!==ph&&(s=Error(r(423),{cause:u}),pl(Pn(s,o))),i=i.current.alternate,i.flags|=65536,h&=-h,i.lanes|=h,u=Pn(u,o),h=$h(i.stateNode,u,h),Sh(i,h),ct!==4&&(ct=2)),!1;var g=Error(r(520),{cause:u});if(g=Pn(g,o),kl===null?kl=[g]:kl.push(g),ct!==4&&(ct=2),s===null)return!0;u=Pn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=h&-h,o.lanes|=i,i=$h(o.stateNode,u,i),Sh(o,i),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(qr===null||!qr.has(g))))return o.flags|=65536,h&=-h,o.lanes|=h,h=Dv(h),Mv(h,i,o,u),Sh(o,h),!1}o=o.return}while(o!==null);return!1}var Pv=Error(r(461)),Mt=!1;function zt(i,s,o,u){s.child=i===null?Sv(s,null,o,u):eo(s,i.child,o,u)}function kv(i,s,o,u,h){o=o.render;var g=s.ref;if("ref"in u){var b={};for(var x in u)x!=="ref"&&(b[x]=u[x])}else b=u;return Xs(s),u=Ih(i,s,o,b,g,h),x=Nh(),i!==null&&!Mt?(Oh(i,s,h),Zi(i,s,h)):(qe&&x&&fh(s),s.flags|=1,zt(i,s,u,h),s.child)}function Vv(i,s,o,u,h){if(i===null){var g=o.type;return typeof g=="function"&&!uh(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,Lv(i,s,g,u,h)):(i=mc(o.type,null,u,s,s.mode,h),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!ep(i,h)){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:cl,o(b,u)&&i.ref===s.ref)return Zi(i,s,h)}return s.flags|=1,i=Gi(g,u),i.ref=s.ref,i.return=s,s.child=i}function Lv(i,s,o,u,h){if(i!==null){var g=i.memoizedProps;if(cl(g,u)&&i.ref===s.ref)if(Mt=!1,s.pendingProps=u=g,ep(i,h))(i.flags&131072)!==0&&(Mt=!0);else return s.lanes=i.lanes,Zi(i,s,h)}return Kh(i,s,o,u,h)}function jv(i,s,o){var u=s.pendingProps,h=u.children,g=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,i!==null){for(h=s.child=i.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return Uv(i,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Ec(s,g!==null?g.cachePool:null),g!==null?Ly(s,g):xh(),Av(s);else return s.lanes=s.childLanes=536870912,Uv(i,s,g!==null?g.baseLanes|o:o,o)}else g!==null?(Ec(s,g.cachePool),Ly(s,g),Lr(),s.memoizedState=null):(i!==null&&Ec(s,null),xh(),Lr());return zt(i,s,h,o),s.child}function Uv(i,s,o,u){var h=Eh();return h=h===null?null:{parent:At._currentValue,pool:h},s.memoizedState={baseLanes:o,cachePool:h},i!==null&&Ec(s,null),xh(),Av(s),i!==null&&ml(i,s,u,!0),null}function Lc(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function Kh(i,s,o,u,h){return Xs(s),o=Ih(i,s,o,u,void 0,h),u=Nh(),i!==null&&!Mt?(Oh(i,s,h),Zi(i,s,h)):(qe&&u&&fh(s),s.flags|=1,zt(i,s,o,h),s.child)}function zv(i,s,o,u,h,g){return Xs(s),s.updateQueue=null,o=Uy(s,u,o,h),jy(i),u=Nh(),i!==null&&!Mt?(Oh(i,s,g),Zi(i,s,g)):(qe&&u&&fh(s),s.flags|=1,zt(i,s,o,g),s.child)}function Bv(i,s,o,u,h){if(Xs(s),s.stateNode===null){var g=Fa,b=o.contextType;typeof b=="object"&&b!==null&&(g=Kt(b)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Gh,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},bh(s),b=o.contextType,g.context=typeof b=="object"&&b!==null?Kt(b):Fa,g.state=s.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(Fh(s,o,b,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&Gh.enqueueReplaceState(g,g.state,null),bl(s,u,g,h),Tl(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){g=s.stateNode;var x=s.memoizedProps,B=Js(o,x);g.props=B;var X=g.context,ie=o.contextType;b=Fa,typeof ie=="object"&&ie!==null&&(b=Kt(ie));var ae=o.getDerivedStateFromProps;ie=typeof ae=="function"||typeof g.getSnapshotBeforeUpdate=="function",x=s.pendingProps!==x,ie||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x||X!==b)&&Rv(s,g,u,b),Dr=!1;var Z=s.memoizedState;g.state=Z,bl(s,u,g,h),Tl(),X=s.memoizedState,x||Z!==X||Dr?(typeof ae=="function"&&(Fh(s,o,ae,u),X=s.memoizedState),(B=Dr||xv(s,o,B,u,Z,X,b))?(ie||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=X),g.props=u,g.state=X,g.context=b,u=B):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,wh(i,s),b=s.memoizedProps,ie=Js(o,b),g.props=ie,ae=s.pendingProps,Z=g.context,X=o.contextType,B=Fa,typeof X=="object"&&X!==null&&(B=Kt(X)),x=o.getDerivedStateFromProps,(X=typeof x=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==ae||Z!==B)&&Rv(s,g,u,B),Dr=!1,Z=s.memoizedState,g.state=Z,bl(s,u,g,h),Tl();var J=s.memoizedState;b!==ae||Z!==J||Dr||i!==null&&i.dependencies!==null&&vc(i.dependencies)?(typeof x=="function"&&(Fh(s,o,x,u),J=s.memoizedState),(ie=Dr||xv(s,o,ie,u,Z,J,B)||i!==null&&i.dependencies!==null&&vc(i.dependencies))?(X||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,J,B),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,J,B)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&Z===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&Z===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=J),g.props=u,g.state=J,g.context=B,u=ie):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&Z===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&Z===i.memoizedState||(s.flags|=1024),u=!1)}return g=u,Lc(i,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&u?(s.child=eo(s,i.child,null,h),s.child=eo(s,null,o,h)):zt(i,s,o,h),s.memoizedState=g.state,i=s.child):i=Zi(i,s,h),i}function Hv(i,s,o,u){return hl(),s.flags|=256,zt(i,s,o,u),s.child}var Yh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qh(i){return{baseLanes:i,cachePool:Iy()}}function Xh(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=Un),i}function qv(i,s,o){var u=s.pendingProps,h=!1,g=(s.flags&128)!==0,b;if((b=g)||(b=i!==null&&i.memoizedState===null?!1:(xt.current&2)!==0),b&&(h=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,i===null){if(qe){if(h?Vr(s):Lr(),qe){var x=ut,B;if(B=x){e:{for(B=x,x=di;B.nodeType!==8;){if(!x){x=null;break e}if(B=Yn(B.nextSibling),B===null){x=null;break e}}x=B}x!==null?(s.memoizedState={dehydrated:x,treeContext:Gs!==null?{id:$i,overflow:Ki}:null,retryLane:536870912,hydrationErrors:null},B=En(18,null,null,0),B.stateNode=x,B.return=s,s.child=B,sn=s,ut=null,B=!0):B=!1}B||Ys(s)}if(x=s.memoizedState,x!==null&&(x=x.dehydrated,x!==null))return Mp(x)?s.lanes=32:s.lanes=536870912,null;Wi(s)}return x=u.children,u=u.fallback,h?(Lr(),h=s.mode,x=jc({mode:"hidden",children:x},h),u=Fs(u,h,o,null),x.return=s,u.return=s,x.sibling=u,s.child=x,h=s.child,h.memoizedState=Qh(o),h.childLanes=Xh(i,b,o),s.memoizedState=Yh,u):(Vr(s),Wh(s,x))}if(B=i.memoizedState,B!==null&&(x=B.dehydrated,x!==null)){if(g)s.flags&256?(Vr(s),s.flags&=-257,s=Zh(i,s,o)):s.memoizedState!==null?(Lr(),s.child=i.child,s.flags|=128,s=null):(Lr(),h=u.fallback,x=s.mode,u=jc({mode:"visible",children:u.children},x),h=Fs(h,x,o,null),h.flags|=2,u.return=s,h.return=s,u.sibling=h,s.child=u,eo(s,i.child,null,o),u=s.child,u.memoizedState=Qh(o),u.childLanes=Xh(i,b,o),s.memoizedState=Yh,s=h);else if(Vr(s),Mp(x)){if(b=x.nextSibling&&x.nextSibling.dataset,b)var X=b.dgst;b=X,u=Error(r(419)),u.stack="",u.digest=b,pl({value:u,source:null,stack:null}),s=Zh(i,s,o)}else if(Mt||ml(i,s,o,!1),b=(o&i.childLanes)!==0,Mt||b){if(b=tt,b!==null&&(u=o&-o,u=(u&42)!==0?1:Sr(u),u=(u&(b.suspendedLanes|o))!==0?0:u,u!==0&&u!==B.retryLane))throw B.retryLane=u,qa(i,u),An(b,i,u),Pv;x.data==="$?"||gp(),s=Zh(i,s,o)}else x.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=B.treeContext,ut=Yn(x.nextSibling),sn=s,qe=!0,Ks=null,di=!1,i!==null&&(Vn[Ln++]=$i,Vn[Ln++]=Ki,Vn[Ln++]=Gs,$i=i.id,Ki=i.overflow,Gs=s),s=Wh(s,u.children),s.flags|=4096);return s}return h?(Lr(),h=u.fallback,x=s.mode,B=i.child,X=B.sibling,u=Gi(B,{mode:"hidden",children:u.children}),u.subtreeFlags=B.subtreeFlags&65011712,X!==null?h=Gi(X,h):(h=Fs(h,x,o,null),h.flags|=2),h.return=s,u.return=s,u.sibling=h,s.child=u,u=h,h=s.child,x=i.child.memoizedState,x===null?x=Qh(o):(B=x.cachePool,B!==null?(X=At._currentValue,B=B.parent!==X?{parent:X,pool:X}:B):B=Iy(),x={baseLanes:x.baseLanes|o,cachePool:B}),h.memoizedState=x,h.childLanes=Xh(i,b,o),s.memoizedState=Yh,u):(Vr(s),o=i.child,i=o.sibling,o=Gi(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,i!==null&&(b=s.deletions,b===null?(s.deletions=[i],s.flags|=16):b.push(i)),s.child=o,s.memoizedState=null,o)}function Wh(i,s){return s=jc({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function jc(i,s){return i=En(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Zh(i,s,o){return eo(s,i.child,null,o),i=Wh(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Fv(i,s,o){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),gh(i.return,s,o)}function Jh(i,s,o,u,h){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=h)}function Gv(i,s,o){var u=s.pendingProps,h=u.revealOrder,g=u.tail;if(zt(i,s,u.children,o),u=xt.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Fv(i,o,s);else if(i.tag===19)Fv(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(ue(xt,u),h){case"forwards":for(o=s.child,h=null;o!==null;)i=o.alternate,i!==null&&Pc(i)===null&&(h=o),o=o.sibling;o=h,o===null?(h=s.child,s.child=null):(h=o.sibling,o.sibling=null),Jh(s,!1,h,o,g);break;case"backwards":for(o=null,h=s.child,s.child=null;h!==null;){if(i=h.alternate,i!==null&&Pc(i)===null){s.child=h;break}i=h.sibling,h.sibling=o,o=h,h=i}Jh(s,!0,o,null,g);break;case"together":Jh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Zi(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),Hr|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(ml(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=Gi(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=Gi(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function ep(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&vc(i)))}function aA(i,s,o){switch(s.tag){case 3:et(s,s.stateNode.containerInfo),Or(s,At,i.memoizedState.cache),hl();break;case 27:case 5:wr(s);break;case 4:et(s,s.stateNode.containerInfo);break;case 10:Or(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Vr(s),s.flags|=128,null):(o&s.child.childLanes)!==0?qv(i,s,o):(Vr(s),i=Zi(i,s,o),i!==null?i.sibling:null);Vr(s);break;case 19:var h=(i.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(ml(i,s,o,!1),u=(o&s.childLanes)!==0),h){if(u)return Gv(i,s,o);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ue(xt,xt.current),u)break;return null;case 22:case 23:return s.lanes=0,jv(i,s,o);case 24:Or(s,At,i.memoizedState.cache)}return Zi(i,s,o)}function $v(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)Mt=!0;else{if(!ep(i,o)&&(s.flags&128)===0)return Mt=!1,aA(i,s,o);Mt=(i.flags&131072)!==0}else Mt=!1,qe&&(s.flags&1048576)!==0&&by(s,yc,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var u=s.elementType,h=u._init;if(u=h(u._payload),s.type=u,typeof u=="function")uh(u)?(i=Js(u,i),s.tag=1,s=Bv(null,s,u,i,o)):(s.tag=0,s=Kh(null,s,u,i,o));else{if(u!=null){if(h=u.$$typeof,h===G){s.tag=11,s=kv(null,s,u,i,o);break e}else if(h===M){s.tag=14,s=Vv(null,s,u,i,o);break e}}throw s=de(u)||u,Error(r(306,s,""))}}return s;case 0:return Kh(i,s,s.type,s.pendingProps,o);case 1:return u=s.type,h=Js(u,s.pendingProps),Bv(i,s,u,h,o);case 3:e:{if(et(s,s.stateNode.containerInfo),i===null)throw Error(r(387));u=s.pendingProps;var g=s.memoizedState;h=g.element,wh(i,s),bl(s,u,null,o);var b=s.memoizedState;if(u=b.cache,Or(s,At,u),u!==g.cache&&yh(s,[At],o,!0),Tl(),u=b.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=Hv(i,s,u,o);break e}else if(u!==h){h=Pn(Error(r(424)),s),pl(h),s=Hv(i,s,u,o);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ut=Yn(i.firstChild),sn=s,qe=!0,Ks=null,di=!0,o=Sv(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(hl(),u===h){s=Zi(i,s,o);break e}zt(i,s,u,o)}s=s.child}return s;case 26:return Lc(i,s),i===null?(o=X_(s.type,null,s.pendingProps,null))?s.memoizedState=o:qe||(o=s.type,i=s.pendingProps,u=Zc(Ae.current).createElement(o),u[bt]=s,u[yt]=i,Ht(u,o,i),ft(u),s.stateNode=u):s.memoizedState=X_(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return wr(s),i===null&&qe&&(u=s.stateNode=K_(s.type,s.pendingProps,Ae.current),sn=s,di=!0,h=ut,$r(s.type)?(Pp=h,ut=Yn(u.firstChild)):ut=h),zt(i,s,s.pendingProps.children,o),Lc(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&qe&&((h=u=ut)&&(u=PA(u,s.type,s.pendingProps,di),u!==null?(s.stateNode=u,sn=s,ut=Yn(u.firstChild),di=!1,h=!0):h=!1),h||Ys(s)),wr(s),h=s.type,g=s.pendingProps,b=i!==null?i.memoizedProps:null,u=g.children,Np(h,g)?u=null:b!==null&&Np(h,b)&&(s.flags|=32),s.memoizedState!==null&&(h=Ih(i,s,ZS,null,null,o),Fl._currentValue=h),Lc(i,s),zt(i,s,u,o),s.child;case 6:return i===null&&qe&&((i=o=ut)&&(o=kA(o,s.pendingProps,di),o!==null?(s.stateNode=o,sn=s,ut=null,i=!0):i=!1),i||Ys(s)),null;case 13:return qv(i,s,o);case 4:return et(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=eo(s,null,u,o):zt(i,s,u,o),s.child;case 11:return kv(i,s,s.type,s.pendingProps,o);case 7:return zt(i,s,s.pendingProps,o),s.child;case 8:return zt(i,s,s.pendingProps.children,o),s.child;case 12:return zt(i,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,Or(s,s.type,u.value),zt(i,s,u.children,o),s.child;case 9:return h=s.type._context,u=s.pendingProps.children,Xs(s),h=Kt(h),u=u(h),s.flags|=1,zt(i,s,u,o),s.child;case 14:return Vv(i,s,s.type,s.pendingProps,o);case 15:return Lv(i,s,s.type,s.pendingProps,o);case 19:return Gv(i,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},i===null?(o=jc(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=Gi(i.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return jv(i,s,o);case 24:return Xs(s),u=Kt(At),i===null?(h=Eh(),h===null&&(h=tt,g=vh(),h.pooledCache=g,g.refCount++,g!==null&&(h.pooledCacheLanes|=o),h=g),s.memoizedState={parent:u,cache:h},bh(s),Or(s,At,h)):((i.lanes&o)!==0&&(wh(i,s),bl(s,null,null,o),Tl()),h=i.memoizedState,g=s.memoizedState,h.parent!==u?(h={parent:u,cache:u},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),Or(s,At,u)):(u=g.cache,Or(s,At,u),u!==h.cache&&yh(s,[At],o,!0))),zt(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Ji(i){i.flags|=4}function Kv(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!t0(s)){if(s=jn.current,s!==null&&((ze&4194048)===ze?fi!==null:(ze&62914560)!==ze&&(ze&536870912)===0||s!==fi))throw _l=Th,Ny;i.flags|=8192}}function Uc(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?$o():536870912,i.lanes|=s,ro|=s)}function Il(i,s){if(!qe)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function st(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(s)for(var h=i.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=i,h=h.sibling;else for(h=i.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=i,h=h.sibling;return i.subtreeFlags|=u,i.childLanes=o,s}function oA(i,s,o){var u=s.pendingProps;switch(hh(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(s),null;case 1:return st(s),null;case 3:return o=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Qi(At),Jn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(fl(s)?Ji(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Ay())),st(s),null;case 26:return o=s.memoizedState,i===null?(Ji(s),o!==null?(st(s),Kv(s,o)):(st(s),s.flags&=-16777217)):o?o!==i.memoizedState?(Ji(s),st(s),Kv(s,o)):(st(s),s.flags&=-16777217):(i.memoizedProps!==u&&Ji(s),st(s),s.flags&=-16777217),null;case 27:Di(s),o=Ae.current;var h=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==u&&Ji(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return st(s),null}i=ye.current,fl(s)?wy(s):(i=K_(h,u,o),s.stateNode=i,Ji(s))}return st(s),null;case 5:if(Di(s),o=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&Ji(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return st(s),null}if(i=ye.current,fl(s))wy(s);else{switch(h=Zc(Ae.current),i){case 1:i=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=h.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?h.createElement("select",{is:u.is}):h.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?h.createElement(o,{is:u.is}):h.createElement(o)}}i[bt]=s,i[yt]=u;e:for(h=s.child;h!==null;){if(h.tag===5||h.tag===6)i.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break e;for(;h.sibling===null;){if(h.return===null||h.return===s)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}s.stateNode=i;e:switch(Ht(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Ji(s)}}return st(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&Ji(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=Ae.current,fl(s)){if(i=s.stateNode,o=s.memoizedProps,u=null,h=sn,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}i[bt]=s,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||z_(i.nodeValue,o)),i||Ys(s)}else i=Zc(i).createTextNode(u),i[bt]=s,s.stateNode=i}return st(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(h=fl(s),u!==null&&u.dehydrated!==null){if(i===null){if(!h)throw Error(r(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[bt]=s}else hl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;st(s),h=!1}else h=Ay(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(Wi(s),s):(Wi(s),null)}if(Wi(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=s.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==h&&(u.flags|=2048)}return o!==i&&o&&(s.child.flags|=8192),Uc(s,s.updateQueue),st(s),null;case 4:return Jn(),i===null&&Ap(s.stateNode.containerInfo),st(s),null;case 10:return Qi(s.type),st(s),null;case 19:if(se(xt),h=s.memoizedState,h===null)return st(s),null;if(u=(s.flags&128)!==0,g=h.rendering,g===null)if(u)Il(h,!1);else{if(ct!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=Pc(i),g!==null){for(s.flags|=128,Il(h,!1),i=g.updateQueue,s.updateQueue=i,Uc(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)Ty(o,i),o=o.sibling;return ue(xt,xt.current&1|2),s.child}i=i.sibling}h.tail!==null&&Cn()>Hc&&(s.flags|=128,u=!0,Il(h,!1),s.lanes=4194304)}else{if(!u)if(i=Pc(g),i!==null){if(s.flags|=128,u=!0,i=i.updateQueue,s.updateQueue=i,Uc(s,i),Il(h,!0),h.tail===null&&h.tailMode==="hidden"&&!g.alternate&&!qe)return st(s),null}else 2*Cn()-h.renderingStartTime>Hc&&o!==536870912&&(s.flags|=128,u=!0,Il(h,!1),s.lanes=4194304);h.isBackwards?(g.sibling=s.child,s.child=g):(i=h.last,i!==null?i.sibling=g:s.child=g,h.last=g)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=Cn(),s.sibling=null,i=xt.current,ue(xt,u?i&1|2:i&1),s):(st(s),null);case 22:case 23:return Wi(s),Rh(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(st(s),s.subtreeFlags&6&&(s.flags|=8192)):st(s),o=s.updateQueue,o!==null&&Uc(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),i!==null&&se(Ws),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Qi(At),st(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function lA(i,s){switch(hh(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Qi(At),Jn(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Di(s),null;case 13:if(Wi(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));hl()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return se(xt),null;case 4:return Jn(),null;case 10:return Qi(s.type),null;case 22:case 23:return Wi(s),Rh(),i!==null&&se(Ws),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Qi(At),null;case 25:return null;default:return null}}function Yv(i,s){switch(hh(s),s.tag){case 3:Qi(At),Jn();break;case 26:case 27:case 5:Di(s);break;case 4:Jn();break;case 13:Wi(s);break;case 19:se(xt);break;case 10:Qi(s.type);break;case 22:case 23:Wi(s),Rh(),i!==null&&se(Ws);break;case 24:Qi(At)}}function Nl(i,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var h=u.next;o=h;do{if((o.tag&i)===i){u=void 0;var g=o.create,b=o.inst;u=g(),b.destroy=u}o=o.next}while(o!==h)}}catch(x){Je(s,s.return,x)}}function jr(i,s,o){try{var u=s.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var g=h.next;u=g;do{if((u.tag&i)===i){var b=u.inst,x=b.destroy;if(x!==void 0){b.destroy=void 0,h=s;var B=o,X=x;try{X()}catch(ie){Je(h,B,ie)}}}u=u.next}while(u!==g)}}catch(ie){Je(s,s.return,ie)}}function Qv(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{Vy(s,o)}catch(u){Je(i,i.return,u)}}}function Xv(i,s,o){o.props=Js(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Je(i,s,u)}}function Ol(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(h){Je(i,s,h)}}function hi(i,s){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(h){Je(i,s,h)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){Je(i,s,h)}else o.current=null}function Wv(i){var s=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(h){Je(i,i.return,h)}}function tp(i,s,o){try{var u=i.stateNode;IA(u,i.type,o,s),u[yt]=s}catch(h){Je(i,i.return,h)}}function Zv(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&$r(i.type)||i.tag===4}function np(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Zv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&$r(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ip(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Wc));else if(u!==4&&(u===27&&$r(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(ip(i,s,o),i=i.sibling;i!==null;)ip(i,s,o),i=i.sibling}function zc(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(u!==4&&(u===27&&$r(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(zc(i,s,o),i=i.sibling;i!==null;)zc(i,s,o),i=i.sibling}function Jv(i){var s=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);Ht(s,u,o),s[bt]=i,s[yt]=o}catch(g){Je(i,i.return,g)}}var er=!1,pt=!1,rp=!1,e_=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function uA(i,s){if(i=i.containerInfo,Cp=rd,i=dy(i),nh(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var b=0,x=-1,B=-1,X=0,ie=0,ae=i,Z=null;t:for(;;){for(var J;ae!==o||h!==0&&ae.nodeType!==3||(x=b+h),ae!==g||u!==0&&ae.nodeType!==3||(B=b+u),ae.nodeType===3&&(b+=ae.nodeValue.length),(J=ae.firstChild)!==null;)Z=ae,ae=J;for(;;){if(ae===i)break t;if(Z===o&&++X===h&&(x=b),Z===g&&++ie===u&&(B=b),(J=ae.nextSibling)!==null)break;ae=Z,Z=ae.parentNode}ae=J}o=x===-1||B===-1?null:{start:x,end:B}}else o=null}o=o||{start:0,end:0}}else o=null;for(Ip={focusedElem:i,selectionRange:o},rd=!1,Pt=s;Pt!==null;)if(s=Pt,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,Pt=i;else for(;Pt!==null;){switch(s=Pt,g=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=s,h=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var xe=Js(o.type,h,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(xe,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(Te){Je(o,o.return,Te)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)Dp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Dp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Pt=i;break}Pt=s.return}}function t_(i,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Ur(i,o),u&4&&Nl(5,o);break;case 1:if(Ur(i,o),u&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(b){Je(o,o.return,b)}else{var h=Js(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(h,s,i.__reactInternalSnapshotBeforeUpdate)}catch(b){Je(o,o.return,b)}}u&64&&Qv(o),u&512&&Ol(o,o.return);break;case 3:if(Ur(i,o),u&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{Vy(i,s)}catch(b){Je(o,o.return,b)}}break;case 27:s===null&&u&4&&Jv(o);case 26:case 5:Ur(i,o),s===null&&u&4&&Wv(o),u&512&&Ol(o,o.return);break;case 12:Ur(i,o);break;case 13:Ur(i,o),u&4&&r_(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=vA.bind(null,o),VA(i,o))));break;case 22:if(u=o.memoizedState!==null||er,!u){s=s!==null&&s.memoizedState!==null||pt,h=er;var g=pt;er=u,(pt=s)&&!g?zr(i,o,(o.subtreeFlags&8772)!==0):Ur(i,o),er=h,pt=g}break;case 30:break;default:Ur(i,o)}}function n_(i){var s=i.alternate;s!==null&&(i.alternate=null,n_(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Rr(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var it=null,un=!1;function tr(i,s,o){for(o=o.child;o!==null;)i_(i,s,o),o=o.sibling}function i_(i,s,o){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(lt,o)}catch{}switch(o.tag){case 26:pt||hi(o,s),tr(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:pt||hi(o,s);var u=it,h=un;$r(o.type)&&(it=o.stateNode,un=!1),tr(i,s,o),zl(o.stateNode),it=u,un=h;break;case 5:pt||hi(o,s);case 6:if(u=it,h=un,it=null,tr(i,s,o),it=u,un=h,it!==null)if(un)try{(it.nodeType===9?it.body:it.nodeName==="HTML"?it.ownerDocument.body:it).removeChild(o.stateNode)}catch(g){Je(o,s,g)}else try{it.removeChild(o.stateNode)}catch(g){Je(o,s,g)}break;case 18:it!==null&&(un?(i=it,G_(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Yl(i)):G_(it,o.stateNode));break;case 4:u=it,h=un,it=o.stateNode.containerInfo,un=!0,tr(i,s,o),it=u,un=h;break;case 0:case 11:case 14:case 15:pt||jr(2,o,s),pt||jr(4,o,s),tr(i,s,o);break;case 1:pt||(hi(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Xv(o,s,u)),tr(i,s,o);break;case 21:tr(i,s,o);break;case 22:pt=(u=pt)||o.memoizedState!==null,tr(i,s,o),pt=u;break;default:tr(i,s,o)}}function r_(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Yl(i)}catch(o){Je(s,s.return,o)}}function cA(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new e_),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new e_),s;default:throw Error(r(435,i.tag))}}function sp(i,s){var o=cA(i);s.forEach(function(u){var h=_A.bind(null,i,u);o.has(u)||(o.add(u),u.then(h,h))})}function Tn(i,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u],g=i,b=s,x=b;e:for(;x!==null;){switch(x.tag){case 27:if($r(x.type)){it=x.stateNode,un=!1;break e}break;case 5:it=x.stateNode,un=!1;break e;case 3:case 4:it=x.stateNode.containerInfo,un=!0;break e}x=x.return}if(it===null)throw Error(r(160));i_(g,b,h),it=null,un=!1,g=h.alternate,g!==null&&(g.return=null),h.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)s_(s,i),s=s.sibling}var Kn=null;function s_(i,s){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Tn(s,i),bn(i),u&4&&(jr(3,i,i.return),Nl(3,i),jr(5,i,i.return));break;case 1:Tn(s,i),bn(i),u&512&&(pt||o===null||hi(o,o.return)),u&64&&er&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var h=Kn;if(Tn(s,i),bn(i),u&512&&(pt||o===null||hi(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":g=h.getElementsByTagName("title")[0],(!g||g[Cs]||g[bt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=h.createElement(u),h.head.insertBefore(g,h.querySelector("head > title"))),Ht(g,u,o),g[bt]=i,ft(g),u=g;break e;case"link":var b=J_("link","href",h).get(u+(o.href||""));if(b){for(var x=0;x<b.length;x++)if(g=b[x],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(x,1);break t}}g=h.createElement(u),Ht(g,u,o),h.head.appendChild(g);break;case"meta":if(b=J_("meta","content",h).get(u+(o.content||""))){for(x=0;x<b.length;x++)if(g=b[x],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(x,1);break t}}g=h.createElement(u),Ht(g,u,o),h.head.appendChild(g);break;default:throw Error(r(468,u))}g[bt]=i,ft(g),u=g}i.stateNode=u}else e0(h,i.type,i.stateNode);else i.stateNode=Z_(h,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?e0(h,i.type,i.stateNode):Z_(h,u,i.memoizedProps)):u===null&&i.stateNode!==null&&tp(i,i.memoizedProps,o.memoizedProps)}break;case 27:Tn(s,i),bn(i),u&512&&(pt||o===null||hi(o,o.return)),o!==null&&u&4&&tp(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Tn(s,i),bn(i),u&512&&(pt||o===null||hi(o,o.return)),i.flags&32){h=i.stateNode;try{Nn(h,"")}catch(J){Je(i,i.return,J)}}u&4&&i.stateNode!=null&&(h=i.memoizedProps,tp(i,h,o!==null?o.memoizedProps:h)),u&1024&&(rp=!0);break;case 6:if(Tn(s,i),bn(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(J){Je(i,i.return,J)}}break;case 3:if(td=null,h=Kn,Kn=Jc(s.containerInfo),Tn(s,i),Kn=h,bn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Yl(s.containerInfo)}catch(J){Je(i,i.return,J)}rp&&(rp=!1,a_(i));break;case 4:u=Kn,Kn=Jc(i.stateNode.containerInfo),Tn(s,i),bn(i),Kn=u;break;case 12:Tn(s,i),bn(i);break;case 13:Tn(s,i),bn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(dp=Cn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,sp(i,u)));break;case 22:h=i.memoizedState!==null;var B=o!==null&&o.memoizedState!==null,X=er,ie=pt;if(er=X||h,pt=ie||B,Tn(s,i),pt=ie,er=X,bn(i),u&8192)e:for(s=i.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(o===null||B||er||pt||ea(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){B=o=s;try{if(g=B.stateNode,h)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{x=B.stateNode;var ae=B.memoizedProps.style,Z=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;x.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(J){Je(B,B.return,J)}}}else if(s.tag===6){if(o===null){B=s;try{B.stateNode.nodeValue=h?"":B.memoizedProps}catch(J){Je(B,B.return,J)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,sp(i,o))));break;case 19:Tn(s,i),bn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,sp(i,u)));break;case 30:break;case 21:break;default:Tn(s,i),bn(i)}}function bn(i){var s=i.flags;if(s&2){try{for(var o,u=i.return;u!==null;){if(Zv(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var h=o.stateNode,g=np(i);zc(i,g,h);break;case 5:var b=o.stateNode;o.flags&32&&(Nn(b,""),o.flags&=-33);var x=np(i);zc(i,x,b);break;case 3:case 4:var B=o.stateNode.containerInfo,X=np(i);ip(i,X,B);break;default:throw Error(r(161))}}catch(ie){Je(i,i.return,ie)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function a_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;a_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Ur(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)t_(i,s.alternate,s),s=s.sibling}function ea(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:jr(4,s,s.return),ea(s);break;case 1:hi(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&Xv(s,s.return,o),ea(s);break;case 27:zl(s.stateNode);case 26:case 5:hi(s,s.return),ea(s);break;case 22:s.memoizedState===null&&ea(s);break;case 30:ea(s);break;default:ea(s)}i=i.sibling}}function zr(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,h=i,g=s,b=g.flags;switch(g.tag){case 0:case 11:case 15:zr(h,g,o),Nl(4,g);break;case 1:if(zr(h,g,o),u=g,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(X){Je(u,u.return,X)}if(u=g,h=u.updateQueue,h!==null){var x=u.stateNode;try{var B=h.shared.hiddenCallbacks;if(B!==null)for(h.shared.hiddenCallbacks=null,h=0;h<B.length;h++)ky(B[h],x)}catch(X){Je(u,u.return,X)}}o&&b&64&&Qv(g),Ol(g,g.return);break;case 27:Jv(g);case 26:case 5:zr(h,g,o),o&&u===null&&b&4&&Wv(g),Ol(g,g.return);break;case 12:zr(h,g,o);break;case 13:zr(h,g,o),o&&b&4&&r_(h,g);break;case 22:g.memoizedState===null&&zr(h,g,o),Ol(g,g.return);break;case 30:break;default:zr(h,g,o)}s=s.sibling}}function ap(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&gl(o))}function op(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&gl(i))}function pi(i,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)o_(i,s,o,u),s=s.sibling}function o_(i,s,o,u){var h=s.flags;switch(s.tag){case 0:case 11:case 15:pi(i,s,o,u),h&2048&&Nl(9,s);break;case 1:pi(i,s,o,u);break;case 3:pi(i,s,o,u),h&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&gl(i)));break;case 12:if(h&2048){pi(i,s,o,u),i=s.stateNode;try{var g=s.memoizedProps,b=g.id,x=g.onPostCommit;typeof x=="function"&&x(b,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(B){Je(s,s.return,B)}}else pi(i,s,o,u);break;case 13:pi(i,s,o,u);break;case 23:break;case 22:g=s.stateNode,b=s.alternate,s.memoizedState!==null?g._visibility&2?pi(i,s,o,u):Dl(i,s):g._visibility&2?pi(i,s,o,u):(g._visibility|=2,to(i,s,o,u,(s.subtreeFlags&10256)!==0)),h&2048&&ap(b,s);break;case 24:pi(i,s,o,u),h&2048&&op(s.alternate,s);break;default:pi(i,s,o,u)}}function to(i,s,o,u,h){for(h=h&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=i,b=s,x=o,B=u,X=b.flags;switch(b.tag){case 0:case 11:case 15:to(g,b,x,B,h),Nl(8,b);break;case 23:break;case 22:var ie=b.stateNode;b.memoizedState!==null?ie._visibility&2?to(g,b,x,B,h):Dl(g,b):(ie._visibility|=2,to(g,b,x,B,h)),h&&X&2048&&ap(b.alternate,b);break;case 24:to(g,b,x,B,h),h&&X&2048&&op(b.alternate,b);break;default:to(g,b,x,B,h)}s=s.sibling}}function Dl(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,u=s,h=u.flags;switch(u.tag){case 22:Dl(o,u),h&2048&&ap(u.alternate,u);break;case 24:Dl(o,u),h&2048&&op(u.alternate,u);break;default:Dl(o,u)}s=s.sibling}}var Ml=8192;function no(i){if(i.subtreeFlags&Ml)for(i=i.child;i!==null;)l_(i),i=i.sibling}function l_(i){switch(i.tag){case 26:no(i),i.flags&Ml&&i.memoizedState!==null&&QA(Kn,i.memoizedState,i.memoizedProps);break;case 5:no(i);break;case 3:case 4:var s=Kn;Kn=Jc(i.stateNode.containerInfo),no(i),Kn=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=Ml,Ml=16777216,no(i),Ml=s):no(i));break;default:no(i)}}function u_(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Pl(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Pt=u,d_(u,i)}u_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)c_(i),i=i.sibling}function c_(i){switch(i.tag){case 0:case 11:case 15:Pl(i),i.flags&2048&&jr(9,i,i.return);break;case 3:Pl(i);break;case 12:Pl(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Bc(i)):Pl(i);break;default:Pl(i)}}function Bc(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Pt=u,d_(u,i)}u_(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:jr(8,s,s.return),Bc(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Bc(s));break;default:Bc(s)}i=i.sibling}}function d_(i,s){for(;Pt!==null;){var o=Pt;switch(o.tag){case 0:case 11:case 15:jr(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:gl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Pt=u;else e:for(o=i;Pt!==null;){u=Pt;var h=u.sibling,g=u.return;if(n_(u),u===o){Pt=null;break e}if(h!==null){h.return=g,Pt=h;break e}Pt=g}}}var dA={getCacheForType:function(i){var s=Kt(At),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o}},fA=typeof WeakMap=="function"?WeakMap:Map,Ke=0,tt=null,Pe=null,ze=0,Ye=0,wn=null,Br=!1,io=!1,lp=!1,nr=0,ct=0,Hr=0,ta=0,up=0,Un=0,ro=0,kl=null,cn=null,cp=!1,dp=0,Hc=1/0,qc=null,qr=null,Bt=0,Fr=null,so=null,ao=0,fp=0,hp=null,f_=null,Vl=0,pp=null;function Sn(){if((Ke&2)!==0&&ze!==0)return ze&-ze;if($.T!==null){var i=Ka;return i!==0?i:Tp()}return Ar()}function h_(){Un===0&&(Un=(ze&536870912)===0||qe?Go():536870912);var i=jn.current;return i!==null&&(i.flags|=32),Un}function An(i,s,o){(i===tt&&(Ye===2||Ye===9)||i.cancelPendingCommit!==null)&&(oo(i,0),Gr(i,ze,Un,!1)),Pi(i,o),((Ke&2)===0||i!==tt)&&(i===tt&&((Ke&2)===0&&(ta|=o),ct===4&&Gr(i,ze,Un,!1)),mi(i))}function p_(i,s,o){if((Ke&6)!==0)throw Error(r(327));var u=!o&&(s&124)===0&&(s&i.expiredLanes)===0||Rs(i,s),h=u?mA(i,s):yp(i,s,!0),g=u;do{if(h===0){io&&!u&&Gr(i,s,0,!1);break}else{if(o=i.current.alternate,g&&!hA(o)){h=yp(i,s,!1),g=!1;continue}if(h===2){if(g=s,i.errorRecoveryDisabledLanes&g)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var x=i;h=kl;var B=x.current.memoizedState.isDehydrated;if(B&&(oo(x,b).flags|=256),b=yp(x,b,!1),b!==2){if(lp&&!B){x.errorRecoveryDisabledLanes|=g,ta|=g,h=4;break e}g=cn,cn=h,g!==null&&(cn===null?cn=g:cn.push.apply(cn,g))}h=b}if(g=!1,h!==2)continue}}if(h===1){oo(i,0),Gr(i,s,0,!0);break}e:{switch(u=i,g=h,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Gr(u,s,Un,!Br);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(h=dp+300-Cn(),10<h)){if(Gr(u,s,Un,!Br),Sa(u,0,!0)!==0)break e;u.timeoutHandle=q_(m_.bind(null,u,o,cn,qc,cp,s,Un,ta,ro,Br,g,2,-0,0),h);break e}m_(u,o,cn,qc,cp,s,Un,ta,ro,Br,g,0,-0,0)}}break}while(!0);mi(i)}function m_(i,s,o,u,h,g,b,x,B,X,ie,ae,Z,J){if(i.timeoutHandle=-1,ae=s.subtreeFlags,(ae&8192||(ae&16785408)===16785408)&&(ql={stylesheets:null,count:0,unsuspend:YA},l_(s),ae=XA(),ae!==null)){i.cancelPendingCommit=ae(b_.bind(null,i,s,g,o,u,h,b,x,B,ie,1,Z,J)),Gr(i,g,b,!X);return}b_(i,s,g,o,u,h,b,x,B)}function hA(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var h=o[u],g=h.getSnapshot;h=h.value;try{if(!_n(g(),h))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Gr(i,s,o,u){s&=~up,s&=~ta,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var h=s;0<h;){var g=31-$t(h),b=1<<g;u[g]=-1,h&=~b}o!==0&&ei(i,o,s)}function Fc(){return(Ke&6)===0?(Ll(0),!1):!0}function mp(){if(Pe!==null){if(Ye===0)var i=Pe.return;else i=Pe,Yi=Qs=null,Dh(i),Ja=null,Rl=0,i=Pe;for(;i!==null;)Yv(i.alternate,i),i=i.return;Pe=null}}function oo(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,OA(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),mp(),tt=i,Pe=o=Gi(i.current,null),ze=s,Ye=0,wn=null,Br=!1,io=Rs(i,s),lp=!1,ro=Un=up=ta=Hr=ct=0,cn=kl=null,cp=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var h=31-$t(u),g=1<<h;s|=i[h],u&=~g}return nr=s,fc(),o}function g_(i,s){Oe=null,$.H=Oc,s===vl||s===Tc?(s=My(),Ye=3):s===Ny?(s=My(),Ye=4):Ye=s===Pv?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,wn=s,Pe===null&&(ct=1,Vc(i,Pn(s,i.current)))}function y_(){var i=$.H;return $.H=Oc,i===null?Oc:i}function v_(){var i=$.A;return $.A=dA,i}function gp(){ct=4,Br||(ze&4194048)!==ze&&jn.current!==null||(io=!0),(Hr&134217727)===0&&(ta&134217727)===0||tt===null||Gr(tt,ze,Un,!1)}function yp(i,s,o){var u=Ke;Ke|=2;var h=y_(),g=v_();(tt!==i||ze!==s)&&(qc=null,oo(i,s)),s=!1;var b=ct;e:do try{if(Ye!==0&&Pe!==null){var x=Pe,B=wn;switch(Ye){case 8:mp(),b=6;break e;case 3:case 2:case 9:case 6:jn.current===null&&(s=!0);var X=Ye;if(Ye=0,wn=null,lo(i,x,B,X),o&&io){b=0;break e}break;default:X=Ye,Ye=0,wn=null,lo(i,x,B,X)}}pA(),b=ct;break}catch(ie){g_(i,ie)}while(!0);return s&&i.shellSuspendCounter++,Yi=Qs=null,Ke=u,$.H=h,$.A=g,Pe===null&&(tt=null,ze=0,fc()),b}function pA(){for(;Pe!==null;)__(Pe)}function mA(i,s){var o=Ke;Ke|=2;var u=y_(),h=v_();tt!==i||ze!==s?(qc=null,Hc=Cn()+500,oo(i,s)):io=Rs(i,s);e:do try{if(Ye!==0&&Pe!==null){s=Pe;var g=wn;t:switch(Ye){case 1:Ye=0,wn=null,lo(i,s,g,1);break;case 2:case 9:if(Oy(g)){Ye=0,wn=null,E_(s);break}s=function(){Ye!==2&&Ye!==9||tt!==i||(Ye=7),mi(i)},g.then(s,s);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:Oy(g)?(Ye=0,wn=null,E_(s)):(Ye=0,wn=null,lo(i,s,g,7));break;case 5:var b=null;switch(Pe.tag){case 26:b=Pe.memoizedState;case 5:case 27:var x=Pe;if(!b||t0(b)){Ye=0,wn=null;var B=x.sibling;if(B!==null)Pe=B;else{var X=x.return;X!==null?(Pe=X,Gc(X)):Pe=null}break t}}Ye=0,wn=null,lo(i,s,g,5);break;case 6:Ye=0,wn=null,lo(i,s,g,6);break;case 8:mp(),ct=6;break e;default:throw Error(r(462))}}gA();break}catch(ie){g_(i,ie)}while(!0);return Yi=Qs=null,$.H=u,$.A=h,Ke=o,Pe!==null?0:(tt=null,ze=0,fc(),ct)}function gA(){for(;Pe!==null&&!Bo();)__(Pe)}function __(i){var s=$v(i.alternate,i,nr);i.memoizedProps=i.pendingProps,s===null?Gc(i):Pe=s}function E_(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=zv(o,s,s.pendingProps,s.type,void 0,ze);break;case 11:s=zv(o,s,s.pendingProps,s.type.render,s.ref,ze);break;case 5:Dh(s);default:Yv(o,s),s=Pe=Ty(s,nr),s=$v(o,s,nr)}i.memoizedProps=i.pendingProps,s===null?Gc(i):Pe=s}function lo(i,s,o,u){Yi=Qs=null,Dh(s),Ja=null,Rl=0;var h=s.return;try{if(sA(i,h,s,o,ze)){ct=1,Vc(i,Pn(o,i.current)),Pe=null;return}}catch(g){if(h!==null)throw Pe=h,g;ct=1,Vc(i,Pn(o,i.current)),Pe=null;return}s.flags&32768?(qe||u===1?i=!0:io||(ze&536870912)!==0?i=!1:(Br=i=!0,(u===2||u===9||u===3||u===6)&&(u=jn.current,u!==null&&u.tag===13&&(u.flags|=16384))),T_(s,i)):Gc(s)}function Gc(i){var s=i;do{if((s.flags&32768)!==0){T_(s,Br);return}i=s.return;var o=oA(s.alternate,s,nr);if(o!==null){Pe=o;return}if(s=s.sibling,s!==null){Pe=s;return}Pe=s=i}while(s!==null);ct===0&&(ct=5)}function T_(i,s){do{var o=lA(i.alternate,i);if(o!==null){o.flags&=32767,Pe=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){Pe=i;return}Pe=i=o}while(i!==null);ct=6,Pe=null}function b_(i,s,o,u,h,g,b,x,B){i.cancelPendingCommit=null;do $c();while(Bt!==0);if((Ke&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=oh,Ko(i,o,g,b,x,B),i===tt&&(Pe=tt=null,ze=0),so=s,Fr=i,ao=o,fp=g,hp=h,f_=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,EA(ws,function(){return R_(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=$.T,$.T=null,h=W.p,W.p=2,b=Ke,Ke|=4;try{uA(i,s,o)}finally{Ke=b,W.p=h,$.T=u}}Bt=1,w_(),S_(),A_()}}function w_(){if(Bt===1){Bt=0;var i=Fr,s=so,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=$.T,$.T=null;var u=W.p;W.p=2;var h=Ke;Ke|=4;try{s_(s,i);var g=Ip,b=dy(i.containerInfo),x=g.focusedElem,B=g.selectionRange;if(b!==x&&x&&x.ownerDocument&&cy(x.ownerDocument.documentElement,x)){if(B!==null&&nh(x)){var X=B.start,ie=B.end;if(ie===void 0&&(ie=X),"selectionStart"in x)x.selectionStart=X,x.selectionEnd=Math.min(ie,x.value.length);else{var ae=x.ownerDocument||document,Z=ae&&ae.defaultView||window;if(Z.getSelection){var J=Z.getSelection(),xe=x.textContent.length,Te=Math.min(B.start,xe),Ze=B.end===void 0?Te:Math.min(B.end,xe);!J.extend&&Te>Ze&&(b=Ze,Ze=Te,Te=b);var K=uy(x,Te),F=uy(x,Ze);if(K&&F&&(J.rangeCount!==1||J.anchorNode!==K.node||J.anchorOffset!==K.offset||J.focusNode!==F.node||J.focusOffset!==F.offset)){var Q=ae.createRange();Q.setStart(K.node,K.offset),J.removeAllRanges(),Te>Ze?(J.addRange(Q),J.extend(F.node,F.offset)):(Q.setEnd(F.node,F.offset),J.addRange(Q))}}}}for(ae=[],J=x;J=J.parentNode;)J.nodeType===1&&ae.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<ae.length;x++){var re=ae[x];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}rd=!!Cp,Ip=Cp=null}finally{Ke=h,W.p=u,$.T=o}}i.current=s,Bt=2}}function S_(){if(Bt===2){Bt=0;var i=Fr,s=so,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=$.T,$.T=null;var u=W.p;W.p=2;var h=Ke;Ke|=4;try{t_(i,s.alternate,s)}finally{Ke=h,W.p=u,$.T=o}}Bt=3}}function A_(){if(Bt===4||Bt===3){Bt=0,Bu();var i=Fr,s=so,o=ao,u=f_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Bt=5:(Bt=0,so=Fr=null,x_(i,i.pendingLanes));var h=i.pendingLanes;if(h===0&&(qr=null),Aa(o),s=s.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(lt,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=$.T,h=W.p,W.p=2,$.T=null;try{for(var g=i.onRecoverableError,b=0;b<u.length;b++){var x=u[b];g(x.value,{componentStack:x.stack})}}finally{$.T=s,W.p=h}}(ao&3)!==0&&$c(),mi(i),h=i.pendingLanes,(o&4194090)!==0&&(h&42)!==0?i===pp?Vl++:(Vl=0,pp=i):Vl=0,Ll(0)}}function x_(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,gl(s)))}function $c(i){return w_(),S_(),A_(),R_()}function R_(){if(Bt!==5)return!1;var i=Fr,s=fp;fp=0;var o=Aa(ao),u=$.T,h=W.p;try{W.p=32>o?32:o,$.T=null,o=hp,hp=null;var g=Fr,b=ao;if(Bt=0,so=Fr=null,ao=0,(Ke&6)!==0)throw Error(r(331));var x=Ke;if(Ke|=4,c_(g.current),o_(g,g.current,b,o),Ke=x,Ll(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(lt,g)}catch{}return!0}finally{W.p=h,$.T=u,x_(i,s)}}function C_(i,s,o){s=Pn(o,s),s=$h(i.stateNode,s,2),i=Pr(i,s,2),i!==null&&(Pi(i,2),mi(i))}function Je(i,s,o){if(i.tag===3)C_(i,i,o);else for(;s!==null;){if(s.tag===3){C_(s,i,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(qr===null||!qr.has(u))){i=Pn(o,i),o=Dv(2),u=Pr(s,o,2),u!==null&&(Mv(o,u,s,i),Pi(u,2),mi(u));break}}s=s.return}}function vp(i,s,o){var u=i.pingCache;if(u===null){u=i.pingCache=new fA;var h=new Set;u.set(s,h)}else h=u.get(s),h===void 0&&(h=new Set,u.set(s,h));h.has(o)||(lp=!0,h.add(o),i=yA.bind(null,i,s,o),s.then(i,i))}function yA(i,s,o){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,tt===i&&(ze&o)===o&&(ct===4||ct===3&&(ze&62914560)===ze&&300>Cn()-dp?(Ke&2)===0&&oo(i,0):up|=o,ro===ze&&(ro=0)),mi(i)}function I_(i,s){s===0&&(s=$o()),i=qa(i,s),i!==null&&(Pi(i,s),mi(i))}function vA(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),I_(i,o)}function _A(i,s){var o=0;switch(i.tag){case 13:var u=i.stateNode,h=i.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),I_(i,o)}function EA(i,s){return Ts(i,s)}var Kc=null,uo=null,_p=!1,Yc=!1,Ep=!1,na=0;function mi(i){i!==uo&&i.next===null&&(uo===null?Kc=uo=i:uo=uo.next=i),Yc=!0,_p||(_p=!0,bA())}function Ll(i,s){if(!Ep&&Yc){Ep=!0;do for(var o=!1,u=Kc;u!==null;){if(i!==0){var h=u.pendingLanes;if(h===0)var g=0;else{var b=u.suspendedLanes,x=u.pingedLanes;g=(1<<31-$t(42|i)+1)-1,g&=h&~(b&~x),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,M_(u,g))}else g=ze,g=Sa(u,u===tt?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Rs(u,g)||(o=!0,M_(u,g));u=u.next}while(o);Ep=!1}}function TA(){N_()}function N_(){Yc=_p=!1;var i=0;na!==0&&(NA()&&(i=na),na=0);for(var s=Cn(),o=null,u=Kc;u!==null;){var h=u.next,g=O_(u,s);g===0?(u.next=null,o===null?Kc=h:o.next=h,h===null&&(uo=o)):(o=u,(i!==0||(g&3)!==0)&&(Yc=!0)),u=h}Ll(i)}function O_(i,s){for(var o=i.suspendedLanes,u=i.pingedLanes,h=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var b=31-$t(g),x=1<<b,B=h[b];B===-1?((x&o)===0||(x&u)!==0)&&(h[b]=Fo(x,s)):B<=s&&(i.expiredLanes|=x),g&=~x}if(s=tt,o=ze,o=Sa(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===s&&(Ye===2||Ye===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&bs(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Rs(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(u!==null&&bs(u),Aa(o)){case 2:case 8:o=ba;break;case 32:o=ws;break;case 268435456:o=wa;break;default:o=ws}return u=D_.bind(null,i),o=Ts(o,u),i.callbackPriority=s,i.callbackNode=o,s}return u!==null&&u!==null&&bs(u),i.callbackPriority=2,i.callbackNode=null,2}function D_(i,s){if(Bt!==0&&Bt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if($c()&&i.callbackNode!==o)return null;var u=ze;return u=Sa(i,i===tt?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(p_(i,u,s),O_(i,Cn()),i.callbackNode!=null&&i.callbackNode===o?D_.bind(null,i):null)}function M_(i,s){if($c())return null;p_(i,s,!0)}function bA(){DA(function(){(Ke&6)!==0?Ts(Ho,TA):N_()})}function Tp(){return na===0&&(na=Go()),na}function P_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Oa(""+i)}function k_(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function wA(i,s,o,u,h){if(s==="submit"&&o&&o.stateNode===h){var g=P_((h[yt]||null).action),b=u.submitter;b&&(s=(s=b[yt]||null)?P_(s.formAction):b.getAttribute("formAction"),s!==null&&(g=s,b=null));var x=new Da("action","action",null,u,h);i.push({event:x,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(na!==0){var B=b?k_(h,b):new FormData(h);Bh(o,{pending:!0,data:B,method:h.method,action:g},null,B)}}else typeof g=="function"&&(x.preventDefault(),B=b?k_(h,b):new FormData(h),Bh(o,{pending:!0,data:B,method:h.method,action:g},g,B))},currentTarget:h}]})}}for(var bp=0;bp<ah.length;bp++){var wp=ah[bp],SA=wp.toLowerCase(),AA=wp[0].toUpperCase()+wp.slice(1);$n(SA,"on"+AA)}$n(py,"onAnimationEnd"),$n(my,"onAnimationIteration"),$n(gy,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(HS,"onTransitionRun"),$n(qS,"onTransitionStart"),$n(FS,"onTransitionCancel"),$n(yy,"onTransitionEnd"),Vi("onMouseEnter",["mouseout","mouseover"]),Vi("onMouseLeave",["mouseout","mouseover"]),Vi("onPointerEnter",["pointerout","pointerover"]),Vi("onPointerLeave",["pointerout","pointerover"]),Fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jl));function V_(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],h=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var b=u.length-1;0<=b;b--){var x=u[b],B=x.instance,X=x.currentTarget;if(x=x.listener,B!==g&&h.isPropagationStopped())break e;g=x,h.currentTarget=X;try{g(h)}catch(ie){kc(ie)}h.currentTarget=null,g=B}else for(b=0;b<u.length;b++){if(x=u[b],B=x.instance,X=x.currentTarget,x=x.listener,B!==g&&h.isPropagationStopped())break e;g=x,h.currentTarget=X;try{g(h)}catch(ie){kc(ie)}h.currentTarget=null,g=B}}}}function ke(i,s){var o=s[Qo];o===void 0&&(o=s[Qo]=new Set);var u=i+"__bubble";o.has(u)||(L_(s,i,2,!1),o.add(u))}function Sp(i,s,o){var u=0;s&&(u|=4),L_(o,i,u,s)}var Qc="_reactListening"+Math.random().toString(36).slice(2);function Ap(i){if(!i[Qc]){i[Qc]=!0,Xo.forEach(function(o){o!=="selectionchange"&&(xA.has(o)||Sp(o,!1,i),Sp(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Qc]||(s[Qc]=!0,Sp("selectionchange",!1,s))}}function L_(i,s,o,u){switch(o0(s)){case 2:var h=JA;break;case 8:h=e1;break;default:h=Up}o=h.bind(null,s,o,i),h=void 0,!Dn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),u?h!==void 0?i.addEventListener(s,o,{capture:!0,passive:h}):i.addEventListener(s,o,!0):h!==void 0?i.addEventListener(s,o,{passive:h}):i.addEventListener(s,o,!1)}function xp(i,s,o,u,h){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var x=u.stateNode.containerInfo;if(x===h)break;if(b===4)for(b=u.return;b!==null;){var B=b.tag;if((B===3||B===4)&&b.stateNode.containerInfo===h)return;b=b.return}for(;x!==null;){if(b=ki(x),b===null)return;if(B=b.tag,B===5||B===6||B===26||B===27){u=g=b;continue e}x=x.parentNode}}u=u.return}Wu(function(){var X=g,ie=On(o),ae=[];e:{var Z=vy.get(i);if(Z!==void 0){var J=Da,xe=i;switch(i){case"keypress":if(ai(o)===0)break e;case"keydown":case"keyup":J=ja;break;case"focusin":xe="focus",J=ka;break;case"focusout":xe="blur",J=ka;break;case"beforeblur":case"afterblur":J=ka;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=Mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=Zf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=sc;break;case py:case my:case gy:J=Va;break;case yy:J=oc;break;case"scroll":case"scrollend":J=Zu;break;case"wheel":J=Ua;break;case"copy":case"cut":case"paste":J=La;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=ll;break;case"toggle":case"beforetoggle":J=uc}var Te=(s&4)!==0,Ze=!Te&&(i==="scroll"||i==="scrollend"),K=Te?Z!==null?Z+"Capture":null:Z;Te=[];for(var F=X,Q;F!==null;){var re=F;if(Q=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||Q===null||K===null||(re=ks(F,K),re!=null&&Te.push(Ul(F,re,Q))),Ze)break;F=F.return}0<Te.length&&(Z=new J(Z,xe,null,o,ie),ae.push({event:Z,listeners:Te}))}}if((s&7)===0){e:{if(Z=i==="mouseover"||i==="pointerover",J=i==="mouseout"||i==="pointerout",Z&&o!==Ui&&(xe=o.relatedTarget||o.fromElement)&&(ki(xe)||xe[In]))break e;if((J||Z)&&(Z=ie.window===ie?ie:(Z=ie.ownerDocument)?Z.defaultView||Z.parentWindow:window,J?(xe=o.relatedTarget||o.toElement,J=X,xe=xe?ki(xe):null,xe!==null&&(Ze=l(xe),Te=xe.tag,xe!==Ze||Te!==5&&Te!==27&&Te!==6)&&(xe=null)):(J=null,xe=X),J!==xe)){if(Te=Mn,re="onMouseLeave",K="onMouseEnter",F="mouse",(i==="pointerout"||i==="pointerover")&&(Te=ll,re="onPointerLeave",K="onPointerEnter",F="pointer"),Ze=J==null?Z:ni(J),Q=xe==null?Z:ni(xe),Z=new Te(re,F+"leave",J,o,ie),Z.target=Ze,Z.relatedTarget=Q,re=null,ki(ie)===X&&(Te=new Te(K,F+"enter",xe,o,ie),Te.target=Q,Te.relatedTarget=Ze,re=Te),Ze=re,J&&xe)t:{for(Te=J,K=xe,F=0,Q=Te;Q;Q=co(Q))F++;for(Q=0,re=K;re;re=co(re))Q++;for(;0<F-Q;)Te=co(Te),F--;for(;0<Q-F;)K=co(K),Q--;for(;F--;){if(Te===K||K!==null&&Te===K.alternate)break t;Te=co(Te),K=co(K)}Te=null}else Te=null;J!==null&&j_(ae,Z,J,Te,!1),xe!==null&&Ze!==null&&j_(ae,Ze,xe,Te,!0)}}e:{if(Z=X?ni(X):window,J=Z.nodeName&&Z.nodeName.toLowerCase(),J==="select"||J==="input"&&Z.type==="file")var ge=iy;else if(St(Z))if(ry)ge=US;else{ge=LS;var Me=VS}else J=Z.nodeName,!J||J.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?X&&tl(X.elementType)&&(ge=iy):ge=jS;if(ge&&(ge=ge(i,X))){Fi(ae,ge,o,ie);break e}Me&&Me(i,Z,X),i==="focusout"&&X&&Z.type==="number"&&X.memoizedProps.value!=null&&Ir(Z,"number",Z.value)}switch(Me=X?ni(X):window,i){case"focusin":(St(Me)||Me.contentEditable==="true")&&(za=Me,ih=X,dl=null);break;case"focusout":dl=ih=za=null;break;case"mousedown":rh=!0;break;case"contextmenu":case"mouseup":case"dragend":rh=!1,fy(ae,o,ie);break;case"selectionchange":if(BS)break;case"keydown":case"keyup":fy(ae,o,ie)}var ve;if(ui)e:{switch(i){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else je?ne(i,o)&&(be="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(be="onCompositionStart");be&&(T&&o.locale!=="ko"&&(je||be!=="onCompositionStart"?be==="onCompositionEnd"&&je&&(ve=il()):(si=ie,Nr="value"in si?si.value:si.textContent,je=!0)),Me=Xc(X,be),0<Me.length&&(be=new al(be,i,null,o,ie),ae.push({event:be,listeners:Me}),ve?be.data=ve:(ve=he(o),ve!==null&&(be.data=ve)))),(ve=v?wt(i,o):Ue(i,o))&&(be=Xc(X,"onBeforeInput"),0<be.length&&(Me=new al("onBeforeInput","beforeinput",null,o,ie),ae.push({event:Me,listeners:be}),Me.data=ve)),wA(ae,i,X,o,ie)}V_(ae,s)})}function Ul(i,s,o){return{instance:i,listener:s,currentTarget:o}}function Xc(i,s){for(var o=s+"Capture",u=[];i!==null;){var h=i,g=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||g===null||(h=ks(i,o),h!=null&&u.unshift(Ul(i,h,g)),h=ks(i,s),h!=null&&u.push(Ul(i,h,g))),i.tag===3)return u;i=i.return}return[]}function co(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function j_(i,s,o,u,h){for(var g=s._reactName,b=[];o!==null&&o!==u;){var x=o,B=x.alternate,X=x.stateNode;if(x=x.tag,B!==null&&B===u)break;x!==5&&x!==26&&x!==27||X===null||(B=X,h?(X=ks(o,g),X!=null&&b.unshift(Ul(o,X,B))):h||(X=ks(o,g),X!=null&&b.push(Ul(o,X,B)))),o=o.return}b.length!==0&&i.push({event:s,listeners:b})}var RA=/\r\n?/g,CA=/\u0000|\uFFFD/g;function U_(i){return(typeof i=="string"?i:""+i).replace(RA,`
`).replace(CA,"")}function z_(i,s){return s=U_(s),U_(i)===s}function Wc(){}function We(i,s,o,u,h,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Nn(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Nn(i,""+u);break;case"className":ii(i,"class",u);break;case"tabIndex":ii(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ii(i,o,u);break;case"style":el(i,u,g);break;case"data":if(s!=="object"){ii(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Oa(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&We(i,s,"name",h.name,h,null),We(i,s,"formEncType",h.formEncType,h,null),We(i,s,"formMethod",h.formMethod,h,null),We(i,s,"formTarget",h.formTarget,h,null)):(We(i,s,"encType",h.encType,h,null),We(i,s,"method",h.method,h,null),We(i,s,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Oa(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=Wc);break;case"onScroll":u!=null&&ke("scroll",i);break;case"onScrollEnd":u!=null&&ke("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Oa(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":ke("beforetoggle",i),ke("toggle",i),Cr(i,"popover",u);break;case"xlinkActuate":jt(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":jt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":jt(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":jt(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":jt(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":jt(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":jt(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":jt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":jt(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Cr(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Xf.get(o)||o,Cr(i,o,u))}}function Rp(i,s,o,u,h,g){switch(o){case"style":el(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof u=="string"?Nn(i,u):(typeof u=="number"||typeof u=="bigint")&&Nn(i,""+u);break;case"onScroll":u!=null&&ke("scroll",i);break;case"onScrollEnd":u!=null&&ke("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Wc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xa.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),s=o.slice(2,h?o.length-7:void 0),g=i[yt]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(s,g,h),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,u,h);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Cr(i,o,u)}}}function Ht(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",i),ke("load",i);var u=!1,h=!1,g;for(g in o)if(o.hasOwnProperty(g)){var b=o[g];if(b!=null)switch(g){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:We(i,s,g,b,o,null)}}h&&We(i,s,"srcSet",o.srcSet,o,null),u&&We(i,s,"src",o.src,o,null);return;case"input":ke("invalid",i);var x=g=b=h=null,B=null,X=null;for(u in o)if(o.hasOwnProperty(u)){var ie=o[u];if(ie!=null)switch(u){case"name":h=ie;break;case"type":b=ie;break;case"checked":B=ie;break;case"defaultChecked":X=ie;break;case"value":g=ie;break;case"defaultValue":x=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,s));break;default:We(i,s,u,ie,o,null)}}Ds(i,g,x,B,X,b,h,!1),Na(i);return;case"select":ke("invalid",i),u=b=g=null;for(h in o)if(o.hasOwnProperty(h)&&(x=o[h],x!=null))switch(h){case"value":g=x;break;case"defaultValue":b=x;break;case"multiple":u=x;default:We(i,s,h,x,o,null)}s=g,o=b,i.multiple=!!u,s!=null?ji(i,!!u,s,!1):o!=null&&ji(i,!!u,o,!0);return;case"textarea":ke("invalid",i),g=h=u=null;for(b in o)if(o.hasOwnProperty(b)&&(x=o[b],x!=null))switch(b){case"value":u=x;break;case"defaultValue":h=x;break;case"children":g=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:We(i,s,b,x,o,null)}Ms(i,u,h,g),Na(i);return;case"option":for(B in o)if(o.hasOwnProperty(B)&&(u=o[B],u!=null))switch(B){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:We(i,s,B,u,o,null)}return;case"dialog":ke("beforetoggle",i),ke("toggle",i),ke("cancel",i),ke("close",i);break;case"iframe":case"object":ke("load",i);break;case"video":case"audio":for(u=0;u<jl.length;u++)ke(jl[u],i);break;case"image":ke("error",i),ke("load",i);break;case"details":ke("toggle",i);break;case"embed":case"source":case"link":ke("error",i),ke("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in o)if(o.hasOwnProperty(X)&&(u=o[X],u!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:We(i,s,X,u,o,null)}return;default:if(tl(s)){for(ie in o)o.hasOwnProperty(ie)&&(u=o[ie],u!==void 0&&Rp(i,s,ie,u,o,void 0));return}}for(x in o)o.hasOwnProperty(x)&&(u=o[x],u!=null&&We(i,s,x,u,o,null))}function IA(i,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,g=null,b=null,x=null,B=null,X=null,ie=null;for(J in o){var ae=o[J];if(o.hasOwnProperty(J)&&ae!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":B=ae;default:u.hasOwnProperty(J)||We(i,s,J,null,u,ae)}}for(var Z in u){var J=u[Z];if(ae=o[Z],u.hasOwnProperty(Z)&&(J!=null||ae!=null))switch(Z){case"type":g=J;break;case"name":h=J;break;case"checked":X=J;break;case"defaultChecked":ie=J;break;case"value":b=J;break;case"defaultValue":x=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:J!==ae&&We(i,s,Z,J,u,ae)}}vn(i,b,x,B,X,ie,g,h);return;case"select":J=b=x=Z=null;for(g in o)if(B=o[g],o.hasOwnProperty(g)&&B!=null)switch(g){case"value":break;case"multiple":J=B;default:u.hasOwnProperty(g)||We(i,s,g,null,u,B)}for(h in u)if(g=u[h],B=o[h],u.hasOwnProperty(h)&&(g!=null||B!=null))switch(h){case"value":Z=g;break;case"defaultValue":x=g;break;case"multiple":b=g;default:g!==B&&We(i,s,h,g,u,B)}s=x,o=b,u=J,Z!=null?ji(i,!!o,Z,!1):!!u!=!!o&&(s!=null?ji(i,!!o,s,!0):ji(i,!!o,o?[]:"",!1));return;case"textarea":J=Z=null;for(x in o)if(h=o[x],o.hasOwnProperty(x)&&h!=null&&!u.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:We(i,s,x,null,u,h)}for(b in u)if(h=u[b],g=o[b],u.hasOwnProperty(b)&&(h!=null||g!=null))switch(b){case"value":Z=h;break;case"defaultValue":J=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==g&&We(i,s,b,h,u,g)}Qe(i,Z,J);return;case"option":for(var xe in o)if(Z=o[xe],o.hasOwnProperty(xe)&&Z!=null&&!u.hasOwnProperty(xe))switch(xe){case"selected":i.selected=!1;break;default:We(i,s,xe,null,u,Z)}for(B in u)if(Z=u[B],J=o[B],u.hasOwnProperty(B)&&Z!==J&&(Z!=null||J!=null))switch(B){case"selected":i.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:We(i,s,B,Z,u,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in o)Z=o[Te],o.hasOwnProperty(Te)&&Z!=null&&!u.hasOwnProperty(Te)&&We(i,s,Te,null,u,Z);for(X in u)if(Z=u[X],J=o[X],u.hasOwnProperty(X)&&Z!==J&&(Z!=null||J!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:We(i,s,X,Z,u,J)}return;default:if(tl(s)){for(var Ze in o)Z=o[Ze],o.hasOwnProperty(Ze)&&Z!==void 0&&!u.hasOwnProperty(Ze)&&Rp(i,s,Ze,void 0,u,Z);for(ie in u)Z=u[ie],J=o[ie],!u.hasOwnProperty(ie)||Z===J||Z===void 0&&J===void 0||Rp(i,s,ie,Z,u,J);return}}for(var K in o)Z=o[K],o.hasOwnProperty(K)&&Z!=null&&!u.hasOwnProperty(K)&&We(i,s,K,null,u,Z);for(ae in u)Z=u[ae],J=o[ae],!u.hasOwnProperty(ae)||Z===J||Z==null&&J==null||We(i,s,ae,Z,u,J)}var Cp=null,Ip=null;function Zc(i){return i.nodeType===9?i:i.ownerDocument}function B_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function H_(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Np(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Op=null;function NA(){var i=window.event;return i&&i.type==="popstate"?i===Op?!1:(Op=i,!0):(Op=null,!1)}var q_=typeof setTimeout=="function"?setTimeout:void 0,OA=typeof clearTimeout=="function"?clearTimeout:void 0,F_=typeof Promise=="function"?Promise:void 0,DA=typeof queueMicrotask=="function"?queueMicrotask:typeof F_<"u"?function(i){return F_.resolve(null).then(i).catch(MA)}:q_;function MA(i){setTimeout(function(){throw i})}function $r(i){return i==="head"}function G_(i,s){var o=s,u=0,h=0;do{var g=o.nextSibling;if(i.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var b=i.ownerDocument;if(o&1&&zl(b.documentElement),o&2&&zl(b.body),o&4)for(o=b.head,zl(o),b=o.firstChild;b;){var x=b.nextSibling,B=b.nodeName;b[Cs]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&b.rel.toLowerCase()==="stylesheet"||o.removeChild(b),b=x}}if(h===0){i.removeChild(g),Yl(s);return}h--}else o==="$"||o==="$?"||o==="$!"?h++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);Yl(s)}function Dp(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Dp(o),Rr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function PA(i,s,o,u){for(;i.nodeType===1;){var h=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Cs])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==h.rel||i.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||i.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||i.getAttribute("title")!==(h.title==null?null:h.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(h.src==null?null:h.src)||i.getAttribute("type")!==(h.type==null?null:h.type)||i.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=h.name==null?null:""+h.name;if(h.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=Yn(i.nextSibling),i===null)break}return null}function kA(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Yn(i.nextSibling),i===null))return null;return i}function Mp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function VA(i,s){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Yn(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var Pp=null;function $_(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return i;s--}else o==="/$"&&s++}i=i.previousSibling}return null}function K_(i,s,o){switch(s=Zc(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function zl(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Rr(i)}var zn=new Map,Y_=new Set;function Jc(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ir=W.d;W.d={f:LA,r:jA,D:UA,C:zA,L:BA,m:HA,X:FA,S:qA,M:GA};function LA(){var i=ir.f(),s=Fc();return i||s}function jA(i){var s=ti(i);s!==null&&s.tag===5&&s.type==="form"?pv(s):ir.r(i)}var fo=typeof document>"u"?null:document;function Q_(i,s,o){var u=fo;if(u&&typeof s=="string"&&s){var h=vt(s);h='link[rel="'+i+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),Y_.has(h)||(Y_.add(h),i={rel:i,crossOrigin:o,href:s},u.querySelector(h)===null&&(s=u.createElement("link"),Ht(s,"link",i),ft(s),u.head.appendChild(s)))}}function UA(i){ir.D(i),Q_("dns-prefetch",i,null)}function zA(i,s){ir.C(i,s),Q_("preconnect",i,s)}function BA(i,s,o){ir.L(i,s,o);var u=fo;if(u&&i&&s){var h='link[rel="preload"][as="'+vt(s)+'"]';s==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+vt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+vt(o.imageSizes)+'"]')):h+='[href="'+vt(i)+'"]';var g=h;switch(s){case"style":g=ho(i);break;case"script":g=po(i)}zn.has(g)||(i=y({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),zn.set(g,i),u.querySelector(h)!==null||s==="style"&&u.querySelector(Bl(g))||s==="script"&&u.querySelector(Hl(g))||(s=u.createElement("link"),Ht(s,"link",i),ft(s),u.head.appendChild(s)))}}function HA(i,s){ir.m(i,s);var o=fo;if(o&&i){var u=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+vt(u)+'"][href="'+vt(i)+'"]',g=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=po(i)}if(!zn.has(g)&&(i=y({rel:"modulepreload",href:i},s),zn.set(g,i),o.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Hl(g)))return}u=o.createElement("link"),Ht(u,"link",i),ft(u),o.head.appendChild(u)}}}function qA(i,s,o){ir.S(i,s,o);var u=fo;if(u&&i){var h=tn(u).hoistableStyles,g=ho(i);s=s||"default";var b=h.get(g);if(!b){var x={loading:0,preload:null};if(b=u.querySelector(Bl(g)))x.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":s},o),(o=zn.get(g))&&kp(i,o);var B=b=u.createElement("link");ft(B),Ht(B,"link",i),B._p=new Promise(function(X,ie){B.onload=X,B.onerror=ie}),B.addEventListener("load",function(){x.loading|=1}),B.addEventListener("error",function(){x.loading|=2}),x.loading|=4,ed(b,s,u)}b={type:"stylesheet",instance:b,count:1,state:x},h.set(g,b)}}}function FA(i,s){ir.X(i,s);var o=fo;if(o&&i){var u=tn(o).hoistableScripts,h=po(i),g=u.get(h);g||(g=o.querySelector(Hl(h)),g||(i=y({src:i,async:!0},s),(s=zn.get(h))&&Vp(i,s),g=o.createElement("script"),ft(g),Ht(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(h,g))}}function GA(i,s){ir.M(i,s);var o=fo;if(o&&i){var u=tn(o).hoistableScripts,h=po(i),g=u.get(h);g||(g=o.querySelector(Hl(h)),g||(i=y({src:i,async:!0,type:"module"},s),(s=zn.get(h))&&Vp(i,s),g=o.createElement("script"),ft(g),Ht(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(h,g))}}function X_(i,s,o,u){var h=(h=Ae.current)?Jc(h):null;if(!h)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=ho(o.href),o=tn(h).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=ho(o.href);var g=tn(h).hoistableStyles,b=g.get(i);if(b||(h=h.ownerDocument||h,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,b),(g=h.querySelector(Bl(i)))&&!g._p&&(b.instance=g,b.state.loading=5),zn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},zn.set(i,o),g||$A(h,i,o,b.state))),s&&u===null)throw Error(r(528,""));return b}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=po(o),o=tn(h).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function ho(i){return'href="'+vt(i)+'"'}function Bl(i){return'link[rel="stylesheet"]['+i+"]"}function W_(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function $A(i,s,o,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Ht(s,"link",o),ft(s),i.head.appendChild(s))}function po(i){return'[src="'+vt(i)+'"]'}function Hl(i){return"script[async]"+i}function Z_(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+vt(o.href)+'"]');if(u)return s.instance=u,ft(u),u;var h=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),ft(u),Ht(u,"style",h),ed(u,o.precedence,i),s.instance=u;case"stylesheet":h=ho(o.href);var g=i.querySelector(Bl(h));if(g)return s.state.loading|=4,s.instance=g,ft(g),g;u=W_(o),(h=zn.get(h))&&kp(u,h),g=(i.ownerDocument||i).createElement("link"),ft(g);var b=g;return b._p=new Promise(function(x,B){b.onload=x,b.onerror=B}),Ht(g,"link",u),s.state.loading|=4,ed(g,o.precedence,i),s.instance=g;case"script":return g=po(o.src),(h=i.querySelector(Hl(g)))?(s.instance=h,ft(h),h):(u=o,(h=zn.get(g))&&(u=y({},o),Vp(u,h)),i=i.ownerDocument||i,h=i.createElement("script"),ft(h),Ht(h,"link",u),i.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,ed(u,o.precedence,i));return s.instance}function ed(i,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,g=h,b=0;b<u.length;b++){var x=u[b];if(x.dataset.precedence===s)g=x;else if(g!==h)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function kp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Vp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var td=null;function J_(i,s,o){if(td===null){var u=new Map,h=td=new Map;h.set(o,u)}else h=td,u=h.get(o),u||(u=new Map,h.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),h=0;h<o.length;h++){var g=o[h];if(!(g[Cs]||g[bt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(s)||"";b=i+b;var x=u.get(b);x?x.push(g):u.set(b,[g])}}return u}function e0(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function KA(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function t0(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var ql=null;function YA(){}function QA(i,s,o){if(ql===null)throw Error(r(475));var u=ql;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=ho(o.href),g=i.querySelector(Bl(h));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=nd.bind(u),i.then(u,u)),s.state.loading|=4,s.instance=g,ft(g);return}g=i.ownerDocument||i,o=W_(o),(h=zn.get(h))&&kp(o,h),g=g.createElement("link"),ft(g);var b=g;b._p=new Promise(function(x,B){b.onload=x,b.onerror=B}),Ht(g,"link",o),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=nd.bind(u),i.addEventListener("load",s),i.addEventListener("error",s))}}function XA(){if(ql===null)throw Error(r(475));var i=ql;return i.stylesheets&&i.count===0&&Lp(i,i.stylesheets),0<i.count?function(s){var o=setTimeout(function(){if(i.stylesheets&&Lp(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(o)}}:null}function nd(){if(this.count--,this.count===0){if(this.stylesheets)Lp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var id=null;function Lp(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,id=new Map,s.forEach(WA,i),id=null,nd.call(i))}function WA(i,s){if(!(s.state.loading&4)){var o=id.get(i);if(o)var u=o.get(null);else{o=new Map,id.set(i,o);for(var h=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<h.length;g++){var b=h[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),u=b)}u&&o.set(null,u)}h=s.instance,b=h.getAttribute("data-precedence"),g=o.get(b)||u,g===u&&o.set(null,h),o.set(b,h),this.count++,u=nd.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),g?g.parentNode.insertBefore(h,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(h,i.firstChild)),s.state.loading|=4}}var Fl={$$typeof:D,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function ZA(i,s,o,u,h,g,b,x){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mi(0),this.hiddenUpdates=Mi(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function n0(i,s,o,u,h,g,b,x,B,X,ie,ae){return i=new ZA(i,s,o,b,x,B,X,ae),s=1,g===!0&&(s|=24),g=En(3,null,null,s),i.current=g,g.stateNode=i,s=vh(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},bh(g),i}function i0(i){return i?(i=Fa,i):Fa}function r0(i,s,o,u,h,g){h=i0(h),u.context===null?u.context=h:u.pendingContext=h,u=Mr(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Pr(i,u,s),o!==null&&(An(o,i,s),El(o,i,s))}function s0(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function jp(i,s){s0(i,s),(i=i.alternate)&&s0(i,s)}function a0(i){if(i.tag===13){var s=qa(i,67108864);s!==null&&An(s,i,67108864),jp(i,67108864)}}var rd=!0;function JA(i,s,o,u){var h=$.T;$.T=null;var g=W.p;try{W.p=2,Up(i,s,o,u)}finally{W.p=g,$.T=h}}function e1(i,s,o,u){var h=$.T;$.T=null;var g=W.p;try{W.p=8,Up(i,s,o,u)}finally{W.p=g,$.T=h}}function Up(i,s,o,u){if(rd){var h=zp(u);if(h===null)xp(i,s,u,sd,o),l0(i,u);else if(n1(h,i,s,o,u))u.stopPropagation();else if(l0(i,u),s&4&&-1<t1.indexOf(i)){for(;h!==null;){var g=ti(h);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=qn(g.pendingLanes);if(b!==0){var x=g;for(x.pendingLanes|=2,x.entangledLanes|=2;b;){var B=1<<31-$t(b);x.entanglements[1]|=B,b&=~B}mi(g),(Ke&6)===0&&(Hc=Cn()+500,Ll(0))}}break;case 13:x=qa(g,2),x!==null&&An(x,g,2),Fc(),jp(g,2)}if(g=zp(u),g===null&&xp(i,s,u,sd,o),g===h)break;h=g}h!==null&&u.stopPropagation()}else xp(i,s,u,null,o)}}function zp(i){return i=On(i),Bp(i)}var sd=null;function Bp(i){if(sd=null,i=ki(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=c(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return sd=i,null}function o0(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ff()){case Ho:return 2;case ba:return 8;case ws:case Gf:return 32;case wa:return 268435456;default:return 32}default:return 32}}var Hp=!1,Kr=null,Yr=null,Qr=null,Gl=new Map,$l=new Map,Xr=[],t1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function l0(i,s){switch(i){case"focusin":case"focusout":Kr=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Qr=null;break;case"pointerover":case"pointerout":Gl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(s.pointerId)}}function Kl(i,s,o,u,h,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[h]},s!==null&&(s=ti(s),s!==null&&a0(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),i)}function n1(i,s,o,u,h){switch(s){case"focusin":return Kr=Kl(Kr,i,s,o,u,h),!0;case"dragenter":return Yr=Kl(Yr,i,s,o,u,h),!0;case"mouseover":return Qr=Kl(Qr,i,s,o,u,h),!0;case"pointerover":var g=h.pointerId;return Gl.set(g,Kl(Gl.get(g)||null,i,s,o,u,h)),!0;case"gotpointercapture":return g=h.pointerId,$l.set(g,Kl($l.get(g)||null,i,s,o,u,h)),!0}return!1}function u0(i){var s=ki(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){i.blockedOn=s,Fu(i.priority,function(){if(o.tag===13){var u=Sn();u=Sr(u);var h=qa(o,u);h!==null&&An(h,o,u),jp(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ad(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=zp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Ui=u,o.target.dispatchEvent(u),Ui=null}else return s=ti(o),s!==null&&a0(s),i.blockedOn=o,!1;s.shift()}return!0}function c0(i,s,o){ad(i)&&o.delete(s)}function i1(){Hp=!1,Kr!==null&&ad(Kr)&&(Kr=null),Yr!==null&&ad(Yr)&&(Yr=null),Qr!==null&&ad(Qr)&&(Qr=null),Gl.forEach(c0),$l.forEach(c0)}function od(i,s){i.blockedOn===s&&(i.blockedOn=null,Hp||(Hp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,i1)))}var ld=null;function d0(i){ld!==i&&(ld=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ld===i&&(ld=null);for(var s=0;s<i.length;s+=3){var o=i[s],u=i[s+1],h=i[s+2];if(typeof u!="function"){if(Bp(u||o)===null)continue;break}var g=ti(o);g!==null&&(i.splice(s,3),s-=3,Bh(g,{pending:!0,data:h,method:o.method,action:u},u,h))}}))}function Yl(i){function s(B){return od(B,i)}Kr!==null&&od(Kr,i),Yr!==null&&od(Yr,i),Qr!==null&&od(Qr,i),Gl.forEach(s),$l.forEach(s);for(var o=0;o<Xr.length;o++){var u=Xr[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Xr.length&&(o=Xr[0],o.blockedOn===null);)u0(o),o.blockedOn===null&&Xr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var h=o[u],g=o[u+1],b=h[yt]||null;if(typeof g=="function")b||d0(o);else if(b){var x=null;if(g&&g.hasAttribute("formAction")){if(h=g,b=g[yt]||null)x=b.formAction;else if(Bp(h)!==null)continue}else x=b.action;typeof x=="function"?o[u+1]=x:(o.splice(u,3),u-=3),d0(o)}}}function qp(i){this._internalRoot=i}ud.prototype.render=qp.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=Sn();r0(o,u,i,s,null,null)},ud.prototype.unmount=qp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;r0(i.current,2,null,i,null,null),Fc(),s[In]=null}};function ud(i){this._internalRoot=i}ud.prototype.unstable_scheduleHydration=function(i){if(i){var s=Ar();i={blockedOn:null,target:i,priority:s};for(var o=0;o<Xr.length&&s!==0&&s<Xr[o].priority;o++);Xr.splice(o,0,i),o===0&&u0(i)}};var f0=e.version;if(f0!=="19.1.0")throw Error(r(527,f0,"19.1.0"));W.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=p(s),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var r1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cd.isDisabled&&cd.supportsFiber)try{lt=cd.inject(r1),$e=cd}catch{}}return Xl.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,u="",h=Cv,g=Iv,b=Nv,x=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(x=s.unstable_transitionCallbacks)),s=n0(i,1,!1,null,null,o,u,h,g,b,x,null),i[In]=s.current,Ap(i),new qp(s)},Xl.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var u=!1,h="",g=Cv,b=Iv,x=Nv,B=null,X=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(x=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(B=o.unstable_transitionCallbacks),o.formState!==void 0&&(X=o.formState)),s=n0(i,1,!0,s,o??null,u,h,g,b,x,B,X),s.context=i0(null),o=s.current,u=Sn(),u=Sr(u),h=Mr(u),h.callback=null,Pr(o,h,u),o=u,s.current.lanes=o,Pi(s,o),mi(s),i[In]=s.current,Ap(i),new ud(s)},Xl.version="19.1.0",Xl}var b0;function m1(){if(b0)return $p.exports;b0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),$p.exports=p1(),$p.exports}var g1=m1(),Wl={},w0;function y1(){if(w0)return Wl;w0=1,Object.defineProperty(Wl,"__esModule",{value:!0}),Wl.parse=c,Wl.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function c(E,S){const R=new l,H=E.length;if(H<2)return R;const j=(S==null?void 0:S.decode)||y;let U=0;do{const P=E.indexOf("=",U);if(P===-1)break;const D=E.indexOf(";",U),G=D===-1?H:D;if(P>G){U=E.lastIndexOf(";",P-1)+1;continue}const q=f(E,U,P),ee=p(E,P,q),M=E.slice(q,ee);if(R[M]===void 0){let C=f(E,P+1,G),I=p(E,G,C);const O=j(E.slice(C,I));R[M]=O}U=G+1}while(U<H);return R}function f(E,S,R){do{const H=E.charCodeAt(S);if(H!==32&&H!==9)return S}while(++S<R);return R}function p(E,S,R){for(;S>R;){const H=E.charCodeAt(--S);if(H!==32&&H!==9)return S+1}return R}function m(E,S,R){const H=(R==null?void 0:R.encode)||encodeURIComponent;if(!n.test(E))throw new TypeError(`argument name is invalid: ${E}`);const j=H(S);if(!e.test(j))throw new TypeError(`argument val is invalid: ${S}`);let U=E+"="+j;if(!R)return U;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);U+="; Max-Age="+R.maxAge}if(R.domain){if(!t.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);U+="; Domain="+R.domain}if(R.path){if(!r.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);U+="; Path="+R.path}if(R.expires){if(!_(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);U+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(U+="; HttpOnly"),R.secure&&(U+="; Secure"),R.partitioned&&(U+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":U+="; Priority=Low";break;case"medium":U+="; Priority=Medium";break;case"high":U+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":U+="; SameSite=Strict";break;case"lax":U+="; SameSite=Lax";break;case"none":U+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return U}function y(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function _(E){return a.call(E)==="[object Date]"}return Wl}y1();var S0="popstate";function v1(n={}){function e(r,a){let{pathname:l,search:c,hash:f}=r.location;return vm("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){return typeof a=="string"?a:hu(a)}return E1(e,t,null,n)}function at(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function wi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _1(){return Math.random().toString(36).substring(2,10)}function A0(n,e){return{usr:n.state,key:n.key,idx:e}}function vm(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Po(e):e,state:t,key:e&&e.key||r||_1()}}function hu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Po(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function E1(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,f="POP",p=null,m=y();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function y(){return(c.state||{idx:null}).idx}function _(){f="POP";let j=y(),U=j==null?null:j-m;m=j,p&&p({action:f,location:H.location,delta:U})}function E(j,U){f="PUSH";let P=vm(H.location,j,U);m=y()+1;let D=A0(P,m),G=H.createHref(P);try{c.pushState(D,"",G)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;a.location.assign(G)}l&&p&&p({action:f,location:H.location,delta:1})}function S(j,U){f="REPLACE";let P=vm(H.location,j,U);m=y();let D=A0(P,m),G=H.createHref(P);c.replaceState(D,"",G),l&&p&&p({action:f,location:H.location,delta:0})}function R(j){return T1(j)}let H={get action(){return f},get location(){return n(a,c)},listen(j){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(S0,_),p=j,()=>{a.removeEventListener(S0,_),p=null}},createHref(j){return e(a,j)},createURL:R,encodeLocation(j){let U=R(j);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:E,replace:S,go(j){return c.go(j)}};return H}function T1(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),at(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:hu(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function yT(n,e,t="/"){return b1(n,e,t,!1)}function b1(n,e,t,r){let a=typeof e=="string"?Po(e):e,l=hr(a.pathname||"/",t);if(l==null)return null;let c=vT(n);w1(c);let f=null;for(let p=0;f==null&&p<c.length;++p){let m=P1(l);f=D1(c[p],m,r)}return f}function vT(n,e=[],t=[],r=""){let a=(l,c,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(at(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length));let m=cr([r,p.relativePath]),y=t.concat(p);l.children&&l.children.length>0&&(at(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),vT(l.children,e,y,m)),!(l.path==null&&!l.index)&&e.push({path:m,score:N1(m,l.index),routesMeta:y})};return n.forEach((l,c)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))a(l,c);else for(let p of _T(l.path))a(l,c,p)}),e}function _T(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=_T(r.join("/")),f=[];return f.push(...c.map(p=>p===""?l:[l,p].join("/"))),a&&f.push(...c),f.map(p=>n.startsWith("/")&&p===""?"/":p)}function w1(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:O1(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var S1=/^:[\w-]+$/,A1=3,x1=2,R1=1,C1=10,I1=-2,x0=n=>n==="*";function N1(n,e){let t=n.split("/"),r=t.length;return t.some(x0)&&(r+=I1),e&&(r+=x1),t.filter(a=>!x0(a)).reduce((a,l)=>a+(S1.test(l)?A1:l===""?R1:C1),r)}function O1(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function D1(n,e,t=!1){let{routesMeta:r}=n,a={},l="/",c=[];for(let f=0;f<r.length;++f){let p=r[f],m=f===r.length-1,y=l==="/"?e:e.slice(l.length)||"/",_=Ld({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},y),E=p.route;if(!_&&m&&t&&!r[r.length-1].route.index&&(_=Ld({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:cr([l,_.pathname]),pathnameBase:j1(cr([l,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(l=cr([l,_.pathnameBase]))}return c}function Ld(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=M1(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:r.reduce((m,{paramName:y,isOptional:_},E)=>{if(y==="*"){let R=f[E]||"";c=l.slice(0,l.length-R.length).replace(/(.)\/+$/,"$1")}const S=f[E];return _&&!S?m[y]=void 0:m[y]=(S||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:n}}function M1(n,e=!1,t=!0){wi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,p)=>(r.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function P1(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return wi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function hr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function k1(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?Po(n):n;return{pathname:t?t.startsWith("/")?t:V1(t,e):e,search:U1(r),hash:z1(a)}}function V1(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Xp(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function L1(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function ET(n){let e=L1(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function TT(n,e,t,r=!1){let a;typeof n=="string"?a=Po(n):(a={...n},at(!a.pathname||!a.pathname.includes("?"),Xp("?","pathname","search",a)),at(!a.pathname||!a.pathname.includes("#"),Xp("#","pathname","hash",a)),at(!a.search||!a.search.includes("#"),Xp("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=t;else{let _=e.length-1;if(!r&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),_-=1;a.pathname=E.join("/")}f=_>=0?e[_]:"/"}let p=k1(a,f),m=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(m||y)&&(p.pathname+="/"),p}var cr=n=>n.join("/").replace(/\/\/+/g,"/"),j1=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),U1=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,z1=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function B1(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var bT=["POST","PUT","PATCH","DELETE"];new Set(bT);var H1=["GET",...bT];new Set(H1);var ko=L.createContext(null);ko.displayName="DataRouter";var mf=L.createContext(null);mf.displayName="DataRouterState";var wT=L.createContext({isTransitioning:!1});wT.displayName="ViewTransition";var q1=L.createContext(new Map);q1.displayName="Fetchers";var F1=L.createContext(null);F1.displayName="Await";var Ri=L.createContext(null);Ri.displayName="Navigation";var Su=L.createContext(null);Su.displayName="Location";var Ci=L.createContext({outlet:null,matches:[],isDataRoute:!1});Ci.displayName="Route";var Jm=L.createContext(null);Jm.displayName="RouteError";function G1(n,{relative:e}={}){at(Au(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=L.useContext(Ri),{hash:a,pathname:l,search:c}=xu(n,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:cr([t,l])),r.createHref({pathname:f,search:c,hash:a})}function Au(){return L.useContext(Su)!=null}function _r(){return at(Au(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Su).location}var ST="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function AT(n){L.useContext(Ri).static||L.useLayoutEffect(n)}function Er(){let{isDataRoute:n}=L.useContext(Ci);return n?sx():$1()}function $1(){at(Au(),"useNavigate() may be used only in the context of a <Router> component.");let n=L.useContext(ko),{basename:e,navigator:t}=L.useContext(Ri),{matches:r}=L.useContext(Ci),{pathname:a}=_r(),l=JSON.stringify(ET(r)),c=L.useRef(!1);return AT(()=>{c.current=!0}),L.useCallback((p,m={})=>{if(wi(c.current,ST),!c.current)return;if(typeof p=="number"){t.go(p);return}let y=TT(p,JSON.parse(l),a,m.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:cr([e,y.pathname])),(m.replace?t.replace:t.push)(y,m.state,m)},[e,t,l,a,n])}L.createContext(null);function K1(){let{matches:n}=L.useContext(Ci),e=n[n.length-1];return e?e.params:{}}function xu(n,{relative:e}={}){let{matches:t}=L.useContext(Ci),{pathname:r}=_r(),a=JSON.stringify(ET(t));return L.useMemo(()=>TT(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function Y1(n,e){return xT(n,e)}function xT(n,e,t,r){var P;at(Au(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=L.useContext(Ri),{matches:c}=L.useContext(Ci),f=c[c.length-1],p=f?f.params:{},m=f?f.pathname:"/",y=f?f.pathnameBase:"/",_=f&&f.route;{let D=_&&_.path||"";RT(m,!_||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let E=_r(),S;if(e){let D=typeof e=="string"?Po(e):e;at(y==="/"||((P=D.pathname)==null?void 0:P.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${D.pathname}" was given in the \`location\` prop.`),S=D}else S=E;let R=S.pathname||"/",H=R;if(y!=="/"){let D=y.replace(/^\//,"").split("/");H="/"+R.replace(/^\//,"").split("/").slice(D.length).join("/")}let j=!l&&t&&t.matches&&t.matches.length>0?t.matches:yT(n,{pathname:H});wi(_||j!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),wi(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=J1(j&&j.map(D=>Object.assign({},D,{params:Object.assign({},p,D.params),pathname:cr([y,a.encodeLocation?a.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?y:cr([y,a.encodeLocation?a.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),c,t,r);return e&&U?L.createElement(Su.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},U):U}function Q1(){let n=rx(),e=B1(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=L.createElement(L.Fragment,null,L.createElement("p",null,"💿 Hey developer 👋"),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:l},"ErrorBoundary")," or"," ",L.createElement("code",{style:l},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),t?L.createElement("pre",{style:a},t):null,c)}var X1=L.createElement(Q1,null),W1=class extends L.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?L.createElement(Ci.Provider,{value:this.props.routeContext},L.createElement(Jm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Z1({routeContext:n,match:e,children:t}){let r=L.useContext(ko);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(Ci.Provider,{value:n},t)}function J1(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t==null?void 0:t.errors;if(l!=null){let p=a.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);at(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let c=!1,f=-1;if(t)for(let p=0;p<a.length;p++){let m=a[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=p),m.route.id){let{loaderData:y,errors:_}=t,E=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!_||_[m.route.id]===void 0);if(m.route.lazy||E){c=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((p,m,y)=>{let _,E=!1,S=null,R=null;t&&(_=l&&m.route.id?l[m.route.id]:void 0,S=m.route.errorElement||X1,c&&(f<0&&y===0?(RT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,R=null):f===y&&(E=!0,R=m.route.hydrateFallbackElement||null)));let H=e.concat(a.slice(0,y+1)),j=()=>{let U;return _?U=S:E?U=R:m.route.Component?U=L.createElement(m.route.Component,null):m.route.element?U=m.route.element:U=p,L.createElement(Z1,{match:m,routeContext:{outlet:p,matches:H,isDataRoute:t!=null},children:U})};return t&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?L.createElement(W1,{location:t.location,revalidation:t.revalidation,component:S,error:_,children:j(),routeContext:{outlet:null,matches:H,isDataRoute:!0}}):j()},null)}function eg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ex(n){let e=L.useContext(ko);return at(e,eg(n)),e}function tx(n){let e=L.useContext(mf);return at(e,eg(n)),e}function nx(n){let e=L.useContext(Ci);return at(e,eg(n)),e}function tg(n){let e=nx(n),t=e.matches[e.matches.length-1];return at(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function ix(){return tg("useRouteId")}function rx(){var r;let n=L.useContext(Jm),e=tx("useRouteError"),t=tg("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function sx(){let{router:n}=ex("useNavigate"),e=tg("useNavigate"),t=L.useRef(!1);return AT(()=>{t.current=!0}),L.useCallback(async(a,l={})=>{wi(t.current,ST),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var R0={};function RT(n,e,t){!e&&!R0[n]&&(R0[n]=!0,wi(!1,t))}L.memo(ax);function ax({routes:n,future:e,state:t}){return xT(n,void 0,t,e)}function gi(n){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ox({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:l=!1}){at(!Au(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),f=L.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=Po(t));let{pathname:p="/",search:m="",hash:y="",state:_=null,key:E="default"}=t,S=L.useMemo(()=>{let R=hr(p,c);return R==null?null:{location:{pathname:R,search:m,hash:y,state:_,key:E},navigationType:r}},[c,p,m,y,_,E,r]);return wi(S!=null,`<Router basename="${c}"> is not able to match the URL "${p}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:L.createElement(Ri.Provider,{value:f},L.createElement(Su.Provider,{children:e,value:S}))}function lx({children:n,location:e}){return Y1(_m(n),e)}function _m(n,e=[]){let t=[];return L.Children.forEach(n,(r,a)=>{if(!L.isValidElement(r))return;let l=[...e,a];if(r.type===L.Fragment){t.push.apply(t,_m(r.props.children,l));return}at(r.type===gi,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=_m(r.props.children,l)),t.push(c)}),t}var wd="get",Sd="application/x-www-form-urlencoded";function gf(n){return n!=null&&typeof n.tagName=="string"}function ux(n){return gf(n)&&n.tagName.toLowerCase()==="button"}function cx(n){return gf(n)&&n.tagName.toLowerCase()==="form"}function dx(n){return gf(n)&&n.tagName.toLowerCase()==="input"}function fx(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function hx(n,e){return n.button===0&&(!e||e==="_self")&&!fx(n)}var dd=null;function px(){if(dd===null)try{new FormData(document.createElement("form"),0),dd=!1}catch{dd=!0}return dd}var mx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wp(n){return n!=null&&!mx.has(n)?(wi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sd}"`),null):n}function gx(n,e){let t,r,a,l,c;if(cx(n)){let f=n.getAttribute("action");r=f?hr(f,e):null,t=n.getAttribute("method")||wd,a=Wp(n.getAttribute("enctype"))||Sd,l=new FormData(n)}else if(ux(n)||dx(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||f.getAttribute("action");if(r=p?hr(p,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||wd,a=Wp(n.getAttribute("formenctype"))||Wp(f.getAttribute("enctype"))||Sd,l=new FormData(f,n),!px()){let{name:m,type:y,value:_}=n;if(y==="image"){let E=m?`${m}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else m&&l.append(m,_)}}else{if(gf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=wd,r=null,a=Sd,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:l,body:c}}function ng(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function yx(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vx(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function _x(n,e,t){let r=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await yx(l,t);return c.links?c.links():[]}return[]}));return wx(r.flat(1).filter(vx).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function C0(n,e,t,r,a,l){let c=(p,m)=>t[m]?p.route.id!==t[m].route.id:!0,f=(p,m)=>{var y;return t[m].pathname!==p.pathname||((y=t[m].route.path)==null?void 0:y.endsWith("*"))&&t[m].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,m)=>c(p,m)||f(p,m)):l==="data"?e.filter((p,m)=>{var _;let y=r.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(c(p,m)||f(p,m))return!0;if(p.route.shouldRevalidate){let E=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function Ex(n,e,{includeHydrateFallback:t}={}){return Tx(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function Tx(n){return[...new Set(n)]}function bx(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function wx(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let l=JSON.stringify(bx(a));return t.has(l)||(t.add(l),r.push({key:l,link:a})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Sx=new Set([100,101,204,205]);function Ax(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&hr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function CT(){let n=L.useContext(ko);return ng(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function xx(){let n=L.useContext(mf);return ng(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var ig=L.createContext(void 0);ig.displayName="FrameworkContext";function IT(){let n=L.useContext(ig);return ng(n,"You must render this element inside a <HydratedRouter> element"),n}function Rx(n,e){let t=L.useContext(ig),[r,a]=L.useState(!1),[l,c]=L.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:m,onMouseLeave:y,onTouchStart:_}=e,E=L.useRef(null);L.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let H=U=>{U.forEach(P=>{c(P.isIntersecting)})},j=new IntersectionObserver(H,{threshold:.5});return E.current&&j.observe(E.current),()=>{j.disconnect()}}},[n]),L.useEffect(()=>{if(r){let H=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(H)}}},[r]);let S=()=>{a(!0)},R=()=>{a(!1),c(!1)};return t?n!=="intent"?[l,E,{}]:[l,E,{onFocus:Zl(f,S),onBlur:Zl(p,R),onMouseEnter:Zl(m,S),onMouseLeave:Zl(y,R),onTouchStart:Zl(_,S)}]:[!1,E,{}]}function Zl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function Cx({page:n,...e}){let{router:t}=CT(),r=L.useMemo(()=>yT(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?L.createElement(Nx,{page:n,matches:r,...e}):null}function Ix(n){let{manifest:e,routeModules:t}=IT(),[r,a]=L.useState([]);return L.useEffect(()=>{let l=!1;return _x(n,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[n,e,t]),r}function Nx({page:n,matches:e,...t}){let r=_r(),{manifest:a,routeModules:l}=IT(),{basename:c}=CT(),{loaderData:f,matches:p}=xx(),m=L.useMemo(()=>C0(n,e,p,a,r,"data"),[n,e,p,a,r]),y=L.useMemo(()=>C0(n,e,p,a,r,"assets"),[n,e,p,a,r]),_=L.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let R=new Set,H=!1;if(e.forEach(U=>{var D;let P=a.routes[U.route.id];!P||!P.hasLoader||(!m.some(G=>G.route.id===U.route.id)&&U.route.id in f&&((D=l[U.route.id])!=null&&D.shouldRevalidate)||P.hasClientLoader?H=!0:R.add(U.route.id))}),R.size===0)return[];let j=Ax(n,c);return H&&R.size>0&&j.searchParams.set("_routes",e.filter(U=>R.has(U.route.id)).map(U=>U.route.id).join(",")),[j.pathname+j.search]},[c,f,r,a,m,e,n,l]),E=L.useMemo(()=>Ex(y,a),[y,a]),S=Ix(y);return L.createElement(L.Fragment,null,_.map(R=>L.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...t})),E.map(R=>L.createElement("link",{key:R,rel:"modulepreload",href:R,...t})),S.map(({key:R,link:H})=>L.createElement("link",{key:R,...H})))}function Ox(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var NT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{NT&&(window.__reactRouterVersion="7.6.0")}catch{}function Dx({basename:n,children:e,window:t}){let r=L.useRef();r.current==null&&(r.current=v1({window:t,v5Compat:!0}));let a=r.current,[l,c]=L.useState({action:a.action,location:a.location}),f=L.useCallback(p=>{L.startTransition(()=>c(p))},[c]);return L.useLayoutEffect(()=>a.listen(f),[a,f]),L.createElement(ox,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var OT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rg=L.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:l,replace:c,state:f,target:p,to:m,preventScrollReset:y,viewTransition:_,...E},S){let{basename:R}=L.useContext(Ri),H=typeof m=="string"&&OT.test(m),j,U=!1;if(typeof m=="string"&&H&&(j=m,NT))try{let I=new URL(window.location.href),O=m.startsWith("//")?new URL(I.protocol+m):new URL(m),k=hr(O.pathname,R);O.origin===I.origin&&k!=null?m=k+O.search+O.hash:U=!0}catch{wi(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=G1(m,{relative:a}),[D,G,q]=Rx(r,E),ee=Vx(m,{replace:c,state:f,target:p,preventScrollReset:y,relative:a,viewTransition:_});function M(I){e&&e(I),I.defaultPrevented||ee(I)}let C=L.createElement("a",{...E,...q,href:j||P,onClick:U||l?e:M,ref:Ox(S,G),target:p,"data-discover":!H&&t==="render"?"true":void 0});return D&&!H?L.createElement(L.Fragment,null,C,L.createElement(Cx,{page:P})):C});rg.displayName="Link";var Mx=L.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:f,children:p,...m},y){let _=xu(c,{relative:m.relative}),E=_r(),S=L.useContext(mf),{navigator:R,basename:H}=L.useContext(Ri),j=S!=null&&Bx(_)&&f===!0,U=R.encodeLocation?R.encodeLocation(_).pathname:_.pathname,P=E.pathname,D=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;t||(P=P.toLowerCase(),D=D?D.toLowerCase():null,U=U.toLowerCase()),D&&H&&(D=hr(D,H)||D);const G=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let q=P===U||!a&&P.startsWith(U)&&P.charAt(G)==="/",ee=D!=null&&(D===U||!a&&D.startsWith(U)&&D.charAt(U.length)==="/"),M={isActive:q,isPending:ee,isTransitioning:j},C=q?e:void 0,I;typeof r=="function"?I=r(M):I=[r,q?"active":null,ee?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let O=typeof l=="function"?l(M):l;return L.createElement(rg,{...m,"aria-current":C,className:I,ref:y,style:O,to:c,viewTransition:f},typeof p=="function"?p(M):p)});Mx.displayName="NavLink";var Px=L.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:l,method:c=wd,action:f,onSubmit:p,relative:m,preventScrollReset:y,viewTransition:_,...E},S)=>{let R=Ux(),H=zx(f,{relative:m}),j=c.toLowerCase()==="get"?"get":"post",U=typeof f=="string"&&OT.test(f),P=D=>{if(p&&p(D),D.defaultPrevented)return;D.preventDefault();let G=D.nativeEvent.submitter,q=(G==null?void 0:G.getAttribute("formmethod"))||c;R(G||D.currentTarget,{fetcherKey:e,method:q,navigate:t,replace:a,state:l,relative:m,preventScrollReset:y,viewTransition:_})};return L.createElement("form",{ref:S,method:j,action:H,onSubmit:r?p:P,...E,"data-discover":!U&&n==="render"?"true":void 0})});Px.displayName="Form";function kx(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DT(n){let e=L.useContext(ko);return at(e,kx(n)),e}function Vx(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:l,viewTransition:c}={}){let f=Er(),p=_r(),m=xu(n,{relative:l});return L.useCallback(y=>{if(hx(y,e)){y.preventDefault();let _=t!==void 0?t:hu(p)===hu(m);f(n,{replace:_,state:r,preventScrollReset:a,relative:l,viewTransition:c})}},[p,f,m,t,r,e,n,a,l,c])}var Lx=0,jx=()=>`__${String(++Lx)}__`;function Ux(){let{router:n}=DT("useSubmit"),{basename:e}=L.useContext(Ri),t=ix();return L.useCallback(async(r,a={})=>{let{action:l,method:c,encType:f,formData:p,body:m}=gx(r,e);if(a.navigate===!1){let y=a.fetcherKey||jx();await n.fetch(y,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:m,formMethod:a.method||c,formEncType:a.encType||f,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:m,formMethod:a.method||c,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function zx(n,{relative:e}={}){let{basename:t}=L.useContext(Ri),r=L.useContext(Ci);at(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...xu(n||".",{relative:e})},c=_r();if(n==null){l.search=c.search;let f=new URLSearchParams(l.search),p=f.getAll("index");if(p.some(y=>y==="")){f.delete("index"),p.filter(_=>_).forEach(_=>f.append("index",_));let y=f.toString();l.search=y?`?${y}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:cr([t,l.pathname])),hu(l)}function Bx(n,e={}){let t=L.useContext(wT);at(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=DT("useViewTransitionState"),a=xu(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=hr(t.currentLocation.pathname,r)||t.currentLocation.pathname,c=hr(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Ld(a.pathname,c)!=null||Ld(a.pathname,l)!=null}[...Sx];/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qx=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),I0=n=>{const e=qx(n);return e.charAt(0).toUpperCase()+e.slice(1)},MT=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),Fx=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Gx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=L.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:a="",children:l,iconNode:c,...f},p)=>L.createElement("svg",{ref:p,...Gx,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:MT("lucide",a),...!l&&!Fx(f)&&{"aria-hidden":"true"},...f},[...c.map(([m,y])=>L.createElement(m,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=(n,e)=>{const t=L.forwardRef(({className:r,...a},l)=>L.createElement($x,{ref:l,iconNode:e,className:MT(`lucide-${Hx(I0(n))}`,`lucide-${n}`,r),...a}));return t.displayName=I0(n),t};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Yx=gn("arrow-left",Kx);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=[["path",{d:"M8 6h10",key:"9lnwnk"}],["path",{d:"M6 12h9",key:"1g9pqf"}],["path",{d:"M11 18h7",key:"c8dzvl"}]],yf=gn("chart-no-axes-gantt",Qx);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Wx=gn("database",Xx);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Ru=gn("heart",Zx);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],sg=gn("house",Jx);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],tR=gn("info",eR);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],iR=gn("log-out",nR);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=[["path",{d:"M15 22a1 1 0 0 1-1-1v-4a1 1 0 0 1 .445-.832l3-2a1 1 0 0 1 1.11 0l3 2A1 1 0 0 1 22 17v4a1 1 0 0 1-1 1z",key:"1p1rcz"}],["path",{d:"M18 10a8 8 0 0 0-16 0c0 4.993 5.539 10.193 7.399 11.799a1 1 0 0 0 .601.2",key:"mcbcs9"}],["path",{d:"M18 22v-3",key:"1t1ugv"}],["circle",{cx:"10",cy:"10",r:"3",key:"1ns7v1"}]],sR=gn("map-pin-house",rR);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],pu=gn("search",aR);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],Cu=gn("shopping-bag",oR);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],uR=gn("shopping-cart",lR);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],So=gn("trash-2",cR);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],jd=gn("user",dR);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],PT=gn("x",fR),hR="/Mutaraf/assets/shoe1-ChF4C_xY.png",pR=()=>{};var N0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},mR=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],c=n[t++],f=n[t++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},VT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,f=c?n[a+1]:0,p=a+2<n.length,m=p?n[a+2]:0,y=l>>2,_=(l&3)<<4|f>>4;let E=(f&15)<<2|m>>6,S=m&63;p||(S=64,c||(E=64)),r.push(t[y],t[_],t[E],t[S])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(kT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):mR(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],f=a<n.length?t[n.charAt(a)]:0;++a;const m=a<n.length?t[n.charAt(a)]:64;++a;const _=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||f==null||m==null||_==null)throw new gR;const E=l<<2|f>>4;if(r.push(E),m!==64){const S=f<<4&240|m>>2;if(r.push(S),_!==64){const R=m<<6&192|_;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class gR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yR=function(n){const e=kT(n);return VT.encodeByteArray(e,!0)},Ud=function(n){return yR(n).replace(/\./g,"")},LT=function(n){try{return VT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=()=>vR().__FIREBASE_DEFAULTS__,ER=()=>{if(typeof process>"u"||typeof N0>"u")return;const n=N0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},TR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&LT(n[1]);return e&&JSON.parse(e)},vf=()=>{try{return pR()||_R()||ER()||TR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},jT=n=>{var e,t;return(t=(e=vf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},UT=n=>{const e=jT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},zT=()=>{var n;return(n=vf())===null||n===void 0?void 0:n.config},BT=n=>{var e;return(e=vf())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ud(JSON.stringify(t)),Ud(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function SR(){var n;const e=(n=vf())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function RR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CR(){const n=en();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function IR(){return!SR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NR(){try{return typeof indexedDB=="object"}catch{return!1}}function OR(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR="FirebaseError";class Ii extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=DR,Object.setPrototypeOf(this,Ii.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Iu.prototype.create)}}class Iu{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?MR(l,r):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new Ii(a,f,r)}}function MR(n,e){return n.replace(PR,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const PR=/\{\$([^}]+)}/g;function kR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function us(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const l=n[a],c=e[a];if(O0(l)&&O0(c)){if(!us(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function O0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function eu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,l]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function tu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function VR(n,e){const t=new LR(n,e);return t.subscribe.bind(t)}class LR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");jR(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=Zp),a.error===void 0&&(a.error=Zp),a.complete===void 0&&(a.complete=Zp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jR(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Zp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(n){return n&&n._delegate?n._delegate:n}class cs{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new bR;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BR(e))try{this.getOrInitializeService({instanceIdentifier:ia})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ia){return this.instances.has(e)}getOptions(e=ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);r===f&&c.resolve(a)}return a}onInit(e,t){var r;const a=this.normalizeInstanceIdentifier(t),l=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:zR(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ia){return this.component?this.component.multipleInstances?e:ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zR(n){return n===ia?void 0:n}function BR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new UR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ve||(Ve={}));const qR={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},FR=Ve.INFO,GR={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},$R=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=GR[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ag{constructor(e){this.name=e,this._logLevel=FR,this._logHandler=$R,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const KR=(n,e)=>e.some(t=>n instanceof t);let D0,M0;function YR(){return D0||(D0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QR(){return M0||(M0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qT=new WeakMap,Em=new WeakMap,FT=new WeakMap,Jp=new WeakMap,og=new WeakMap;function XR(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(ss(n.result)),a()},c=()=>{r(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&qT.set(t,n)}).catch(()=>{}),og.set(e,n),e}function WR(n){if(Em.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Em.set(n,e)}let Tm={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Em.get(n);if(e==="objectStoreNames")return n.objectStoreNames||FT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ss(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function ZR(n){Tm=n(Tm)}function JR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(em(this),e,...t);return FT.set(r,e.sort?e.sort():[e]),ss(r)}:QR().includes(n)?function(...e){return n.apply(em(this),e),ss(qT.get(this))}:function(...e){return ss(n.apply(em(this),e))}}function eC(n){return typeof n=="function"?JR(n):(n instanceof IDBTransaction&&WR(n),KR(n,YR())?new Proxy(n,Tm):n)}function ss(n){if(n instanceof IDBRequest)return XR(n);if(Jp.has(n))return Jp.get(n);const e=eC(n);return e!==n&&(Jp.set(n,e),og.set(e,n)),e}const em=n=>og.get(n);function tC(n,e,{blocked:t,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(n,e),f=ss(c);return r&&c.addEventListener("upgradeneeded",p=>{r(ss(c.result),p.oldVersion,p.newVersion,ss(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const nC=["get","getKey","getAll","getAllKeys","count"],iC=["put","add","delete","clear"],tm=new Map;function P0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(tm.get(e))return tm.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=iC.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||nC.includes(t)))return;const l=async function(c,...f){const p=this.transaction(c,a?"readwrite":"readonly");let m=p.store;return r&&(m=m.index(f.shift())),(await Promise.all([m[t](...f),a&&p.done]))[0]};return tm.set(e,l),l}ZR(n=>({...n,get:(e,t,r)=>P0(e,t)||n.get(e,t,r),has:(e,t)=>!!P0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(sC(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function sC(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const bm="@firebase/app",k0="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr=new ag("@firebase/app"),aC="@firebase/app-compat",oC="@firebase/analytics-compat",lC="@firebase/analytics",uC="@firebase/app-check-compat",cC="@firebase/app-check",dC="@firebase/auth",fC="@firebase/auth-compat",hC="@firebase/database",pC="@firebase/data-connect",mC="@firebase/database-compat",gC="@firebase/functions",yC="@firebase/functions-compat",vC="@firebase/installations",_C="@firebase/installations-compat",EC="@firebase/messaging",TC="@firebase/messaging-compat",bC="@firebase/performance",wC="@firebase/performance-compat",SC="@firebase/remote-config",AC="@firebase/remote-config-compat",xC="@firebase/storage",RC="@firebase/storage-compat",CC="@firebase/firestore",IC="@firebase/vertexai",NC="@firebase/firestore-compat",OC="firebase",DC="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="[DEFAULT]",MC={[bm]:"fire-core",[aC]:"fire-core-compat",[lC]:"fire-analytics",[oC]:"fire-analytics-compat",[cC]:"fire-app-check",[uC]:"fire-app-check-compat",[dC]:"fire-auth",[fC]:"fire-auth-compat",[hC]:"fire-rtdb",[pC]:"fire-data-connect",[mC]:"fire-rtdb-compat",[gC]:"fire-fn",[yC]:"fire-fn-compat",[vC]:"fire-iid",[_C]:"fire-iid-compat",[EC]:"fire-fcm",[TC]:"fire-fcm-compat",[bC]:"fire-perf",[wC]:"fire-perf-compat",[SC]:"fire-rc",[AC]:"fire-rc-compat",[xC]:"fire-gcs",[RC]:"fire-gcs-compat",[CC]:"fire-fst",[NC]:"fire-fst-compat",[IC]:"fire-vertex","fire-js":"fire-js",[OC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd=new Map,PC=new Map,Sm=new Map;function V0(n,e){try{n.container.addComponent(e)}catch(t){pr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function la(n){const e=n.name;if(Sm.has(e))return pr.debug(`There were multiple attempts to register component ${e}.`),!1;Sm.set(e,n);for(const t of zd.values())V0(t,n);for(const t of PC.values())V0(t,n);return!0}function _f(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function hn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},as=new Iu("app","Firebase",kC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new cs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw as.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=DC;function GT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:wm,automaticDataCollectionEnabled:!1},e),a=r.name;if(typeof a!="string"||!a)throw as.create("bad-app-name",{appName:String(a)});if(t||(t=zT()),!t)throw as.create("no-options");const l=zd.get(a);if(l){if(us(t,l.options)&&us(r,l.config))return l;throw as.create("duplicate-app",{appName:a})}const c=new HR(a);for(const p of Sm.values())c.addComponent(p);const f=new VC(t,r,c);return zd.set(a,f),f}function lg(n=wm){const e=zd.get(n);if(!e&&n===wm&&zT())return GT();if(!e)throw as.create("no-app",{appName:n});return e}function _i(n,e,t){var r;let a=(r=MC[n])!==null&&r!==void 0?r:n;t&&(a+=`-${t}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const f=[`Unable to register library "${a}" with version "${e}":`];l&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pr.warn(f.join(" "));return}la(new cs(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC="firebase-heartbeat-database",jC=1,mu="firebase-heartbeat-store";let nm=null;function $T(){return nm||(nm=tC(LC,jC,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(mu)}catch(t){console.warn(t)}}}}).catch(n=>{throw as.create("idb-open",{originalErrorMessage:n.message})})),nm}async function UC(n){try{const t=(await $T()).transaction(mu),r=await t.objectStore(mu).get(KT(n));return await t.done,r}catch(e){if(e instanceof Ii)pr.warn(e.message);else{const t=as.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});pr.warn(t.message)}}}async function L0(n,e){try{const r=(await $T()).transaction(mu,"readwrite");await r.objectStore(mu).put(e,KT(n)),await r.done}catch(t){if(t instanceof Ii)pr.warn(t.message);else{const r=as.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});pr.warn(r.message)}}}function KT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=1024,BC=30;class HC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new FC(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=j0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>BC){const c=GC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){pr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=j0(),{heartbeatsToSend:r,unsentEntries:a}=qC(this._heartbeatsCache.heartbeats),l=Ud(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return pr.warn(t),""}}}function j0(){return new Date().toISOString().substring(0,10)}function qC(n,e=zC){const t=[];let r=n.slice();for(const a of n){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),U0(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),U0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class FC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NR()?OR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await UC(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return L0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return L0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function U0(n){return Ud(JSON.stringify({version:2,heartbeats:n})).length}function GC(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(n){la(new cs("platform-logger",e=>new rC(e),"PRIVATE")),la(new cs("heartbeat",e=>new HC(e),"PRIVATE")),_i(bm,k0,n),_i(bm,k0,"esm2017"),_i("fire-js","")}$C("");var z0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var os,YT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,C){function I(){}I.prototype=C.prototype,M.D=C.prototype,M.prototype=new I,M.prototype.constructor=M,M.C=function(O,k,V){for(var A=Array(arguments.length-2),de=2;de<arguments.length;de++)A[de-2]=arguments[de];return C.prototype[k].apply(O,A)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(M,C,I){I||(I=0);var O=Array(16);if(typeof C=="string")for(var k=0;16>k;++k)O[k]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(k=0;16>k;++k)O[k]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=M.g[0],I=M.g[1],k=M.g[2];var V=M.g[3],A=C+(V^I&(k^V))+O[0]+3614090360&4294967295;C=I+(A<<7&4294967295|A>>>25),A=V+(k^C&(I^k))+O[1]+3905402710&4294967295,V=C+(A<<12&4294967295|A>>>20),A=k+(I^V&(C^I))+O[2]+606105819&4294967295,k=V+(A<<17&4294967295|A>>>15),A=I+(C^k&(V^C))+O[3]+3250441966&4294967295,I=k+(A<<22&4294967295|A>>>10),A=C+(V^I&(k^V))+O[4]+4118548399&4294967295,C=I+(A<<7&4294967295|A>>>25),A=V+(k^C&(I^k))+O[5]+1200080426&4294967295,V=C+(A<<12&4294967295|A>>>20),A=k+(I^V&(C^I))+O[6]+2821735955&4294967295,k=V+(A<<17&4294967295|A>>>15),A=I+(C^k&(V^C))+O[7]+4249261313&4294967295,I=k+(A<<22&4294967295|A>>>10),A=C+(V^I&(k^V))+O[8]+1770035416&4294967295,C=I+(A<<7&4294967295|A>>>25),A=V+(k^C&(I^k))+O[9]+2336552879&4294967295,V=C+(A<<12&4294967295|A>>>20),A=k+(I^V&(C^I))+O[10]+4294925233&4294967295,k=V+(A<<17&4294967295|A>>>15),A=I+(C^k&(V^C))+O[11]+2304563134&4294967295,I=k+(A<<22&4294967295|A>>>10),A=C+(V^I&(k^V))+O[12]+1804603682&4294967295,C=I+(A<<7&4294967295|A>>>25),A=V+(k^C&(I^k))+O[13]+4254626195&4294967295,V=C+(A<<12&4294967295|A>>>20),A=k+(I^V&(C^I))+O[14]+2792965006&4294967295,k=V+(A<<17&4294967295|A>>>15),A=I+(C^k&(V^C))+O[15]+1236535329&4294967295,I=k+(A<<22&4294967295|A>>>10),A=C+(k^V&(I^k))+O[1]+4129170786&4294967295,C=I+(A<<5&4294967295|A>>>27),A=V+(I^k&(C^I))+O[6]+3225465664&4294967295,V=C+(A<<9&4294967295|A>>>23),A=k+(C^I&(V^C))+O[11]+643717713&4294967295,k=V+(A<<14&4294967295|A>>>18),A=I+(V^C&(k^V))+O[0]+3921069994&4294967295,I=k+(A<<20&4294967295|A>>>12),A=C+(k^V&(I^k))+O[5]+3593408605&4294967295,C=I+(A<<5&4294967295|A>>>27),A=V+(I^k&(C^I))+O[10]+38016083&4294967295,V=C+(A<<9&4294967295|A>>>23),A=k+(C^I&(V^C))+O[15]+3634488961&4294967295,k=V+(A<<14&4294967295|A>>>18),A=I+(V^C&(k^V))+O[4]+3889429448&4294967295,I=k+(A<<20&4294967295|A>>>12),A=C+(k^V&(I^k))+O[9]+568446438&4294967295,C=I+(A<<5&4294967295|A>>>27),A=V+(I^k&(C^I))+O[14]+3275163606&4294967295,V=C+(A<<9&4294967295|A>>>23),A=k+(C^I&(V^C))+O[3]+4107603335&4294967295,k=V+(A<<14&4294967295|A>>>18),A=I+(V^C&(k^V))+O[8]+1163531501&4294967295,I=k+(A<<20&4294967295|A>>>12),A=C+(k^V&(I^k))+O[13]+2850285829&4294967295,C=I+(A<<5&4294967295|A>>>27),A=V+(I^k&(C^I))+O[2]+4243563512&4294967295,V=C+(A<<9&4294967295|A>>>23),A=k+(C^I&(V^C))+O[7]+1735328473&4294967295,k=V+(A<<14&4294967295|A>>>18),A=I+(V^C&(k^V))+O[12]+2368359562&4294967295,I=k+(A<<20&4294967295|A>>>12),A=C+(I^k^V)+O[5]+4294588738&4294967295,C=I+(A<<4&4294967295|A>>>28),A=V+(C^I^k)+O[8]+2272392833&4294967295,V=C+(A<<11&4294967295|A>>>21),A=k+(V^C^I)+O[11]+1839030562&4294967295,k=V+(A<<16&4294967295|A>>>16),A=I+(k^V^C)+O[14]+4259657740&4294967295,I=k+(A<<23&4294967295|A>>>9),A=C+(I^k^V)+O[1]+2763975236&4294967295,C=I+(A<<4&4294967295|A>>>28),A=V+(C^I^k)+O[4]+1272893353&4294967295,V=C+(A<<11&4294967295|A>>>21),A=k+(V^C^I)+O[7]+4139469664&4294967295,k=V+(A<<16&4294967295|A>>>16),A=I+(k^V^C)+O[10]+3200236656&4294967295,I=k+(A<<23&4294967295|A>>>9),A=C+(I^k^V)+O[13]+681279174&4294967295,C=I+(A<<4&4294967295|A>>>28),A=V+(C^I^k)+O[0]+3936430074&4294967295,V=C+(A<<11&4294967295|A>>>21),A=k+(V^C^I)+O[3]+3572445317&4294967295,k=V+(A<<16&4294967295|A>>>16),A=I+(k^V^C)+O[6]+76029189&4294967295,I=k+(A<<23&4294967295|A>>>9),A=C+(I^k^V)+O[9]+3654602809&4294967295,C=I+(A<<4&4294967295|A>>>28),A=V+(C^I^k)+O[12]+3873151461&4294967295,V=C+(A<<11&4294967295|A>>>21),A=k+(V^C^I)+O[15]+530742520&4294967295,k=V+(A<<16&4294967295|A>>>16),A=I+(k^V^C)+O[2]+3299628645&4294967295,I=k+(A<<23&4294967295|A>>>9),A=C+(k^(I|~V))+O[0]+4096336452&4294967295,C=I+(A<<6&4294967295|A>>>26),A=V+(I^(C|~k))+O[7]+1126891415&4294967295,V=C+(A<<10&4294967295|A>>>22),A=k+(C^(V|~I))+O[14]+2878612391&4294967295,k=V+(A<<15&4294967295|A>>>17),A=I+(V^(k|~C))+O[5]+4237533241&4294967295,I=k+(A<<21&4294967295|A>>>11),A=C+(k^(I|~V))+O[12]+1700485571&4294967295,C=I+(A<<6&4294967295|A>>>26),A=V+(I^(C|~k))+O[3]+2399980690&4294967295,V=C+(A<<10&4294967295|A>>>22),A=k+(C^(V|~I))+O[10]+4293915773&4294967295,k=V+(A<<15&4294967295|A>>>17),A=I+(V^(k|~C))+O[1]+2240044497&4294967295,I=k+(A<<21&4294967295|A>>>11),A=C+(k^(I|~V))+O[8]+1873313359&4294967295,C=I+(A<<6&4294967295|A>>>26),A=V+(I^(C|~k))+O[15]+4264355552&4294967295,V=C+(A<<10&4294967295|A>>>22),A=k+(C^(V|~I))+O[6]+2734768916&4294967295,k=V+(A<<15&4294967295|A>>>17),A=I+(V^(k|~C))+O[13]+1309151649&4294967295,I=k+(A<<21&4294967295|A>>>11),A=C+(k^(I|~V))+O[4]+4149444226&4294967295,C=I+(A<<6&4294967295|A>>>26),A=V+(I^(C|~k))+O[11]+3174756917&4294967295,V=C+(A<<10&4294967295|A>>>22),A=k+(C^(V|~I))+O[2]+718787259&4294967295,k=V+(A<<15&4294967295|A>>>17),A=I+(V^(k|~C))+O[9]+3951481745&4294967295,M.g[0]=M.g[0]+C&4294967295,M.g[1]=M.g[1]+(k+(A<<21&4294967295|A>>>11))&4294967295,M.g[2]=M.g[2]+k&4294967295,M.g[3]=M.g[3]+V&4294967295}r.prototype.u=function(M,C){C===void 0&&(C=M.length);for(var I=C-this.blockSize,O=this.B,k=this.h,V=0;V<C;){if(k==0)for(;V<=I;)a(this,M,V),V+=this.blockSize;if(typeof M=="string"){for(;V<C;)if(O[k++]=M.charCodeAt(V++),k==this.blockSize){a(this,O),k=0;break}}else for(;V<C;)if(O[k++]=M[V++],k==this.blockSize){a(this,O),k=0;break}}this.h=k,this.o+=C},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var C=1;C<M.length-8;++C)M[C]=0;var I=8*this.o;for(C=M.length-8;C<M.length;++C)M[C]=I&255,I/=256;for(this.u(M),M=Array(16),C=I=0;4>C;++C)for(var O=0;32>O;O+=8)M[I++]=this.g[C]>>>O&255;return M};function l(M,C){var I=f;return Object.prototype.hasOwnProperty.call(I,M)?I[M]:I[M]=C(M)}function c(M,C){this.h=C;for(var I=[],O=!0,k=M.length-1;0<=k;k--){var V=M[k]|0;O&&V==C||(I[k]=V,O=!1)}this.g=I}var f={};function p(M){return-128<=M&&128>M?l(M,function(C){return new c([C|0],0>C?-1:0)}):new c([M|0],0>M?-1:0)}function m(M){if(isNaN(M)||!isFinite(M))return _;if(0>M)return j(m(-M));for(var C=[],I=1,O=0;M>=I;O++)C[O]=M/I|0,I*=4294967296;return new c(C,0)}function y(M,C){if(M.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(M.charAt(0)=="-")return j(y(M.substring(1),C));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=m(Math.pow(C,8)),O=_,k=0;k<M.length;k+=8){var V=Math.min(8,M.length-k),A=parseInt(M.substring(k,k+V),C);8>V?(V=m(Math.pow(C,V)),O=O.j(V).add(m(A))):(O=O.j(I),O=O.add(m(A)))}return O}var _=p(0),E=p(1),S=p(16777216);n=c.prototype,n.m=function(){if(H(this))return-j(this).m();for(var M=0,C=1,I=0;I<this.g.length;I++){var O=this.i(I);M+=(0<=O?O:4294967296+O)*C,C*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(R(this))return"0";if(H(this))return"-"+j(this).toString(M);for(var C=m(Math.pow(M,6)),I=this,O="";;){var k=G(I,C).g;I=U(I,k.j(C));var V=((0<I.g.length?I.g[0]:I.h)>>>0).toString(M);if(I=k,R(I))return V+O;for(;6>V.length;)V="0"+V;O=V+O}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function R(M){if(M.h!=0)return!1;for(var C=0;C<M.g.length;C++)if(M.g[C]!=0)return!1;return!0}function H(M){return M.h==-1}n.l=function(M){return M=U(this,M),H(M)?-1:R(M)?0:1};function j(M){for(var C=M.g.length,I=[],O=0;O<C;O++)I[O]=~M.g[O];return new c(I,~M.h).add(E)}n.abs=function(){return H(this)?j(this):this},n.add=function(M){for(var C=Math.max(this.g.length,M.g.length),I=[],O=0,k=0;k<=C;k++){var V=O+(this.i(k)&65535)+(M.i(k)&65535),A=(V>>>16)+(this.i(k)>>>16)+(M.i(k)>>>16);O=A>>>16,V&=65535,A&=65535,I[k]=A<<16|V}return new c(I,I[I.length-1]&-2147483648?-1:0)};function U(M,C){return M.add(j(C))}n.j=function(M){if(R(this)||R(M))return _;if(H(this))return H(M)?j(this).j(j(M)):j(j(this).j(M));if(H(M))return j(this.j(j(M)));if(0>this.l(S)&&0>M.l(S))return m(this.m()*M.m());for(var C=this.g.length+M.g.length,I=[],O=0;O<2*C;O++)I[O]=0;for(O=0;O<this.g.length;O++)for(var k=0;k<M.g.length;k++){var V=this.i(O)>>>16,A=this.i(O)&65535,de=M.i(k)>>>16,fe=M.i(k)&65535;I[2*O+2*k]+=A*fe,P(I,2*O+2*k),I[2*O+2*k+1]+=V*fe,P(I,2*O+2*k+1),I[2*O+2*k+1]+=A*de,P(I,2*O+2*k+1),I[2*O+2*k+2]+=V*de,P(I,2*O+2*k+2)}for(O=0;O<C;O++)I[O]=I[2*O+1]<<16|I[2*O];for(O=C;O<2*C;O++)I[O]=0;return new c(I,0)};function P(M,C){for(;(M[C]&65535)!=M[C];)M[C+1]+=M[C]>>>16,M[C]&=65535,C++}function D(M,C){this.g=M,this.h=C}function G(M,C){if(R(C))throw Error("division by zero");if(R(M))return new D(_,_);if(H(M))return C=G(j(M),C),new D(j(C.g),j(C.h));if(H(C))return C=G(M,j(C)),new D(j(C.g),C.h);if(30<M.g.length){if(H(M)||H(C))throw Error("slowDivide_ only works with positive integers.");for(var I=E,O=C;0>=O.l(M);)I=q(I),O=q(O);var k=ee(I,1),V=ee(O,1);for(O=ee(O,2),I=ee(I,2);!R(O);){var A=V.add(O);0>=A.l(M)&&(k=k.add(I),V=A),O=ee(O,1),I=ee(I,1)}return C=U(M,k.j(C)),new D(k,C)}for(k=_;0<=M.l(C);){for(I=Math.max(1,Math.floor(M.m()/C.m())),O=Math.ceil(Math.log(I)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),V=m(I),A=V.j(C);H(A)||0<A.l(M);)I-=O,V=m(I),A=V.j(C);R(V)&&(V=E),k=k.add(V),M=U(M,A)}return new D(k,M)}n.A=function(M){return G(this,M).h},n.and=function(M){for(var C=Math.max(this.g.length,M.g.length),I=[],O=0;O<C;O++)I[O]=this.i(O)&M.i(O);return new c(I,this.h&M.h)},n.or=function(M){for(var C=Math.max(this.g.length,M.g.length),I=[],O=0;O<C;O++)I[O]=this.i(O)|M.i(O);return new c(I,this.h|M.h)},n.xor=function(M){for(var C=Math.max(this.g.length,M.g.length),I=[],O=0;O<C;O++)I[O]=this.i(O)^M.i(O);return new c(I,this.h^M.h)};function q(M){for(var C=M.g.length+1,I=[],O=0;O<C;O++)I[O]=M.i(O)<<1|M.i(O-1)>>>31;return new c(I,M.h)}function ee(M,C){var I=C>>5;C%=32;for(var O=M.g.length-I,k=[],V=0;V<O;V++)k[V]=0<C?M.i(V+I)>>>C|M.i(V+I+1)<<32-C:M.i(V+I);return new c(k,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,YT=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=y,os=c}).apply(typeof z0<"u"?z0:typeof self<"u"?self:typeof window<"u"?window:{});var fd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var QT,nu,XT,Ad,Am,WT,ZT,JT;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,T){return d==Array.prototype||d==Object.prototype||(d[v]=T.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof fd=="object"&&fd];for(var v=0;v<d.length;++v){var T=d[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=t(this);function a(d,v){if(v)e:{var T=r;d=d.split(".");for(var N=0;N<d.length-1;N++){var Y=d[N];if(!(Y in T))break e;T=T[Y]}d=d[d.length-1],N=T[d],v=v(N),v!=N&&v!=null&&e(T,d,{configurable:!0,writable:!0,value:v})}}function l(d,v){d instanceof String&&(d+="");var T=0,N=!1,Y={next:function(){if(!N&&T<d.length){var ne=T++;return{value:v(ne,d[ne]),done:!1}}return N=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}a("Array.prototype.values",function(d){return d||function(){return l(this,function(v,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function p(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function m(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function y(d,v,T){return d.call.apply(d.bind,arguments)}function _(d,v,T){if(!d)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,N),d.apply(v,Y)}}return function(){return d.apply(v,arguments)}}function E(d,v,T){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,E.apply(null,arguments)}function S(d,v){var T=Array.prototype.slice.call(arguments,1);return function(){var N=T.slice();return N.push.apply(N,arguments),d.apply(this,N)}}function R(d,v){function T(){}T.prototype=v.prototype,d.aa=v.prototype,d.prototype=new T,d.prototype.constructor=d,d.Qb=function(N,Y,ne){for(var he=Array(arguments.length-2),je=2;je<arguments.length;je++)he[je-2]=arguments[je];return v.prototype[Y].apply(N,he)}}function H(d){const v=d.length;if(0<v){const T=Array(v);for(let N=0;N<v;N++)T[N]=d[N];return T}return[]}function j(d,v){for(let T=1;T<arguments.length;T++){const N=arguments[T];if(p(N)){const Y=d.length||0,ne=N.length||0;d.length=Y+ne;for(let he=0;he<ne;he++)d[Y+he]=N[he]}else d.push(N)}}class U{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function P(d){return/^[\s\xa0]*$/.test(d)}function D(){var d=f.navigator;return d&&(d=d.userAgent)?d:""}function G(d){return G[" "](d),d}G[" "]=function(){};var q=D().indexOf("Gecko")!=-1&&!(D().toLowerCase().indexOf("webkit")!=-1&&D().indexOf("Edge")==-1)&&!(D().indexOf("Trident")!=-1||D().indexOf("MSIE")!=-1)&&D().indexOf("Edge")==-1;function ee(d,v,T){for(const N in d)v.call(T,d[N],N,d)}function M(d,v){for(const T in d)v.call(void 0,d[T],T,d)}function C(d){const v={};for(const T in d)v[T]=d[T];return v}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(d,v){let T,N;for(let Y=1;Y<arguments.length;Y++){N=arguments[Y];for(T in N)d[T]=N[T];for(let ne=0;ne<I.length;ne++)T=I[ne],Object.prototype.hasOwnProperty.call(N,T)&&(d[T]=N[T])}}function k(d){var v=1;d=d.split(":");const T=[];for(;0<v&&d.length;)T.push(d.shift()),v--;return d.length&&T.push(d.join(":")),T}function V(d){f.setTimeout(()=>{throw d},0)}function A(){var d=pe;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class de{constructor(){this.h=this.g=null}add(v,T){const N=fe.get();N.set(v,T),this.h?this.h.next=N:this.g=N,this.h=N}}var fe=new U(()=>new $,d=>d.reset());class ${constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let W,ce=!1,pe=new de,z=()=>{const d=f.Promise.resolve(void 0);W=()=>{d.then(te)}};var te=()=>{for(var d;d=A();){try{d.h.call(d.g)}catch(T){V(T)}var v=fe;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}ce=!1};function se(){this.s=this.s,this.C=this.C}se.prototype.s=!1,se.prototype.ma=function(){this.s||(this.s=!0,this.N())},se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};f.addEventListener("test",T,v),f.removeEventListener("test",T,v)}catch{}return d}();function Ie(d,v){if(ue.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var T=this.type=d.type,N=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(q){e:{try{G(v.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(v=null)}}else T=="mouseover"?v=d.fromElement:T=="mouseout"&&(v=d.toElement);this.relatedTarget=v,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Ae[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ie.aa.h.call(this)}}R(Ie,ue);var Ae={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var gt="closure_listenable_"+(1e6*Math.random()|0),et=0;function Jn(d,v,T,N,Y){this.listener=d,this.proxy=null,this.src=v,this.type=T,this.capture=!!N,this.ha=Y,this.key=++et,this.da=this.fa=!1}function wr(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Di(d){this.src=d,this.g={},this.h=0}Di.prototype.add=function(d,v,T,N,Y){var ne=d.toString();d=this.g[ne],d||(d=this.g[ne]=[],this.h++);var he=Ts(d,v,N,Y);return-1<he?(v=d[he],T||(v.fa=!1)):(v=new Jn(v,this.src,ne,!!N,Y),v.fa=T,d.push(v)),v};function Es(d,v){var T=v.type;if(T in d.g){var N=d.g[T],Y=Array.prototype.indexOf.call(N,v,void 0),ne;(ne=0<=Y)&&Array.prototype.splice.call(N,Y,1),ne&&(wr(v),d.g[T].length==0&&(delete d.g[T],d.h--))}}function Ts(d,v,T,N){for(var Y=0;Y<d.length;++Y){var ne=d[Y];if(!ne.da&&ne.listener==v&&ne.capture==!!T&&ne.ha==N)return Y}return-1}var bs="closure_lm_"+(1e6*Math.random()|0),Bo={};function Bu(d,v,T,N,Y){if(Array.isArray(v)){for(var ne=0;ne<v.length;ne++)Bu(d,v[ne],T,N,Y);return null}return T=Hu(T),d&&d[gt]?d.K(v,T,m(N)?!!N.capture:!1,Y):Cn(d,v,T,!1,N,Y)}function Cn(d,v,T,N,Y,ne){if(!v)throw Error("Invalid event type");var he=m(Y)?!!Y.capture:!!Y,je=wa(d);if(je||(d[bs]=je=new Di(d)),T=je.add(v,T,N,he,ne),T.proxy)return T;if(N=Ff(),T.proxy=N,N.src=d,N.listener=T,d.addEventListener)ye||(Y=he),Y===void 0&&(Y=!1),d.addEventListener(v.toString(),N,Y);else if(d.attachEvent)d.attachEvent(ws(v.toString()),N);else if(d.addListener&&d.removeListener)d.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Ff(){function d(T){return v.call(d.src,d.listener,T)}const v=Gf;return d}function Ho(d,v,T,N,Y){if(Array.isArray(v))for(var ne=0;ne<v.length;ne++)Ho(d,v[ne],T,N,Y);else N=m(N)?!!N.capture:!!N,T=Hu(T),d&&d[gt]?(d=d.i,v=String(v).toString(),v in d.g&&(ne=d.g[v],T=Ts(ne,T,N,Y),-1<T&&(wr(ne[T]),Array.prototype.splice.call(ne,T,1),ne.length==0&&(delete d.g[v],d.h--)))):d&&(d=wa(d))&&(v=d.g[v.toString()],d=-1,v&&(d=Ts(v,T,N,Y)),(T=-1<d?v[d]:null)&&ba(T))}function ba(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[gt])Es(v.i,d);else{var T=d.type,N=d.proxy;v.removeEventListener?v.removeEventListener(T,N,d.capture):v.detachEvent?v.detachEvent(ws(T),N):v.addListener&&v.removeListener&&v.removeListener(N),(T=wa(v))?(Es(T,d),T.h==0&&(T.src=null,v[bs]=null)):wr(d)}}}function ws(d){return d in Bo?Bo[d]:Bo[d]="on"+d}function Gf(d,v){if(d.da)d=!0;else{v=new Ie(v,this);var T=d.listener,N=d.ha||d.src;d.fa&&ba(d),d=T.call(N,v)}return d}function wa(d){return d=d[bs],d instanceof Di?d:null}var qo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hu(d){return typeof d=="function"?d:(d[qo]||(d[qo]=function(v){return d.handleEvent(v)}),d[qo])}function lt(){se.call(this),this.i=new Di(this),this.M=this,this.F=null}R(lt,se),lt.prototype[gt]=!0,lt.prototype.removeEventListener=function(d,v,T,N){Ho(this,d,v,T,N)};function $e(d,v){var T,N=d.F;if(N)for(T=[];N;N=N.F)T.push(N);if(d=d.M,N=v.type||v,typeof v=="string")v=new ue(v,d);else if(v instanceof ue)v.target=v.target||d;else{var Y=v;v=new ue(N,d),O(v,Y)}if(Y=!0,T)for(var ne=T.length-1;0<=ne;ne--){var he=v.g=T[ne];Y=yn(he,N,!0,v)&&Y}if(he=v.g=d,Y=yn(he,N,!0,v)&&Y,Y=yn(he,N,!1,v)&&Y,T)for(ne=0;ne<T.length;ne++)he=v.g=T[ne],Y=yn(he,N,!1,v)&&Y}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var T=d.g[v],N=0;N<T.length;N++)wr(T[N]);delete d.g[v],d.h--}}this.F=null},lt.prototype.K=function(d,v,T,N){return this.i.add(String(d),v,!1,T,N)},lt.prototype.L=function(d,v,T,N){return this.i.add(String(d),v,!0,T,N)};function yn(d,v,T,N){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var Y=!0,ne=0;ne<v.length;++ne){var he=v[ne];if(he&&!he.da&&he.capture==T){var je=he.listener,wt=he.ha||he.src;he.fa&&Es(d.i,he),Y=je.call(wt,N)!==!1&&Y}}return Y&&!N.defaultPrevented}function $t(d,v,T){if(typeof d=="function")T&&(d=E(d,T));else if(d&&typeof d.handleEvent=="function")d=E(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:f.setTimeout(d,v||0)}function qu(d){d.g=$t(()=>{d.g=null,d.i&&(d.i=!1,qu(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class $f extends se{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:qu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ss(d){se.call(this),this.h=d,this.g={}}R(Ss,se);var As=[];function xs(d){ee(d.g,function(v,T){this.g.hasOwnProperty(T)&&ba(v)},d),d.g={}}Ss.prototype.N=function(){Ss.aa.N.call(this),xs(this)},Ss.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qn=f.JSON.stringify,Sa=f.JSON.parse,Rs=class{stringify(d){return f.JSON.stringify(d,void 0)}parse(d){return f.JSON.parse(d,void 0)}};function Fo(){}Fo.prototype.h=null;function Go(d){return d.h||(d.h=d.i())}function $o(){}var Mi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Pi(){ue.call(this,"d")}R(Pi,ue);function Ko(){ue.call(this,"c")}R(Ko,ue);var ei={},Yo=null;function Sr(){return Yo=Yo||new lt}ei.La="serverreachability";function Aa(d){ue.call(this,ei.La,d)}R(Aa,ue);function Ar(d){const v=Sr();$e(v,new Aa(v))}ei.STAT_EVENT="statevent";function Fu(d,v){ue.call(this,ei.STAT_EVENT,d),this.stat=v}R(Fu,ue);function nt(d){const v=Sr();$e(v,new Fu(v,d))}ei.Ma="timingevent";function bt(d,v){ue.call(this,ei.Ma,d),this.size=v}R(bt,ue);function yt(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){d()},v)}function In(){this.g=!0}In.prototype.xa=function(){this.g=!1};function Qo(d,v,T,N,Y,ne){d.info(function(){if(d.g)if(ne)for(var he="",je=ne.split("&"),wt=0;wt<je.length;wt++){var Ue=je[wt].split("=");if(1<Ue.length){var Dt=Ue[0];Ue=Ue[1];var St=Dt.split("_");he=2<=St.length&&St[1]=="type"?he+(Dt+"="+Ue+"&"):he+(Dt+"=redacted&")}}else he=null;else he=ne;return"XMLHTTP REQ ("+N+") [attempt "+Y+"]: "+v+`
`+T+`
`+he})}function Kf(d,v,T,N,Y,ne,he){d.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+Y+"]: "+v+`
`+T+`
`+ne+" "+he})}function xr(d,v,T,N){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+Cs(d,T)+(N?" "+N:"")})}function Gu(d,v){d.info(function(){return"TIMEOUT: "+v})}In.prototype.info=function(){};function Cs(d,v){if(!d.g)return v;if(!v)return null;try{var T=JSON.parse(v);if(T){for(d=0;d<T.length;d++)if(Array.isArray(T[d])){var N=T[d];if(!(2>N.length)){var Y=N[1];if(Array.isArray(Y)&&!(1>Y.length)){var ne=Y[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var he=1;he<Y.length;he++)Y[he]=""}}}}return qn(T)}catch{return v}}var Rr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ki={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ti;function ni(){}R(ni,Fo),ni.prototype.g=function(){return new XMLHttpRequest},ni.prototype.i=function(){return{}},ti=new ni;function tn(d,v,T,N){this.j=d,this.i=v,this.l=T,this.R=N||1,this.U=new Ss(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ft}function ft(){this.i=null,this.g="",this.h=!1}var Xo={},xa={};function Fn(d,v,T){d.L=1,d.v=Ms(vn(v)),d.m=T,d.P=!0,Vi(d,null)}function Vi(d,v){d.F=Date.now(),Is(d),d.A=vn(d.v);var T=d.A,N=d.R;Array.isArray(N)||(N=[String(N)]),nl(T.i,"t",N),d.C=0,T=d.j.J,d.h=new ft,d.g=oc(d.j,T?v:null,!d.m),0<d.O&&(d.M=new $f(E(d.Y,d,d.g),d.O)),v=d.U,T=d.g,N=d.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(As[0]=Y.toString()),Y=As);for(var ne=0;ne<Y.length;ne++){var he=Bu(T,Y[ne],N||v.handleEvent,!1,v.h||v);if(!he)break;v.g[he.key]=he}v=d.H?C(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),Ar(),Qo(d.i,d.u,d.A,d.l,d.R,d.m)}tn.prototype.ca=function(d){d=d.target;const v=this.M;v&&Mn(d)==3?v.j():this.Y(d)},tn.prototype.Y=function(d){try{if(d==this.g)e:{const St=Mn(this.g);var v=this.g.Ba();const Fi=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||Ju(this.g)))){this.J||St!=4||v==7||(v==8||0>=Fi?Ar(3):Ar(2)),Cr(this);var T=this.g.Z();this.X=T;t:if($u(this)){var N=Ju(this.g);d="";var Y=N.length,ne=Mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){jt(this),ii(this);var he="";break t}this.h.i=new f.TextDecoder}for(v=0;v<Y;v++)this.h.h=!0,d+=this.h.i.decode(N[v],{stream:!(ne&&v==Y-1)});N.length=0,this.h.g+=d,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=T==200,Kf(this.i,this.u,this.A,this.l,this.R,St,T),this.o){if(this.T&&!this.K){t:{if(this.g){var je,wt=this.g;if((je=wt.g?wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(je)){var Ue=je;break t}}Ue=null}if(T=Ue)xr(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ns(this,T);else{this.o=!1,this.s=3,nt(12),jt(this),ii(this);break e}}if(this.P){T=!0;let Ut;for(;!this.J&&this.C<he.length;)if(Ut=Ku(this,he),Ut==xa){St==4&&(this.s=4,nt(14),T=!1),xr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ut==Xo){this.s=4,nt(15),xr(this.i,this.l,he,"[Invalid Chunk]"),T=!1;break}else xr(this.i,this.l,Ut,null),Ns(this,Ut);if($u(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||he.length!=0||this.h.h||(this.s=1,nt(16),T=!1),this.o=this.o&&T,!T)xr(this.i,this.l,he,"[Invalid Chunked Response]"),jt(this),ii(this);else if(0<he.length&&!this.W){this.W=!0;var Dt=this.j;Dt.g==this&&Dt.ba&&!Dt.M&&(Dt.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),Bs(Dt),Dt.M=!0,nt(11))}}else xr(this.i,this.l,he,null),Ns(this,he);St==4&&jt(this),this.o&&!this.J&&(St==4?rc(this.j,this):(this.o=!1,Is(this)))}else Zf(this.g),T==400&&0<he.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),jt(this),ii(this)}}}catch{}finally{}};function $u(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Ku(d,v){var T=d.C,N=v.indexOf(`
`,T);return N==-1?xa:(T=Number(v.substring(T,N)),isNaN(T)?Xo:(N+=1,N+T>v.length?xa:(v=v.slice(N,N+T),d.C=N+T,v)))}tn.prototype.cancel=function(){this.J=!0,jt(this)};function Is(d){d.S=Date.now()+d.I,Yu(d,d.I)}function Yu(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=yt(E(d.ba,d),v)}function Cr(d){d.B&&(f.clearTimeout(d.B),d.B=null)}tn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Gu(this.i,this.A),this.L!=2&&(Ar(),nt(17)),jt(this),this.s=2,ii(this)):Yu(this,this.S-d)};function ii(d){d.j.G==0||d.J||rc(d.j,d)}function jt(d){Cr(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,xs(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function Ns(d,v){try{var T=d.j;if(T.G!=0&&(T.g==d||Wo(T.h,d))){if(!d.K&&Wo(T.h,d)&&T.G==3){try{var N=T.Da.g.parse(v)}catch{N=null}if(Array.isArray(N)&&N.length==3){var Y=N;if(Y[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<d.F)ja(T),Va(T);else break e;ol(T),nt(18)}}else T.za=Y[1],0<T.za-T.T&&37500>Y[2]&&T.F&&T.v==0&&!T.C&&(T.C=yt(E(T.Za,T),6e3));if(1>=Ca(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else qi(T,11)}else if((d.K||T.g==d)&&ja(T),!P(v))for(Y=T.Da.g.parse(v),v=0;v<Y.length;v++){let Ue=Y[v];if(T.T=Ue[0],Ue=Ue[1],T.G==2)if(Ue[0]=="c"){T.K=Ue[1],T.ia=Ue[2];const Dt=Ue[3];Dt!=null&&(T.la=Dt,T.j.info("VER="+T.la));const St=Ue[4];St!=null&&(T.Aa=St,T.j.info("SVER="+T.Aa));const Fi=Ue[5];Fi!=null&&typeof Fi=="number"&&0<Fi&&(N=1.5*Fi,T.L=N,T.j.info("backChannelRequestTimeoutMs_="+N)),N=T;const Ut=d.g;if(Ut){const ci=Ut.g?Ut.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ci){var ne=N.h;ne.g||ci.indexOf("spdy")==-1&&ci.indexOf("quic")==-1&&ci.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(Ia(ne,ne.h),ne.h=null))}if(N.D){const ul=Ut.g?Ut.g.getResponseHeader("X-HTTP-Session-Id"):null;ul&&(N.ya=ul,Qe(N.I,N.D,ul))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-d.F,T.j.info("Handshake RTT: "+T.R+"ms")),N=T;var he=d;if(N.qa=ac(N,N.J?N.ia:null,N.W),he.K){nn(N.h,he);var je=he,wt=N.L;wt&&(je.I=wt),je.B&&(Cr(je),Is(je)),N.g=he}else nc(N);0<T.i.length&&La(T)}else Ue[0]!="stop"&&Ue[0]!="close"||qi(T,7);else T.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?qi(T,7):sl(T):Ue[0]!="noop"&&T.l&&T.l.ta(Ue),T.v=0)}}Ar(4)}catch{}}var Qu=class{constructor(d,v){this.g=d,this.map=v}};function Li(d){this.l=d||10,f.PerformanceNavigationTiming?(d=f.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ra(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Ca(d){return d.h?1:d.g?d.g.size:0}function Wo(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function Ia(d,v){d.g?d.g.add(v):d.h=v}function nn(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}Li.prototype.cancel=function(){if(this.i=Zo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Zo(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const T of d.g.values())v=v.concat(T.D);return v}return H(d.i)}function Yf(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(p(d)){for(var v=[],T=d.length,N=0;N<T;N++)v.push(d[N]);return v}v=[],T=0;for(N in d)v[T++]=d[N];return v}function Na(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(p(d)||typeof d=="string"){var v=[];d=d.length;for(var T=0;T<d;T++)v.push(T);return v}v=[],T=0;for(const N in d)v[T++]=N;return v}}}function Jo(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(p(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var T=Na(d),N=Yf(d),Y=N.length,ne=0;ne<Y;ne++)v.call(void 0,N[ne],T&&T[ne],d)}var Os=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qf(d,v){if(d){d=d.split("&");for(var T=0;T<d.length;T++){var N=d[T].indexOf("="),Y=null;if(0<=N){var ne=d[T].substring(0,N);Y=d[T].substring(N+1)}else ne=d[T];v(ne,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function vt(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof vt){this.h=d.h,Ds(this,d.j),this.o=d.o,this.g=d.g,Ir(this,d.s),this.l=d.l;var v=d.i,T=new Ui;T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),ji(this,T),this.m=d.m}else d&&(v=String(d).match(Os))?(this.h=!1,Ds(this,v[1]||"",!0),this.o=Nn(v[2]||""),this.g=Nn(v[3]||"",!0),Ir(this,v[4]),this.l=Nn(v[5]||"",!0),ji(this,v[6]||"",!0),this.m=Nn(v[7]||"")):(this.h=!1,this.i=new Ui(null,this.h))}vt.prototype.toString=function(){var d=[],v=this.j;v&&d.push(Ps(v,el,!0),":");var T=this.g;return(T||v=="file")&&(d.push("//"),(v=this.o)&&d.push(Ps(v,el,!0),"@"),d.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&d.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(Ps(T,T.charAt(0)=="/"?Xf:tl,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",Ps(T,Oa)),d.join("")};function vn(d){return new vt(d)}function Ds(d,v,T){d.j=T?Nn(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function Ir(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function ji(d,v,T){v instanceof Ui?(d.i=v,Wu(d.i,d.h)):(T||(v=Ps(v,Wf)),d.i=new Ui(v,d.h))}function Qe(d,v,T){d.i.set(v,T)}function Ms(d){return Qe(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Nn(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Ps(d,v,T){return typeof d=="string"?(d=encodeURI(d).replace(v,Xu),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Xu(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var el=/[#\/\?@]/g,tl=/[#\?:]/g,Xf=/[#\?]/g,Wf=/[#\?@]/g,Oa=/#/g;function Ui(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function On(d){d.g||(d.g=new Map,d.h=0,d.i&&Qf(d.i,function(v,T){d.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}n=Ui.prototype,n.add=function(d,v){On(this),this.i=null,d=ri(this,d);var T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(v),this.h+=1,this};function zi(d,v){On(d),v=ri(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function Bi(d,v){return On(d),v=ri(d,v),d.g.has(v)}n.forEach=function(d,v){On(this),this.g.forEach(function(T,N){T.forEach(function(Y){d.call(v,Y,N,this)},this)},this)},n.na=function(){On(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),T=[];for(let N=0;N<v.length;N++){const Y=d[N];for(let ne=0;ne<Y.length;ne++)T.push(v[N])}return T},n.V=function(d){On(this);let v=[];if(typeof d=="string")Bi(this,d)&&(v=v.concat(this.g.get(ri(this,d))));else{d=Array.from(this.g.values());for(let T=0;T<d.length;T++)v=v.concat(d[T])}return v},n.set=function(d,v){return On(this),this.i=null,d=ri(this,d),Bi(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},n.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function nl(d,v,T){zi(d,v),0<T.length&&(d.i=null,d.g.set(ri(d,v),H(T)),d.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var T=0;T<v.length;T++){var N=v[T];const ne=encodeURIComponent(String(N)),he=this.V(N);for(N=0;N<he.length;N++){var Y=ne;he[N]!==""&&(Y+="="+encodeURIComponent(String(he[N]))),d.push(Y)}}return this.i=d.join("&")};function ri(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function Wu(d,v){v&&!d.j&&(On(d),d.i=null,d.g.forEach(function(T,N){var Y=N.toLowerCase();N!=Y&&(zi(this,N),nl(this,Y,T))},d)),d.j=v}function ks(d,v){const T=new In;if(f.Image){const N=new Image;N.onload=S(Dn,T,"TestLoadImage: loaded",!0,v,N),N.onerror=S(Dn,T,"TestLoadImage: error",!1,v,N),N.onabort=S(Dn,T,"TestLoadImage: abort",!1,v,N),N.ontimeout=S(Dn,T,"TestLoadImage: timeout",!1,v,N),f.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=d}else v(!1)}function Gn(d,v){const T=new In,N=new AbortController,Y=setTimeout(()=>{N.abort(),Dn(T,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:N.signal}).then(ne=>{clearTimeout(Y),ne.ok?Dn(T,"TestPingServer: ok",!0,v):Dn(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Y),Dn(T,"TestPingServer: error",!1,v)})}function Dn(d,v,T,N,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),N(T)}catch{}}function Vs(){this.g=new Rs}function si(d,v,T){const N=T||"";try{Jo(d,function(Y,ne){let he=Y;m(Y)&&(he=qn(Y)),v.push(N+ne+"="+encodeURIComponent(he))})}catch(Y){throw v.push(N+"type="+encodeURIComponent("_badmap")),Y}}function Nr(d){this.l=d.Ub||null,this.j=d.eb||!1}R(Nr,Fo),Nr.prototype.g=function(){return new Hi(this.l,this.j)},Nr.prototype.i=function(d){return function(){return d}}({});function Hi(d,v){lt.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(Hi,lt),n=Hi.prototype,n.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,oi(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||f).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ai(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;il(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function il(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?ai(this):oi(this),this.readyState==3&&il(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,ai(this))},n.Qa=function(d){this.g&&(this.response=d,ai(this))},n.ga=function(){this.g&&ai(this)};function ai(d){d.readyState=4,d.l=null,d.j=null,d.v=null,oi(d)}n.setRequestHeader=function(d,v){this.u.append(d,v)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=v.next();return d.join(`\r
`)};function oi(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Hi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function rl(d){let v="";return ee(d,function(T,N){v+=N,v+=":",v+=T,v+=`\r
`}),v}function Ot(d,v,T){e:{for(N in T){var N=!1;break e}N=!0}N||(T=rl(T),typeof d=="string"?T!=null&&encodeURIComponent(String(T)):Qe(d,v,T))}function Fe(d){lt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(Fe,lt);var Da=/^https?$/i,Ls=["POST","PUT"];n=Fe.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,v,T,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ti.g(),this.v=this.o?Go(this.o):Go(ti),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(ne){Zu(this,ne);return}if(d=T||"",T=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var Y in N)T.set(Y,N[Y]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const ne of N.keys())T.set(ne,N.get(ne));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(T.keys()).find(ne=>ne.toLowerCase()=="content-type"),Y=f.FormData&&d instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Ls,v,void 0))||N||Y||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,he]of T)this.g.setRequestHeader(ne,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{js(this),this.u=!0,this.g.send(d),this.u=!1}catch(ne){Zu(this,ne)}};function Zu(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,Ma(d),li(d)}function Ma(d){d.A||(d.A=!0,$e(d,"complete"),$e(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,$e(this,"complete"),$e(this,"abort"),li(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),li(this,!0)),Fe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Pa(this):this.bb())},n.bb=function(){Pa(this)};function Pa(d){if(d.h&&typeof c<"u"&&(!d.v[1]||Mn(d)!=4||d.Z()!=2)){if(d.u&&Mn(d)==4)$t(d.Ea,0,d);else if($e(d,"readystatechange"),Mn(d)==4){d.h=!1;try{const he=d.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var N;if(N=he===0){var Y=String(d.D).match(Os)[1]||null;!Y&&f.self&&f.self.location&&(Y=f.self.location.protocol.slice(0,-1)),N=!Da.test(Y?Y.toLowerCase():"")}T=N}if(T)$e(d,"complete"),$e(d,"success");else{d.m=6;try{var ne=2<Mn(d)?d.g.statusText:""}catch{ne=""}d.l=ne+" ["+d.Z()+"]",Ma(d)}}finally{li(d)}}}}function li(d,v){if(d.g){js(d);const T=d.g,N=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||$e(d,"ready");try{T.onreadystatechange=N}catch{}}}function js(d){d.I&&(f.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function Mn(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<Mn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),Sa(v)}};function Ju(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Zf(d){const v={};d=(d.g&&2<=Mn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<d.length;N++){if(P(d[N]))continue;var T=k(d[N]);const Y=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const ne=v[Y]||[];v[Y]=ne,ne.push(T)}M(v,function(N){return N.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Us(d,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||v}function ka(d){this.Aa=0,this.i=[],this.j=new In,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Us("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Us("baseRetryDelayMs",5e3,d),this.cb=Us("retryDelaySeedMs",1e4,d),this.Wa=Us("forwardChannelMaxRetries",2,d),this.wa=Us("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Li(d&&d.concurrentRequestLimit),this.Da=new Vs,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ka.prototype,n.la=8,n.G=1,n.connect=function(d,v,T,N){nt(0),this.W=d,this.H=v||{},T&&N!==void 0&&(this.H.OSID=T,this.H.OAID=N),this.F=this.X,this.I=ac(this,null,this.W),La(this)};function sl(d){if(ec(d),d.G==3){var v=d.U++,T=vn(d.I);if(Qe(T,"SID",d.K),Qe(T,"RID",v),Qe(T,"TYPE","terminate"),zs(d,T),v=new tn(d,d.j,v),v.L=2,v.v=Ms(vn(T)),T=!1,f.navigator&&f.navigator.sendBeacon)try{T=f.navigator.sendBeacon(v.v.toString(),"")}catch{}!T&&f.Image&&(new Image().src=v.v,T=!0),T||(v.g=oc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Is(v)}sc(d)}function Va(d){d.g&&(Bs(d),d.g.cancel(),d.g=null)}function ec(d){Va(d),d.u&&(f.clearTimeout(d.u),d.u=null),ja(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&f.clearTimeout(d.s),d.s=null)}function La(d){if(!Ra(d.h)&&!d.s){d.s=!0;var v=d.Ga;W||z(),ce||(W(),ce=!0),pe.add(v,d),d.B=0}}function Jf(d,v){return Ca(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=yt(E(d.Ga,d,v),ll(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const Y=new tn(this,this.j,d);let ne=this.o;if(this.S&&(ne?(ne=C(ne),O(ne,this.S)):ne=this.S),this.m!==null||this.O||(Y.H=ne,ne=null),this.P)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var N=this.i[T];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(v+=N,4096<v){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=tc(this,Y,v),T=vn(this.I),Qe(T,"RID",d),Qe(T,"CVER",22),this.D&&Qe(T,"X-HTTP-Session-Id",this.D),zs(this,T),ne&&(this.O?v="headers="+encodeURIComponent(String(rl(ne)))+"&"+v:this.m&&Ot(T,this.m,ne)),Ia(this.h,Y),this.Ua&&Qe(T,"TYPE","init"),this.P?(Qe(T,"$req",v),Qe(T,"SID","null"),Y.T=!0,Fn(Y,T,null)):Fn(Y,T,v),this.G=2}}else this.G==3&&(d?al(this,d):this.i.length==0||Ra(this.h)||al(this))};function al(d,v){var T;v?T=v.l:T=d.U++;const N=vn(d.I);Qe(N,"SID",d.K),Qe(N,"RID",T),Qe(N,"AID",d.T),zs(d,N),d.m&&d.o&&Ot(N,d.m,d.o),T=new tn(d,d.j,T,d.B+1),d.m===null&&(T.H=d.o),v&&(d.i=v.D.concat(d.i)),v=tc(d,T,1e3),T.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Ia(d.h,T),Fn(T,N,v)}function zs(d,v){d.H&&ee(d.H,function(T,N){Qe(v,N,T)}),d.l&&Jo({},function(T,N){Qe(v,N,T)})}function tc(d,v,T){T=Math.min(d.i.length,T);var N=d.l?E(d.l.Na,d.l,d):null;e:{var Y=d.i;let ne=-1;for(;;){const he=["count="+T];ne==-1?0<T?(ne=Y[0].g,he.push("ofs="+ne)):ne=0:he.push("ofs="+ne);let je=!0;for(let wt=0;wt<T;wt++){let Ue=Y[wt].g;const Dt=Y[wt].map;if(Ue-=ne,0>Ue)ne=Math.max(0,Y[wt].g-100),je=!1;else try{si(Dt,he,"req"+Ue+"_")}catch{N&&N(Dt)}}if(je){N=he.join("&");break e}}}return d=d.i.splice(0,T),v.D=d,N}function nc(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;W||z(),ce||(W(),ce=!0),pe.add(v,d),d.v=0}}function ol(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=yt(E(d.Fa,d),ll(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,ic(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=yt(E(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),Va(this),ic(this))};function Bs(d){d.A!=null&&(f.clearTimeout(d.A),d.A=null)}function ic(d){d.g=new tn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=vn(d.qa);Qe(v,"RID","rpc"),Qe(v,"SID",d.K),Qe(v,"AID",d.T),Qe(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&Qe(v,"TO",d.ja),Qe(v,"TYPE","xmlhttp"),zs(d,v),d.m&&d.o&&Ot(v,d.m,d.o),d.L&&(d.g.I=d.L);var T=d.g;d=d.ia,T.L=1,T.v=Ms(vn(v)),T.m=null,T.P=!0,Vi(T,d)}n.Za=function(){this.C!=null&&(this.C=null,Va(this),ol(this),nt(19))};function ja(d){d.C!=null&&(f.clearTimeout(d.C),d.C=null)}function rc(d,v){var T=null;if(d.g==v){ja(d),Bs(d),d.g=null;var N=2}else if(Wo(d.h,v))T=v.D,nn(d.h,v),N=1;else return;if(d.G!=0){if(v.o)if(N==1){T=v.m?v.m.length:0,v=Date.now()-v.F;var Y=d.B;N=Sr(),$e(N,new bt(N,T)),La(d)}else nc(d);else if(Y=v.s,Y==3||Y==0&&0<v.X||!(N==1&&Jf(d,v)||N==2&&ol(d)))switch(T&&0<T.length&&(v=d.h,v.i=v.i.concat(T)),Y){case 1:qi(d,5);break;case 4:qi(d,10);break;case 3:qi(d,6);break;default:qi(d,2)}}}function ll(d,v){let T=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(T*=2),T*v}function qi(d,v){if(d.j.info("Error code "+v),v==2){var T=E(d.fb,d),N=d.Xa;const Y=!N;N=new vt(N||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ds(N,"https"),Ms(N),Y?ks(N.toString(),T):Gn(N.toString(),T)}else nt(2);d.G=0,d.l&&d.l.sa(v),sc(d),ec(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function sc(d){if(d.G=0,d.ka=[],d.l){const v=Zo(d.h);(v.length!=0||d.i.length!=0)&&(j(d.ka,v),j(d.ka,d.i),d.h.i.length=0,H(d.i),d.i.length=0),d.l.ra()}}function ac(d,v,T){var N=T instanceof vt?vn(T):new vt(T);if(N.g!="")v&&(N.g=v+"."+N.g),Ir(N,N.s);else{var Y=f.location;N=Y.protocol,v=v?v+"."+Y.hostname:Y.hostname,Y=+Y.port;var ne=new vt(null);N&&Ds(ne,N),v&&(ne.g=v),Y&&Ir(ne,Y),T&&(ne.l=T),N=ne}return T=d.D,v=d.ya,T&&v&&Qe(N,T,v),Qe(N,"VER",d.la),zs(d,N),N}function oc(d,v,T){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new Fe(new Nr({eb:T})):new Fe(d.pa),v.Ha(d.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function lc(){}n=lc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ua(){}Ua.prototype.g=function(d,v){return new rn(d,v)};function rn(d,v){lt.call(this),this.g=new ka(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!P(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!P(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new ui(this)}R(rn,lt),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){sl(this.g)},rn.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.u&&(T={},T.__data__=qn(d),d=T);v.i.push(new Qu(v.Ya++,d)),v.G==3&&La(v)},rn.prototype.N=function(){this.g.l=null,delete this.j,sl(this.g),delete this.g,rn.aa.N.call(this)};function uc(d){Pi.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const T in v){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}R(uc,Pi);function cc(){Ko.call(this),this.status=1}R(cc,Ko);function ui(d){this.g=d}R(ui,lc),ui.prototype.ua=function(){$e(this.g,"a")},ui.prototype.ta=function(d){$e(this.g,new uc(d))},ui.prototype.sa=function(d){$e(this.g,new cc)},ui.prototype.ra=function(){$e(this.g,"b")},Ua.prototype.createWebChannel=Ua.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,JT=function(){return new Ua},ZT=function(){return Sr()},WT=ei,Am={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Rr.NO_ERROR=0,Rr.TIMEOUT=8,Rr.HTTP_ERROR=6,Ad=Rr,ki.COMPLETE="complete",XT=ki,$o.EventType=Mi,Mi.OPEN="a",Mi.CLOSE="b",Mi.ERROR="c",Mi.MESSAGE="d",lt.prototype.listen=lt.prototype.K,nu=$o,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,QT=Fe}).apply(typeof fd<"u"?fd:typeof self<"u"?self:typeof window<"u"?window:{});const B0="@firebase/firestore",H0="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vo="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=new ag("@firebase/firestore");function mo(){return ua.logLevel}function me(n,...e){if(ua.logLevel<=Ve.DEBUG){const t=e.map(ug);ua.debug(`Firestore (${Vo}): ${n}`,...t)}}function mr(n,...e){if(ua.logLevel<=Ve.ERROR){const t=e.map(ug);ua.error(`Firestore (${Vo}): ${n}`,...t)}}function Ao(n,...e){if(ua.logLevel<=Ve.WARN){const t=e.map(ug);ua.warn(`Firestore (${Vo}): ${n}`,...t)}}function ug(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,eb(n,r,t)}function eb(n,e,t){let r=`FIRESTORE (${Vo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw mr(r),new Error(r)}function Ge(n,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,n||eb(e,a,r)}function Ce(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends Ii{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Xt.UNAUTHENTICATED))}shutdown(){}}class YC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class QC{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ge(this.o===void 0,42304);let r=this.i;const a=p=>this.i!==r?(r=this.i,t(p)):Promise.resolve();let l=new dr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new dr,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await a(this.currentUser)})},f=p=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new dr)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ge(typeof r.accessToken=="string",31837,{l:r}),new tb(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new Xt(e)}}class XC{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class WC{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new XC(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class q0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZC{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ge(this.o===void 0,3512);const r=l=>{l.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,me("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const a=l=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new q0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ge(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new q0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=JC(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<t&&(r+=e.charAt(a[l]%62))}return r}}function De(n,e){return n<e?-1:n>e?1:0}function xm(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),a=e.codePointAt(t);if(r!==a){if(r<128&&a<128)return De(r,a);{const l=nb(),c=eI(l.encode(F0(n,t)),l.encode(F0(e,t)));return c!==0?c:De(r,a)}}t+=r>65535?2:1}return De(n.length,e.length)}function F0(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function eI(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return De(n[t],e[t]);return De(n.length,e.length)}function xo(n,e,t){return n.length===e.length&&n.every((r,a)=>t(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0=-62135596800,$0=1e6;class It{static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*$0);return new It(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _e(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _e(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<G0)throw new _e(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$0}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-G0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new It(0,0))}static max(){return new Re(new It(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0="__name__";class yi{constructor(e,t,r){t===void 0?t=0:t>e.length&&Se(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Se(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return yi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof yi?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const l=yi.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return De(e.length,t.length)}static compareSegments(e,t){const r=yi.isNumericId(e),a=yi.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?yi.extractNumericId(e).compare(yi.extractNumericId(t)):xm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return os.fromString(e.substring(4,e.length-2))}}class rt extends yi{construct(e,t,r){return new rt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new _e(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(a=>a.length>0))}return new rt(t)}static emptyPath(){return new rt([])}}const tI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends yi{construct(e,t,r){return new Ft(e,t,r)}static isValidIdentifier(e){return tI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===K0}static keyField(){return new Ft([K0])}static fromServerFormat(e){const t=[];let r="",a=0;const l=()=>{if(r.length===0)throw new _e(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new _e(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new _e(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(r+=f,a++):(l(),a++)}if(l(),c)throw new _e(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(t)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(rt.fromString(e))}static fromName(e){return new Ee(rt.fromString(e).popFirst(5))}static empty(){return new Ee(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return rt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new rt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu=-1;function nI(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=Re.fromTimestamp(r===1e9?new It(t+1,0):new It(t,r));return new ds(a,Ee.empty(),e)}function iI(n){return new ds(n.readTime,n.key,gu)}class ds{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ds(Re.min(),Ee.empty(),gu)}static max(){return new ds(Re.max(),Ee.empty(),gu)}}function rI(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ee.comparator(n.documentKey,e.documentKey),t!==0?t:De(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lo(n){if(n.code!==le.FAILED_PRECONDITION||n.message!==sI)throw n;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new oe((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof oe?t:oe.resolve(t)}catch(t){return oe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.reject(t)}static resolve(e){return new oe((t,r)=>{t(e)})}static reject(e){return new oe((t,r)=>{r(e)})}static waitFor(e){return new oe((t,r)=>{let a=0,l=0,c=!1;e.forEach(f=>{++a,f.next(()=>{++l,c&&l===a&&t()},p=>r(p))}),c=!0,l===a&&t()})}static or(e){let t=oe.resolve(!1);for(const r of e)t=t.next(a=>a?oe.resolve(a):r());return t}static forEach(e,t){const r=[];return e.forEach((a,l)=>{r.push(t.call(this,a,l))}),this.waitFor(r)}static mapArray(e,t){return new oe((r,a)=>{const l=e.length,c=new Array(l);let f=0;for(let p=0;p<l;p++){const m=p;t(e[m]).next(y=>{c[m]=y,++f,f===l&&r(c)},y=>a(y))}})}static doWhile(e,t){return new oe((r,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):r()};l()})}}function oI(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function jo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Ef.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg=-1;function Tf(n){return n==null}function Bd(n){return n===0&&1/n==-1/0}function lI(n){return typeof n=="number"&&Number.isInteger(n)&&!Bd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb="";function uI(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Y0(e)),e=cI(n.get(t),e);return Y0(e)}function cI(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case rb:t+="";break;default:t+=l}}return t}function Y0(n){return n+rb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ys(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function sb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,t){this.comparator=e,this.root=t||qt.EMPTY}insert(e,t){return new ot(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hd(this.root,e,this.comparator,!1)}getReverseIterator(){return new hd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hd(this.root,e,this.comparator,!0)}}class hd{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,t,r,a,l){this.key=e,this.value=t,this.color=r??qt.RED,this.left=a??qt.EMPTY,this.right=l??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,l){return new qt(e??this.key,t??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,r),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return qt.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1;qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,t,r,a,l){return this}insert(e,t,r){return new qt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new X0(this.data.getIterator())}getIteratorFrom(e){return new X0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Nt(this.comparator);return t.data=e,t}}class X0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new Rn([])}unionWith(e){let t=new Nt(Ft.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Rn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return xo(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new ab("Invalid base64 string: "+l):l}}(e);return new Gt(t)}static fromUint8Array(e){const t=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new Gt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const dI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fs(n){if(Ge(!!n,39018),typeof n=="string"){let e=0;const t=dI.exec(n);if(Ge(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mt(n.seconds),nanos:mt(n.nanos)}}function mt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function hs(n){return typeof n=="string"?Gt.fromBase64String(n):Gt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob="server_timestamp",lb="__type__",ub="__previous_value__",cb="__local_write_time__";function dg(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[lb])===null||t===void 0?void 0:t.stringValue)===ob}function bf(n){const e=n.mapValue.fields[ub];return dg(e)?bf(e):e}function yu(n){const e=fs(n.mapValue.fields[cb].timestampValue);return new It(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e,t,r,a,l,c,f,p,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=m}}const Hd="(default)";class vu{constructor(e,t){this.projectId=e,this.database=t||Hd}static empty(){return new vu("","")}get isDefaultDatabase(){return this.database===Hd}isEqual(e){return e instanceof vu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="__type__",hI="__max__",pd={mapValue:{}},fb="__vector__",qd="value";function ps(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?dg(n)?4:mI(n)?9007199254740991:pI(n)?10:11:Se(28295,{value:n})}function Si(n,e){if(n===e)return!0;const t=ps(n);if(t!==ps(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return yu(n).isEqual(yu(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=fs(a.timestampValue),f=fs(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,l){return hs(a.bytesValue).isEqual(hs(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,l){return mt(a.geoPointValue.latitude)===mt(l.geoPointValue.latitude)&&mt(a.geoPointValue.longitude)===mt(l.geoPointValue.longitude)}(n,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return mt(a.integerValue)===mt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=mt(a.doubleValue),f=mt(l.doubleValue);return c===f?Bd(c)===Bd(f):isNaN(c)&&isNaN(f)}return!1}(n,e);case 9:return xo(n.arrayValue.values||[],e.arrayValue.values||[],Si);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(Q0(c)!==Q0(f))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(f[p]===void 0||!Si(c[p],f[p])))return!1;return!0}(n,e);default:return Se(52216,{left:n})}}function _u(n,e){return(n.values||[]).find(t=>Si(t,e))!==void 0}function Ro(n,e){if(n===e)return 0;const t=ps(n),r=ps(e);if(t!==r)return De(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return De(n.booleanValue,e.booleanValue);case 2:return function(l,c){const f=mt(l.integerValue||l.doubleValue),p=mt(c.integerValue||c.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(n,e);case 3:return W0(n.timestampValue,e.timestampValue);case 4:return W0(yu(n),yu(e));case 5:return xm(n.stringValue,e.stringValue);case 6:return function(l,c){const f=hs(l),p=hs(c);return f.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const f=l.split("/"),p=c.split("/");for(let m=0;m<f.length&&m<p.length;m++){const y=De(f[m],p[m]);if(y!==0)return y}return De(f.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const f=De(mt(l.latitude),mt(c.latitude));return f!==0?f:De(mt(l.longitude),mt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Z0(n.arrayValue,e.arrayValue);case 10:return function(l,c){var f,p,m,y;const _=l.fields||{},E=c.fields||{},S=(f=_[qd])===null||f===void 0?void 0:f.arrayValue,R=(p=E[qd])===null||p===void 0?void 0:p.arrayValue,H=De(((m=S==null?void 0:S.values)===null||m===void 0?void 0:m.length)||0,((y=R==null?void 0:R.values)===null||y===void 0?void 0:y.length)||0);return H!==0?H:Z0(S,R)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===pd.mapValue&&c===pd.mapValue)return 0;if(l===pd.mapValue)return 1;if(c===pd.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),m=c.fields||{},y=Object.keys(m);p.sort(),y.sort();for(let _=0;_<p.length&&_<y.length;++_){const E=xm(p[_],y[_]);if(E!==0)return E;const S=Ro(f[p[_]],m[y[_]]);if(S!==0)return S}return De(p.length,y.length)}(n.mapValue,e.mapValue);default:throw Se(23264,{Pe:t})}}function W0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return De(n,e);const t=fs(n),r=fs(e),a=De(t.seconds,r.seconds);return a!==0?a:De(t.nanos,r.nanos)}function Z0(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const l=Ro(t[a],r[a]);if(l)return l}return De(t.length,r.length)}function Co(n){return Rm(n)}function Rm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=fs(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return hs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ee.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",a=!0;for(const l of t.values||[])a?a=!1:r+=",",r+=Rm(l);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${Rm(t.fields[c])}`;return a+"}"}(n.mapValue):Se(61005,{value:n})}function xd(n){switch(ps(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bf(n);return e?16+xd(e):16;case 5:return 2*n.stringValue.length;case 6:return hs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,l)=>a+xd(l),0)}(n.arrayValue);case 10:case 11:return function(r){let a=0;return ys(r.fields,(l,c)=>{a+=l.length+xd(c)}),a}(n.mapValue);default:throw Se(13486,{value:n})}}function Cm(n){return!!n&&"integerValue"in n}function fg(n){return!!n&&"arrayValue"in n}function J0(n){return!!n&&"nullValue"in n}function eE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Rd(n){return!!n&&"mapValue"in n}function pI(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[db])===null||t===void 0?void 0:t.stringValue)===fb}function au(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ys(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=au(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=au(n.arrayValue.values[t]);return e}return Object.assign({},n)}function mI(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===hI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Rd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=au(t)}setAll(e){let t=Ft.emptyPath(),r={},a=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,r,a),r={},a=[],t=f.popLast()}c?r[f.lastSegment()]=au(c):a.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,a)}delete(e){const t=this.field(e.popLast());Rd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Si(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];Rd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){ys(t,(a,l)=>e[a]=l);for(const a of r)delete e[a]}clone(){return new pn(au(this.value))}}function hb(n){const e=[];return ys(n.fields,(t,r)=>{const a=new Ft([t]);if(Rd(r)){const l=hb(r.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new Rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,t,r,a,l,c,f){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new Wt(e,0,Re.min(),Re.min(),Re.min(),pn.empty(),0)}static newFoundDocument(e,t,r,a){return new Wt(e,1,t,Re.min(),r,a,0)}static newNoDocument(e,t){return new Wt(e,2,t,Re.min(),Re.min(),pn.empty(),0)}static newUnknownDocument(e,t){return new Wt(e,3,t,Re.min(),Re.min(),pn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,t){this.position=e,this.inclusive=t}}function tE(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const l=e[a],c=n.position[a];if(l.field.isKeyField()?r=Ee.comparator(Ee.fromName(c.referenceValue),t.key):r=Ro(c,t.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function nE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Si(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,t="asc"){this.field=e,this.dir=t}}function gI(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{}class Ct extends pb{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new vI(e,t,r):t==="array-contains"?new TI(e,r):t==="in"?new bI(e,r):t==="not-in"?new wI(e,r):t==="array-contains-any"?new SI(e,r):new Ct(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new _I(e,r):new EI(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ro(t,this.value)):t!==null&&ps(this.value)===ps(t)&&this.matchesComparison(Ro(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ai extends pb{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Ai(e,t)}matches(e){return mb(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function mb(n){return n.op==="and"}function gb(n){return yI(n)&&mb(n)}function yI(n){for(const e of n.filters)if(e instanceof Ai)return!1;return!0}function Im(n){if(n instanceof Ct)return n.field.canonicalString()+n.op.toString()+Co(n.value);if(gb(n))return n.filters.map(e=>Im(e)).join(",");{const e=n.filters.map(t=>Im(t)).join(",");return`${n.op}(${e})`}}function yb(n,e){return n instanceof Ct?function(r,a){return a instanceof Ct&&r.op===a.op&&r.field.isEqual(a.field)&&Si(r.value,a.value)}(n,e):n instanceof Ai?function(r,a){return a instanceof Ai&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((l,c,f)=>l&&yb(c,a.filters[f]),!0):!1}(n,e):void Se(19439)}function vb(n){return n instanceof Ct?function(t){return`${t.field.canonicalString()} ${t.op} ${Co(t.value)}`}(n):n instanceof Ai?function(t){return t.op.toString()+" {"+t.getFilters().map(vb).join(" ,")+"}"}(n):"Filter"}class vI extends Ct{constructor(e,t,r){super(e,t,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const t=Ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class _I extends Ct{constructor(e,t){super(e,"in",t),this.keys=_b("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class EI extends Ct{constructor(e,t){super(e,"not-in",t),this.keys=_b("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function _b(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Ee.fromName(r.referenceValue))}class TI extends Ct{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return fg(t)&&_u(t.arrayValue,this.value)}}class bI extends Ct{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&_u(this.value.arrayValue,t)}}class wI extends Ct{constructor(e,t){super(e,"not-in",t)}matches(e){if(_u(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!_u(this.value.arrayValue,t)}}class SI extends Ct{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!fg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>_u(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e,t=null,r=[],a=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Ie=null}}function iE(n,e=null,t=[],r=[],a=null,l=null,c=null){return new AI(n,e,t,r,a,l,c)}function hg(n){const e=Ce(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Im(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(l){return l.field.canonicalString()+l.dir}(r)).join(","),Tf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Co(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Co(r)).join(",")),e.Ie=t}return e.Ie}function pg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!gI(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!yb(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!nE(n.startAt,e.startAt)&&nE(n.endAt,e.endAt)}function Nm(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,t=null,r=[],a=[],l=null,c="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function xI(n,e,t,r,a,l,c,f){return new wf(n,e,t,r,a,l,c,f)}function mg(n){return new wf(n)}function rE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function RI(n){return n.collectionGroup!==null}function ou(n){const e=Ce(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),t.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Nt(Ft.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(m=>{m.isInequality()&&(f=f.add(m.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new Gd(l,r))}),t.has(Ft.keyField().canonicalString())||e.Ee.push(new Gd(Ft.keyField(),r))}return e.Ee}function Ei(n){const e=Ce(n);return e.de||(e.de=CI(e,ou(n))),e.de}function CI(n,e){if(n.limitType==="F")return iE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Gd(a.field,l)});const t=n.endAt?new Fd(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Fd(n.startAt.position,n.startAt.inclusive):null;return iE(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Om(n,e,t){return new wf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Sf(n,e){return pg(Ei(n),Ei(e))&&n.limitType===e.limitType}function Eb(n){return`${hg(Ei(n))}|lt:${n.limitType}`}function go(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(a=>vb(a)).join(", ")}]`),Tf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(a=>Co(a)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(a=>Co(a)).join(",")),`Target(${r})`}(Ei(n))}; limitType=${n.limitType})`}function Af(n,e){return e.isFoundDocument()&&function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Ee.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(n,e)&&function(r,a){for(const l of ou(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,e)&&function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0}(n,e)&&function(r,a){return!(r.startAt&&!function(c,f,p){const m=tE(c,f,p);return c.inclusive?m<=0:m<0}(r.startAt,ou(r),a)||r.endAt&&!function(c,f,p){const m=tE(c,f,p);return c.inclusive?m>=0:m>0}(r.endAt,ou(r),a))}(n,e)}function II(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Tb(n){return(e,t)=>{let r=!1;for(const a of ou(n)){const l=NI(a,e,t);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function NI(n,e,t){const r=n.field.isKeyField()?Ee.comparator(e.key,t.key):function(l,c,f){const p=c.data.field(l),m=f.data.field(l);return p!==null&&m!==null?Ro(p,m):Se(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Se(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ys(this.inner,(t,r)=>{for(const[a,l]of r)e(a,l)})}isEmpty(){return sb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI=new ot(Ee.comparator);function gr(){return OI}const bb=new ot(Ee.comparator);function iu(...n){let e=bb;for(const t of n)e=e.insert(t.key,t);return e}function wb(n){let e=bb;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ra(){return lu()}function Sb(){return lu()}function lu(){return new ga(n=>n.toString(),(n,e)=>n.isEqual(e))}const DI=new ot(Ee.comparator),MI=new Nt(Ee.comparator);function Le(...n){let e=MI;for(const t of n)e=e.add(t);return e}const PI=new Nt(De);function kI(){return PI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bd(e)?"-0":e}}function Ab(n){return{integerValue:""+n}}function VI(n,e){return lI(e)?Ab(e):gg(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(){this._=void 0}}function LI(n,e,t){return n instanceof $d?function(a,l){const c={fields:{[lb]:{stringValue:ob},[cb]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&dg(l)&&(l=bf(l)),l&&(c.fields[ub]=l),{mapValue:c}}(t,e):n instanceof Io?Rb(n,e):n instanceof Eu?Cb(n,e):function(a,l){const c=xb(a,l),f=sE(c)+sE(a.Re);return Cm(c)&&Cm(a.Re)?Ab(f):gg(a.serializer,f)}(n,e)}function jI(n,e,t){return n instanceof Io?Rb(n,e):n instanceof Eu?Cb(n,e):t}function xb(n,e){return n instanceof Kd?function(r){return Cm(r)||function(l){return!!l&&"doubleValue"in l}(r)}(e)?e:{integerValue:0}:null}class $d extends xf{}class Io extends xf{constructor(e){super(),this.elements=e}}function Rb(n,e){const t=Ib(e);for(const r of n.elements)t.some(a=>Si(a,r))||t.push(r);return{arrayValue:{values:t}}}class Eu extends xf{constructor(e){super(),this.elements=e}}function Cb(n,e){let t=Ib(e);for(const r of n.elements)t=t.filter(a=>!Si(a,r));return{arrayValue:{values:t}}}class Kd extends xf{constructor(e,t){super(),this.serializer=e,this.Re=t}}function sE(n){return mt(n.integerValue||n.doubleValue)}function Ib(n){return fg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e,t){this.field=e,this.transform=t}}function zI(n,e){return n.field.isEqual(e.field)&&function(r,a){return r instanceof Io&&a instanceof Io||r instanceof Eu&&a instanceof Eu?xo(r.elements,a.elements,Si):r instanceof Kd&&a instanceof Kd?Si(r.Re,a.Re):r instanceof $d&&a instanceof $d}(n.transform,e.transform)}class BI{constructor(e,t){this.version=e,this.transformResults=t}}class Bn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Bn}static exists(e){return new Bn(void 0,e)}static updateTime(e){return new Bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Rf{}function Nb(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new yg(n.key,Bn.none()):new Ou(n.key,n.data,Bn.none());{const t=n.data,r=pn.empty();let a=new Nt(Ft.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new vs(n.key,r,new Rn(a.toArray()),Bn.none())}}function HI(n,e,t){n instanceof Ou?function(a,l,c){const f=a.value.clone(),p=oE(a.fieldTransforms,l,c.transformResults);f.setAll(p),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,e,t):n instanceof vs?function(a,l,c){if(!Cd(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=oE(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(Ob(a)),p.setAll(f),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function uu(n,e,t,r){return n instanceof Ou?function(l,c,f,p){if(!Cd(l.precondition,c))return f;const m=l.value.clone(),y=lE(l.fieldTransforms,p,c);return m.setAll(y),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof vs?function(l,c,f,p){if(!Cd(l.precondition,c))return f;const m=lE(l.fieldTransforms,p,c),y=c.data;return y.setAll(Ob(l)),y.setAll(m),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(_=>_.field))}(n,e,t,r):function(l,c,f){return Cd(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(n,e,t)}function qI(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),l=xb(r.transform,a||null);l!=null&&(t===null&&(t=pn.empty()),t.set(r.field,l))}return t||null}function aE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&xo(r,a,(l,c)=>zI(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Ou extends Rf{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class vs extends Rf{constructor(e,t,r,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Ob(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function oE(n,e,t){const r=new Map;Ge(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let a=0;a<t.length;a++){const l=n[a],c=l.transform,f=e.data.field(l.field);r.set(l.field,jI(c,f,t[a]))}return r}function lE(n,e,t){const r=new Map;for(const a of n){const l=a.transform,c=t.data.field(a.field);r.set(a.field,LI(l,c,e))}return r}class yg extends Rf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FI extends Rf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&HI(l,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=uu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=uu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Sb();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=t.has(a.key)?null:f;const p=Nb(c,f);p!==null&&r.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(Re.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Le())}isEqual(e){return this.batchId===e.batchId&&xo(this.mutations,e.mutations,(t,r)=>aE(t,r))&&xo(this.baseMutations,e.baseMutations,(t,r)=>aE(t,r))}}class vg{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){Ge(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let a=function(){return DI}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new vg(e,t,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,Be;function YI(n){switch(n){case le.OK:return Se(64938);case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0;default:return Se(15467,{code:n})}}function Db(n){if(n===void 0)return mr("GRPC error has no .code"),le.UNKNOWN;switch(n){case Tt.OK:return le.OK;case Tt.CANCELLED:return le.CANCELLED;case Tt.UNKNOWN:return le.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return le.INTERNAL;case Tt.UNAVAILABLE:return le.UNAVAILABLE;case Tt.UNAUTHENTICATED:return le.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case Tt.NOT_FOUND:return le.NOT_FOUND;case Tt.ALREADY_EXISTS:return le.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return le.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case Tt.ABORTED:return le.ABORTED;case Tt.OUT_OF_RANGE:return le.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return le.UNIMPLEMENTED;case Tt.DATA_LOSS:return le.DATA_LOSS;default:return Se(39323,{code:n})}}(Be=Tt||(Tt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=new os([4294967295,4294967295],0);function uE(n){const e=nb().encode(n),t=new YT;return t.update(e),new Uint8Array(t.digest())}function cE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new os([t,r],0),new os([a,l],0)]}class _g{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ru(`Invalid padding: ${t}`);if(r<0)throw new ru(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ru(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ru(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=os.fromNumber(this.pe)}we(e,t,r){let a=e.add(t.multiply(os.fromNumber(r)));return a.compare(QI)===1&&(a=new os([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=uE(e),[r,a]=cE(t);for(let l=0;l<this.hashCount;l++){const c=this.we(r,a,l);if(!this.be(c))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new _g(l,a,t);return r.forEach(f=>c.insert(f)),c}insert(e){if(this.pe===0)return;const t=uE(e),[r,a]=cE(t);for(let l=0;l<this.hashCount;l++){const c=this.we(r,a,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class ru extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,t,r,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,Du.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Cf(Re.min(),a,new ot(De),gr(),Le())}}class Du{constructor(e,t,r,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Du(r,t,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,t,r,a){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=a}}class Mb{constructor(e,t){this.targetId=e,this.Ce=t}}class Pb{constructor(e,t,r=Gt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class dE{constructor(){this.Fe=0,this.Me=fE(),this.xe=Gt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Le(),t=Le(),r=Le();return this.Me.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:Se(38017,{changeType:l})}}),new Du(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=fE()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ge(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class XI{constructor(e){this.ze=e,this.je=new Map,this.He=gr(),this.Je=md(),this.Ye=md(),this.Ze=new ot(De)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Se(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,a)=>{this.it(a)&&t(a)})}ot(e){const t=e.targetId,r=e.Ce.count,a=this._t(t);if(a){const l=a.target;if(Nm(l))if(r===0){const c=new Ee(l.path);this.tt(t,c,Wt.newNoDocument(c,Re.min()))}else Ge(r===1,20013,{expectedCount:r});else{const c=this.ut(t);if(c!==r){const f=this.ct(e),p=f?this.lt(f,e,c):1;if(p!==0){this.st(t);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,m)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=t;let c,f;try{c=hs(r).toUint8Array()}catch(p){if(p instanceof ab)return Ao("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new _g(c,a,l)}catch(p){return Ao(p instanceof ru?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.pe===0?null:f}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let a=0;return r.forEach(l=>{const c=this.ze.Pt(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.tt(t,l,null),a++)}),a}It(e){const t=new Map;this.je.forEach((l,c)=>{const f=this._t(c);if(f){if(l.current&&Nm(f.target)){const p=new Ee(f.target.path);this.Et(p).has(c)||this.dt(c,p)||this.tt(c,p,Wt.newNoDocument(p,e))}l.Le&&(t.set(c,l.qe()),l.Qe())}});let r=Le();this.Ye.forEach((l,c)=>{let f=!0;c.forEachWhile(p=>{const m=this._t(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(r=r.add(l))}),this.He.forEach((l,c)=>c.setReadTime(e));const a=new Cf(e,t,this.Ze,this.He,r);return this.He=gr(),this.Je=md(),this.Ye=md(),this.Ze=new ot(De),a}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const a=this.rt(e);this.dt(e,t)?a.$e(t,1):a.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new dE,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Nt(De),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Nt(De),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||me("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new dE),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function md(){return new ot(Ee.comparator)}function fE(){return new ot(Ee.comparator)}const WI={asc:"ASCENDING",desc:"DESCENDING"},ZI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JI={and:"AND",or:"OR"};class eN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Dm(n,e){return n.useProto3Json||Tf(e)?e:{value:e}}function Yd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kb(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function tN(n,e){return Yd(n,e.toTimestamp())}function Ti(n){return Ge(!!n,49232),Re.fromTimestamp(function(t){const r=fs(t);return new It(r.seconds,r.nanos)}(n))}function Eg(n,e){return Mm(n,e).canonicalString()}function Mm(n,e){const t=function(a){return new rt(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Vb(n){const e=rt.fromString(n);return Ge(Bb(e),10190,{key:e.toString()}),e}function Pm(n,e){return Eg(n.databaseId,e.path)}function im(n,e){const t=Vb(e);if(t.get(1)!==n.databaseId.projectId)throw new _e(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new _e(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ee(jb(t))}function Lb(n,e){return Eg(n.databaseId,e)}function nN(n){const e=Vb(n);return e.length===4?rt.emptyPath():jb(e)}function km(n){return new rt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function jb(n){return Ge(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function hE(n,e,t){return{name:Pm(n,e),fields:t.value.mapValue.fields}}function iN(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Se(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(m,y){return m.useProto3Json?(Ge(y===void 0||typeof y=="string",58123),Gt.fromBase64String(y||"")):(Ge(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Gt.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(m){const y=m.code===void 0?le.UNKNOWN:Db(m.code);return new _e(y,m.message||"")}(c);t=new Pb(r,a,l,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=im(n,r.document.name),l=Ti(r.document.updateTime),c=r.document.createTime?Ti(r.document.createTime):Re.min(),f=new pn({mapValue:{fields:r.document.fields}}),p=Wt.newFoundDocument(a,l,c,f),m=r.targetIds||[],y=r.removedTargetIds||[];t=new Id(m,y,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=im(n,r.document),l=r.readTime?Ti(r.readTime):Re.min(),c=Wt.newNoDocument(a,l),f=r.removedTargetIds||[];t=new Id([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=im(n,r.document),l=r.removedTargetIds||[];t=new Id([],l,a,null)}else{if(!("filter"in e))return Se(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new KI(a,l),f=r.targetId;t=new Mb(f,c)}}return t}function rN(n,e){let t;if(e instanceof Ou)t={update:hE(n,e.key,e.value)};else if(e instanceof yg)t={delete:Pm(n,e.key)};else if(e instanceof vs)t={update:hE(n,e.key,e.data),updateMask:hN(e.fieldMask)};else{if(!(e instanceof FI))return Se(16599,{ft:e.type});t={verify:Pm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(l,c){const f=c.transform;if(f instanceof $d)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Io)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Eu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Kd)return{fieldPath:c.field.canonicalString(),increment:f.Re};throw Se(20930,{transform:c.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:tN(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Se(27497)}(n,e.precondition)),t}function sN(n,e){return n&&n.length>0?(Ge(e!==void 0,14353),n.map(t=>function(a,l){let c=a.updateTime?Ti(a.updateTime):Ti(l);return c.isEqual(Re.min())&&(c=Ti(l)),new BI(c,a.transformResults||[])}(t,e))):[]}function aN(n,e){return{documents:[Lb(n,e.path)]}}function oN(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Lb(n,a);const l=function(m){if(m.length!==0)return zb(Ai.create(m,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(m){if(m.length!==0)return m.map(y=>function(E){return{field:yo(E.field),direction:cN(E.dir)}}(y))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=Dm(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{gt:t,parent:a}}function lN(n){let e=nN(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){Ge(r===1,65062);const y=t.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];t.where&&(l=function(_){const E=Ub(_);return E instanceof Ai&&gb(E)?E.getFilters():[E]}(t.where));let c=[];t.orderBy&&(c=function(_){return _.map(E=>function(R){return new Gd(vo(R.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(E))}(t.orderBy));let f=null;t.limit&&(f=function(_){let E;return E=typeof _=="object"?_.value:_,Tf(E)?null:E}(t.limit));let p=null;t.startAt&&(p=function(_){const E=!!_.before,S=_.values||[];return new Fd(S,E)}(t.startAt));let m=null;return t.endAt&&(m=function(_){const E=!_.before,S=_.values||[];return new Fd(S,E)}(t.endAt)),xI(e,a,c,l,f,"F",p,m)}function uN(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Ub(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=vo(t.unaryFilter.field);return Ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=vo(t.unaryFilter.field);return Ct.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=vo(t.unaryFilter.field);return Ct.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=vo(t.unaryFilter.field);return Ct.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}}(n):n.fieldFilter!==void 0?function(t){return Ct.create(vo(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Ai.create(t.compositeFilter.filters.map(r=>Ub(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Se(1026)}}(t.compositeFilter.op))}(n):Se(30097,{filter:n})}function cN(n){return WI[n]}function dN(n){return ZI[n]}function fN(n){return JI[n]}function yo(n){return{fieldPath:n.canonicalString()}}function vo(n){return Ft.fromServerFormat(n.fieldPath)}function zb(n){return n instanceof Ct?function(t){if(t.op==="=="){if(eE(t.value))return{unaryFilter:{field:yo(t.field),op:"IS_NAN"}};if(J0(t.value))return{unaryFilter:{field:yo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(eE(t.value))return{unaryFilter:{field:yo(t.field),op:"IS_NOT_NAN"}};if(J0(t.value))return{unaryFilter:{field:yo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yo(t.field),op:dN(t.op),value:t.value}}}(n):n instanceof Ai?function(t){const r=t.getFilters().map(a=>zb(a));return r.length===1?r[0]:{compositeFilter:{op:fN(t.op),filters:r}}}(n):Se(54877,{filter:n})}function hN(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Bb(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,t,r,a,l=Re.min(),c=Re.min(),f=Gt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e){this.wt=e}}function mN(n){const e=lN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Om(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(){this.yn=new yN}addToCollectionParentIndex(e,t){return this.yn.add(t),oe.resolve()}getCollectionParents(e,t){return oe.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return oe.resolve()}deleteFieldIndex(e,t){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,t){return oe.resolve()}getDocumentsMatchingTarget(e,t){return oe.resolve(null)}getIndexType(e,t){return oe.resolve(0)}getFieldIndexes(e,t){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,t){return oe.resolve(ds.min())}getMinOffsetFromCollectionGroup(e,t){return oe.resolve(ds.min())}updateCollectionGroup(e,t,r){return oe.resolve()}updateIndexEntries(e,t){return oe.resolve()}}class yN{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new Nt(rt.comparator),l=!a.has(r);return this.index[t]=a.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Nt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Hb=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(Hb,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new No(0)}static ir(){return new No(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="LruGarbageCollector",vN=1048576;function gE([n,e],[t,r]){const a=De(n,t);return a===0?De(e,r):a}class _N{constructor(e){this.cr=e,this.buffer=new Nt(gE),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();gE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class EN{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){me(mE,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){jo(t)?me(mE,"Ignoring IndexedDB error during garbage collection: ",t):await Lo(t)}await this.Ir(3e5)})}}class TN{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return oe.resolve(Ef.le);const r=new _N(t);return this.Er.forEachTarget(e,a=>r.Pr(a.sequenceNumber)).next(()=>this.Er.Ar(e,a=>r.Pr(a))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Er.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(pE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pE):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let r,a,l,c,f,p,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(e,a))).next(_=>(r=_,f=Date.now(),this.removeTargets(e,r,t))).next(_=>(l=_,p=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(m=Date.now(),mo()<=Ve.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${_} documents in `+(m-p)+`ms
Total Duration: ${m-y}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_})))}}function bN(n,e){return new TN(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(){this.changes=new ga(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?oe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(r!==null&&uu(r.mutation,a,Rn.empty(),It.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Le()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Le()){const a=ra();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,r).next(l=>{let c=iu();return l.forEach((f,p)=>{c=c.insert(f,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=ra();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Le()))}populateOverlays(e,t,r){const a=[];return r.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,r,a){let l=gr();const c=lu(),f=function(){return lu()}();return t.forEach((p,m)=>{const y=r.get(m.key);a.has(m.key)&&(y===void 0||y.mutation instanceof vs)?l=l.insert(m.key,m):y!==void 0?(c.set(m.key,y.mutation.getFieldMask()),uu(y.mutation,m,y.mutation.getFieldMask(),It.now())):c.set(m.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((m,y)=>c.set(m,y)),t.forEach((m,y)=>{var _;return f.set(m,new SN(y,(_=c.get(m))!==null&&_!==void 0?_:null))}),f))}recalculateAndSaveOverlays(e,t){const r=lu();let a=new ot((c,f)=>c-f),l=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(p=>{const m=t.get(p);if(m===null)return;let y=r.get(p)||Rn.empty();y=f.applyToLocalView(m,y),r.set(p,y);const _=(a.get(f.batchId)||Le()).add(p);a=a.insert(f.batchId,_)})}).next(()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),m=p.key,y=p.value,_=Sb();y.forEach(E=>{if(!l.has(E)){const S=Nb(t.get(E),r.get(E));S!==null&&_.set(E,S),l=l.add(E)}}),c.push(this.documentOverlayCache.saveOverlays(e,m,_))}return oe.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,a){return function(c){return Ee.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):RI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-l.size):oe.resolve(ra());let f=gu,p=l;return c.next(m=>oe.forEach(m,(y,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),l.get(y)?oe.resolve():this.remoteDocumentCache.getEntry(e,y).next(E=>{p=p.insert(y,E)}))).next(()=>this.populateOverlays(e,m,l)).next(()=>this.computeViews(e,p,m,Le())).next(y=>({batchId:f,changes:wb(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ee(t)).next(r=>{let a=iu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const l=t.collectionGroup;let c=iu();return this.indexManager.getCollectionParents(e,l).next(f=>oe.forEach(f,p=>{const m=function(_,E){return new wf(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,r,a).next(y=>{y.forEach((_,E)=>{c=c.insert(_,E)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,l,a))).next(c=>{l.forEach((p,m)=>{const y=m.getKey();c.get(y)===null&&(c=c.insert(y,Wt.newInvalidDocument(y)))});let f=iu();return c.forEach((p,m)=>{const y=l.get(p);y!==void 0&&uu(y.mutation,m,Rn.empty(),It.now()),Af(t,m)&&(f=f.insert(p,m))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return oe.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Ti(a.createTime)}}(t)),oe.resolve()}getNamedQuery(e,t){return oe.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(a){return{name:a.name,query:mN(a.bundledQuery),readTime:Ti(a.readTime)}}(t)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(){this.overlays=new ot(Ee.comparator),this.Or=new Map}getOverlay(e,t){return oe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ra();return oe.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&r.set(a,l)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((a,l)=>{this.St(e,t,l)}),oe.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.Or.get(r);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Or.delete(r)),oe.resolve()}getOverlaysForCollection(e,t,r){const a=ra(),l=t.length+1,c=new Ee(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const p=f.getNext().value,m=p.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===l&&p.largestBatchId>r&&a.set(p.getKey(),p)}return oe.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let l=new ot((m,y)=>m-y);const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let y=l.get(m.largestBatchId);y===null&&(y=ra(),l=l.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const f=ra(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((m,y)=>f.set(m,y)),!(f.size()>=a)););return oe.resolve(f)}St(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.Or.get(a.largestBatchId).delete(r.key);this.Or.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new $I(t,r));let l=this.Or.get(t);l===void 0&&(l=Le(),this.Or.set(t,l)),this.Or.set(t,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(){this.Nr=new Nt(Vt.Br),this.Lr=new Nt(Vt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const r=new Vt(e,t);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Qr(new Vt(e,t))}$r(e,t){e.forEach(r=>this.removeReference(r,t))}Ur(e){const t=new Ee(new rt([])),r=new Vt(t,e),a=new Vt(t,e+1),l=[];return this.Lr.forEachInRange([r,a],c=>{this.Qr(c),l.push(c.key)}),l}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new Ee(new rt([])),r=new Vt(t,e),a=new Vt(t,e+1);let l=Le();return this.Lr.forEachInRange([r,a],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Vt(e,0),r=this.Nr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Vt{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return Ee.comparator(e.key,t.key)||De(e.Gr,t.Gr)}static kr(e,t){return De(e.Gr,t.Gr)||Ee.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new Nt(Vt.Br)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const l=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new GI(l,t,r,a);this.mutationQueue.push(c);for(const f of a)this.zr=this.zr.add(new Vt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return oe.resolve(c)}lookupMutationBatch(e,t){return oe.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.Hr(r),l=a<0?0:a;return oe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?cg:this.Jn-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Vt(t,0),a=new Vt(t,Number.POSITIVE_INFINITY),l=[];return this.zr.forEachInRange([r,a],c=>{const f=this.jr(c.Gr);l.push(f)}),oe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Nt(De);return t.forEach(a=>{const l=new Vt(a,0),c=new Vt(a,Number.POSITIVE_INFINITY);this.zr.forEachInRange([l,c],f=>{r=r.add(f.Gr)})}),oe.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let l=r;Ee.isDocumentKey(l)||(l=l.child(""));const c=new Vt(new Ee(l),0);let f=new Nt(De);return this.zr.forEachWhile(p=>{const m=p.key.path;return!!r.isPrefixOf(m)&&(m.length===a&&(f=f.add(p.Gr)),!0)},c),oe.resolve(this.Jr(f))}Jr(e){const t=[];return e.forEach(r=>{const a=this.jr(r);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){Ge(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return oe.forEach(t.mutations,a=>{const l=new Vt(a.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,t){const r=new Vt(t,0),a=this.zr.firstAfterOrEqual(r);return oe.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e){this.Zr=e,this.docs=function(){return new ot(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),l=a?a.size:0,c=this.Zr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return oe.resolve(r?r.document.mutableCopy():Wt.newInvalidDocument(t))}getEntries(e,t){let r=gr();return t.forEach(a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():Wt.newInvalidDocument(a))}),oe.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let l=gr();const c=t.path,f=new Ee(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:m,value:{document:y}}=p.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||rI(iI(y),r)<=0||(a.has(y.key)||Af(t,y))&&(l=l.insert(y.key,y.mutableCopy()))}return oe.resolve(l)}getAllFromCollectionGroup(e,t,r,a){Se(9500)}Xr(e,t){return oe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new ON(this)}getSize(e){return oe.resolve(this.size)}}class ON extends wN{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?t.push(this.vr.addEntry(e,a)):this.vr.removeEntry(r)}),oe.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e){this.persistence=e,this.ei=new ga(t=>hg(t),pg),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.ti=0,this.ni=new Tg,this.targetCount=0,this.ri=No.rr()}forEachTarget(e,t){return this.ei.forEach((r,a)=>t(a)),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ti&&(this.ti=t),oe.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new No(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,oe.resolve()}updateTargetData(e,t){return this.ar(t),oe.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,t,r){let a=0;const l=[];return this.ei.forEach((c,f)=>{f.sequenceNumber<=t&&r.get(f.targetId)===null&&(this.ei.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)}),oe.waitFor(l).next(()=>a)}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,t){const r=this.ei.get(t)||null;return oe.resolve(r)}addMatchingKeys(e,t,r){return this.ni.qr(t,r),oe.resolve()}removeMatchingKeys(e,t,r){this.ni.$r(t,r);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),oe.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),oe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ni.Wr(t);return oe.resolve(r)}containsKey(e,t){return oe.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e,t){this.ii={},this.overlays={},this.si=new Ef(0),this.oi=!1,this.oi=!0,this._i=new CN,this.referenceDelegate=e(this),this.ai=new DN(this),this.indexManager=new gN,this.remoteDocumentCache=function(a){return new NN(a)}(r=>this.referenceDelegate.ui(r)),this.serializer=new pN(t),this.ci=new xN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new RN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ii[e.toKey()];return r||(r=new IN(t,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,r){me("MemoryPersistence","Starting transaction:",e);const a=new MN(this.si.next());return this.referenceDelegate.li(),r(a).next(l=>this.referenceDelegate.hi(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Pi(e,t){return oe.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,t)))}}class MN extends aI{constructor(e){super(),this.currentSequenceNumber=e}}class bg{constructor(e){this.persistence=e,this.Ti=new Tg,this.Ii=null}static Ei(e){return new bg(e)}get di(){if(this.Ii)return this.Ii;throw Se(60996)}addReference(e,t,r){return this.Ti.addReference(r,t),this.di.delete(r.toString()),oe.resolve()}removeReference(e,t,r){return this.Ti.removeReference(r,t),this.di.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),oe.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(a=>this.di.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.di.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.di,r=>{const a=Ee.fromPath(r);return this.Ai(e,a).next(l=>{l||t.removeEntry(a,Re.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return oe.or([()=>oe.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class Qd{constructor(e,t){this.persistence=e,this.Ri=new ga(r=>uI(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=bN(this,t)}static Ei(e,t){return new Qd(e,t)}li(){}hi(e){return oe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(a=>r+a))}Vr(e){let t=0;return this.Ar(e,r=>{t++}).next(()=>t)}Ar(e,t){return oe.forEach(this.Ri,(r,a)=>this.gr(e,r,a).next(l=>l?oe.resolve():t(a)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.Xr(e,c=>this.gr(e,c,t).next(f=>{f||(r++,l.removeEntry(c,Re.min()))})).next(()=>l.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),oe.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),oe.resolve()}removeReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),oe.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),oe.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=xd(e.data.value)),t}gr(e,t,r){return oe.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.Ri.get(t);return oe.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.ls=r,this.hs=a}static Ps(e,t){let r=Le(),a=Le();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new wg(e,t.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return IR()?8:oI(en())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,r,a){const l={result:null};return this.Rs(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.Vs(e,t,a,r).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new PN;return this.fs(e,t,c).next(f=>{if(l.result=f,this.Is)return this.gs(e,t,c,f.size)})}).next(()=>l.result)}gs(e,t,r,a){return r.documentReadCount<this.Es?(mo()<=Ve.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",go(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),oe.resolve()):(mo()<=Ve.DEBUG&&me("QueryEngine","Query:",go(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ds*a?(mo()<=Ve.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",go(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ei(t))):oe.resolve())}Rs(e,t){if(rE(t))return oe.resolve(null);let r=Ei(t);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=Om(t,null,"F"),r=Ei(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const c=Le(...l);return this.As.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,r).next(p=>{const m=this.ps(t,f);return this.ys(t,m,c,p.readTime)?this.Rs(e,Om(t,null,"F")):this.ws(e,m,t,p)}))})))}Vs(e,t,r,a){return rE(t)||a.isEqual(Re.min())?oe.resolve(null):this.As.getDocuments(e,r).next(l=>{const c=this.ps(t,l);return this.ys(t,c,r,a)?oe.resolve(null):(mo()<=Ve.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),go(t)),this.ws(e,c,t,nI(a,gu)).next(f=>f))})}ps(e,t){let r=new Nt(Tb(e));return t.forEach((a,l)=>{Af(e,l)&&(r=r.add(l))}),r}ys(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}fs(e,t,r){return mo()<=Ve.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",go(t)),this.As.getDocumentsMatchingQuery(e,t,ds.min(),r)}ws(e,t,r,a){return this.As.getDocumentsMatchingQuery(e,r,a).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg="LocalStore",VN=3e8;class LN{constructor(e,t,r,a){this.persistence=e,this.bs=t,this.serializer=a,this.Ss=new ot(De),this.Ds=new ga(l=>hg(l),pg),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new AN(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function jN(n,e,t,r){return new LN(n,e,t,r)}async function Fb(n,e){const t=Ce(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next(l=>(a=l,t.Fs(e),t.mutationQueue.getAllMutationBatches(r))).next(l=>{const c=[],f=[];let p=Le();for(const m of a){c.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}for(const m of l){f.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}return t.localDocuments.getDocuments(r,p).next(m=>({Ms:m,removedBatchIds:c,addedBatchIds:f}))})})}function UN(n,e){const t=Ce(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),l=t.Cs.newChangeBuffer({trackRemovals:!0});return function(f,p,m,y){const _=m.batch,E=_.keys();let S=oe.resolve();return E.forEach(R=>{S=S.next(()=>y.getEntry(p,R)).next(H=>{const j=m.docVersions.get(R);Ge(j!==null,48541),H.version.compareTo(j)<0&&(_.applyToRemoteDocument(H,m),H.isValidDocument()&&(H.setReadTime(m.commitVersion),y.addEntry(H)))})}),S.next(()=>f.mutationQueue.removeMutationBatch(p,_))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(f){let p=Le();for(let m=0;m<f.mutationResults.length;++m)f.mutationResults[m].transformResults.length>0&&(p=p.add(f.batch.mutations[m].key));return p}(e))).next(()=>t.localDocuments.getDocuments(r,a))})}function Gb(n){const e=Ce(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function zN(n,e){const t=Ce(n),r=e.snapshotVersion;let a=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Cs.newChangeBuffer({trackRemovals:!0});a=t.Ss;const f=[];e.targetChanges.forEach((y,_)=>{const E=a.get(_);if(!E)return;f.push(t.ai.removeMatchingKeys(l,y.removedDocuments,_).next(()=>t.ai.addMatchingKeys(l,y.addedDocuments,_)));let S=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?S=S.withResumeToken(Gt.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):y.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(y.resumeToken,r)),a=a.insert(_,S),function(H,j,U){return H.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=VN?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(E,S,y)&&f.push(t.ai.updateTargetData(l,S))});let p=gr(),m=Le();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,y))}),f.push(BN(l,c,e.documentUpdates).next(y=>{p=y.xs,m=y.Os})),!r.isEqual(Re.min())){const y=t.ai.getLastRemoteSnapshotVersion(l).next(_=>t.ai.setTargetsMetadata(l,l.currentSequenceNumber,r));f.push(y)}return oe.waitFor(f).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,m)).next(()=>p)}).then(l=>(t.Ss=a,l))}function BN(n,e,t){let r=Le(),a=Le();return t.forEach(l=>r=r.add(l)),e.getEntries(n,r).next(l=>{let c=gr();return t.forEach((f,p)=>{const m=l.get(f);p.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(f)),p.isNoDocument()&&p.version.isEqual(Re.min())?(e.removeEntry(f,p.readTime),c=c.insert(f,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),c=c.insert(f,p)):me(Sg,"Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",p.version)}),{xs:c,Os:a}})}function HN(n,e){const t=Ce(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=cg),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function qN(n,e){const t=Ce(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return t.ai.getTargetData(r,e).next(l=>l?(a=l,oe.resolve(a)):t.ai.allocateTargetId(r).next(c=>(a=new is(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.ai.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=t.Ss.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(r.targetId,r),t.Ds.set(e,r.targetId)),r})}async function Vm(n,e,t){const r=Ce(n),a=r.Ss.get(e),l=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",l,c=>r.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!jo(c))throw c;me(Sg,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(a.target)}function yE(n,e,t){const r=Ce(n);let a=Re.min(),l=Le();return r.persistence.runTransaction("Execute query","readwrite",c=>function(p,m,y){const _=Ce(p),E=_.Ds.get(y);return E!==void 0?oe.resolve(_.Ss.get(E)):_.ai.getTargetData(m,y)}(r,c,Ei(e)).next(f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(c,f.targetId).next(p=>{l=p})}).next(()=>r.bs.getDocumentsMatchingQuery(c,e,t?a:Re.min(),t?l:Le())).next(f=>(FN(r,II(e),f),{documents:f,Ns:l})))}function FN(n,e,t){let r=n.vs.get(e)||Re.min();t.forEach((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.vs.set(e,r)}class vE{constructor(){this.activeTargetIds=kI()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GN{constructor(){this.So=new vE,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,r){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new vE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="ConnectivityMonitor";class EE{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){me(_E,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){me(_E,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gd=null;function Lm(){return gd===null?gd=function(){return 268435456+Math.round(2147483648*Math.random())}():gd++,"0x"+gd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm="RestConnection",KN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class YN{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${r}/databases/${a}`,this.qo=this.databaseId.database===Hd?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Qo(e,t,r,a,l){const c=Lm(),f=this.$o(e,t.toUriEncodedString());me(rm,`Sending RPC '${e}' ${c}:`,f,r);const p={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(p,a,l),this.Ko(e,f,p,r).then(m=>(me(rm,`Received RPC '${e}' ${c}: `,m),m),m=>{throw Ao(rm,`RPC '${e}' ${c} failed with error: `,m,"url: ",f,"request:",r),m})}Wo(e,t,r,a,l,c){return this.Qo(e,t,r,a,l)}Uo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Vo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),r&&r.headers.forEach((a,l)=>e[l]=a)}$o(e,t){const r=KN[e];return`${this.Lo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt="WebChannelConnection";class XN extends YN{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,r,a){const l=Lm();return new Promise((c,f)=>{const p=new QT;p.setWithCredentials(!0),p.listenOnce(XT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Ad.NO_ERROR:const y=p.getResponseJson();me(Qt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),c(y);break;case Ad.TIMEOUT:me(Qt,`RPC '${e}' ${l} timed out`),f(new _e(le.DEADLINE_EXCEEDED,"Request time out"));break;case Ad.HTTP_ERROR:const _=p.getStatus();if(me(Qt,`RPC '${e}' ${l} failed with status:`,_,"response text:",p.getResponseText()),_>0){let E=p.getResponseJson();Array.isArray(E)&&(E=E[0]);const S=E==null?void 0:E.error;if(S&&S.status&&S.message){const R=function(j){const U=j.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(U)>=0?U:le.UNKNOWN}(S.status);f(new _e(R,S.message))}else f(new _e(le.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new _e(le.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{s_:e,streamId:l,o_:p.getLastErrorCode(),__:p.getLastError()})}}finally{me(Qt,`RPC '${e}' ${l} completed.`)}});const m=JSON.stringify(a);me(Qt,`RPC '${e}' ${l} sending request:`,a),p.send(t,"POST",m,r,15)})}a_(e,t,r){const a=Lm(),l=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=JT(),f=ZT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Uo(p.initMessageHeaders,t,r),p.encodeInitMessageHeaders=!0;const y=l.join("");me(Qt,`Creating RPC '${e}' stream ${a}: ${y}`,p);const _=c.createWebChannel(y,p);let E=!1,S=!1;const R=new QN({Go:j=>{S?me(Qt,`Not sending because RPC '${e}' stream ${a} is closed:`,j):(E||(me(Qt,`Opening RPC '${e}' stream ${a} transport.`),_.open(),E=!0),me(Qt,`RPC '${e}' stream ${a} sending:`,j),_.send(j))},zo:()=>_.close()}),H=(j,U,P)=>{j.listen(U,D=>{try{P(D)}catch(G){setTimeout(()=>{throw G},0)}})};return H(_,nu.EventType.OPEN,()=>{S||(me(Qt,`RPC '${e}' stream ${a} transport opened.`),R.t_())}),H(_,nu.EventType.CLOSE,()=>{S||(S=!0,me(Qt,`RPC '${e}' stream ${a} transport closed`),R.r_())}),H(_,nu.EventType.ERROR,j=>{S||(S=!0,Ao(Qt,`RPC '${e}' stream ${a} transport errored. Name:`,j.name,"Message:",j.message),R.r_(new _e(le.UNAVAILABLE,"The operation could not be completed")))}),H(_,nu.EventType.MESSAGE,j=>{var U;if(!S){const P=j.data[0];Ge(!!P,16349);const D=P,G=(D==null?void 0:D.error)||((U=D[0])===null||U===void 0?void 0:U.error);if(G){me(Qt,`RPC '${e}' stream ${a} received error:`,G);const q=G.status;let ee=function(I){const O=Tt[I];if(O!==void 0)return Db(O)}(q),M=G.message;ee===void 0&&(ee=le.INTERNAL,M="Unknown error status: "+q+" with message "+G.message),S=!0,R.r_(new _e(ee,M)),_.close()}else me(Qt,`RPC '${e}' stream ${a} received:`,P),R.i_(P)}}),H(f,WT.STAT_EVENT,j=>{j.stat===Am.PROXY?me(Qt,`RPC '${e}' stream ${a} detected buffering proxy`):j.stat===Am.NOPROXY&&me(Qt,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{R.n_()},0),R}}function sm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function If(n){return new eN(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e,t,r=1e3,a=1.5,l=6e4){this.bi=e,this.timerId=t,this.u_=r,this.c_=a,this.l_=l,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),a=Math.max(0,t-r);a>0&&me("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,a,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="PersistentStream";class Kb{constructor(e,t,r,a,l,c,f,p){this.bi=e,this.R_=r,this.V_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new $b(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===le.RESOURCE_EXHAUSTED?(mr(t.toString()),mr("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.m_===t&&this.B_(r,a)},r=>{e(()=>{const a=new _e(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(a)})})}B_(e,t){const r=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(a=>{r(()=>this.L_(a))}),this.stream.onMessage(a=>{r(()=>++this.p_==1?this.q_(a):this.onNext(a))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return me(TE,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(me(TE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class WN extends Kb{constructor(e,t,r,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,c),this.serializer=l}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=iN(this.serializer,e),r=function(l){if(!("targetChange"in l))return Re.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Re.min():c.readTime?Ti(c.readTime):Re.min()}(e);return this.listener.Q_(t,r)}U_(e){const t={};t.database=km(this.serializer),t.addTarget=function(l,c){let f;const p=c.target;if(f=Nm(p)?{documents:aN(l,p)}:{query:oN(l,p).gt},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=kb(l,c.resumeToken);const m=Dm(l,c.expectedCount);m!==null&&(f.expectedCount=m)}else if(c.snapshotVersion.compareTo(Re.min())>0){f.readTime=Yd(l,c.snapshotVersion.toTimestamp());const m=Dm(l,c.expectedCount);m!==null&&(f.expectedCount=m)}return f}(this.serializer,e);const r=uN(this.serializer,e);r&&(t.labels=r),this.F_(t)}K_(e){const t={};t.database=km(this.serializer),t.removeTarget=e,this.F_(t)}}class ZN extends Kb{constructor(e,t,r,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,c),this.serializer=l}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=sN(e.writeResults,e.commitTime),r=Ti(e.commitTime);return this.listener.j_(r,t)}H_(){const e={};e.database=km(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>rN(this.serializer,r))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{}class e2 extends JN{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.J_=!1}Y_(){if(this.J_)throw new _e(le.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,r,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Qo(e,Mm(t,r),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _e(le.UNKNOWN,l.toString())})}Wo(e,t,r,a,l){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Wo(e,Mm(t,r),a,c,f,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _e(le.UNKNOWN,c.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class t2{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(mr(t),this.ea=!1):me("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="RemoteStore";class n2{constructor(e,t,r,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=l,this.ca.vo(c=>{r.enqueueAndForget(async()=>{ya(this)&&(me(ca,"Restarting streams for network reachability change."),await async function(p){const m=Ce(p);m.aa.add(4),await Mu(m),m.la.set("Unknown"),m.aa.delete(4),await Nf(m)}(this))})}),this.la=new t2(r,a)}}async function Nf(n){if(ya(n))for(const e of n.ua)await e(!0)}async function Mu(n){for(const e of n.ua)await e(!1)}function Yb(n,e){const t=Ce(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),Cg(t)?Rg(t):Uo(t).b_()&&xg(t,e))}function Ag(n,e){const t=Ce(n),r=Uo(t);t._a.delete(e),r.b_()&&Qb(t,e),t._a.size===0&&(r.b_()?r.v_():ya(t)&&t.la.set("Unknown"))}function xg(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Uo(n).U_(e)}function Qb(n,e){n.ha.Ke(e),Uo(n).K_(e)}function Rg(n){n.ha=new XI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Uo(n).start(),n.la.ta()}function Cg(n){return ya(n)&&!Uo(n).w_()&&n._a.size>0}function ya(n){return Ce(n).aa.size===0}function Xb(n){n.ha=void 0}async function i2(n){n.la.set("Online")}async function r2(n){n._a.forEach((e,t)=>{xg(n,e)})}async function s2(n,e){Xb(n),Cg(n)?(n.la.ia(e),Rg(n)):n.la.set("Unknown")}async function a2(n,e,t){if(n.la.set("Online"),e instanceof Pb&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const f of l.targetIds)a._a.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a._a.delete(f),a.ha.removeTarget(f))}(n,e)}catch(r){me(ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Xd(n,r)}else if(e instanceof Id?n.ha.Xe(e):e instanceof Mb?n.ha.ot(e):n.ha.nt(e),!t.isEqual(Re.min()))try{const r=await Gb(n.localStore);t.compareTo(r)>=0&&await function(l,c){const f=l.ha.It(c);return f.targetChanges.forEach((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const y=l._a.get(m);y&&l._a.set(m,y.withResumeToken(p.resumeToken,c))}}),f.targetMismatches.forEach((p,m)=>{const y=l._a.get(p);if(!y)return;l._a.set(p,y.withResumeToken(Gt.EMPTY_BYTE_STRING,y.snapshotVersion)),Qb(l,p);const _=new is(y.target,p,m,y.sequenceNumber);xg(l,_)}),l.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(r){me(ca,"Failed to raise snapshot:",r),await Xd(n,r)}}async function Xd(n,e,t){if(!jo(e))throw e;n.aa.add(1),await Mu(n),n.la.set("Offline"),t||(t=()=>Gb(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{me(ca,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await Nf(n)})}function Wb(n,e){return e().catch(t=>Xd(n,t,e))}async function Of(n){const e=Ce(n),t=ms(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:cg;for(;o2(e);)try{const a=await HN(e.localStore,r);if(a===null){e.oa.length===0&&t.v_();break}r=a.batchId,l2(e,a)}catch(a){await Xd(e,a)}Zb(e)&&Jb(e)}function o2(n){return ya(n)&&n.oa.length<10}function l2(n,e){n.oa.push(e);const t=ms(n);t.b_()&&t.W_&&t.G_(e.mutations)}function Zb(n){return ya(n)&&!ms(n).w_()&&n.oa.length>0}function Jb(n){ms(n).start()}async function u2(n){ms(n).H_()}async function c2(n){const e=ms(n);for(const t of n.oa)e.G_(t.mutations)}async function d2(n,e,t){const r=n.oa.shift(),a=vg.from(r,e,t);await Wb(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await Of(n)}async function f2(n,e){e&&ms(n).W_&&await async function(r,a){if(function(c){return YI(c)&&c!==le.ABORTED}(a.code)){const l=r.oa.shift();ms(r).D_(),await Wb(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Of(r)}}(n,e),Zb(n)&&Jb(n)}async function bE(n,e){const t=Ce(n);t.asyncQueue.verifyOperationInProgress(),me(ca,"RemoteStore received new credentials");const r=ya(t);t.aa.add(3),await Mu(t),r&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await Nf(t)}async function h2(n,e){const t=Ce(n);e?(t.aa.delete(2),await Nf(t)):e||(t.aa.add(2),await Mu(t),t.la.set("Unknown"))}function Uo(n){return n.Pa||(n.Pa=function(t,r,a){const l=Ce(t);return l.Y_(),new WN(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{jo:i2.bind(null,n),Jo:r2.bind(null,n),Zo:s2.bind(null,n),Q_:a2.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),Cg(n)?Rg(n):n.la.set("Unknown")):(await n.Pa.stop(),Xb(n))})),n.Pa}function ms(n){return n.Ta||(n.Ta=function(t,r,a){const l=Ce(t);return l.Y_(),new ZN(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:u2.bind(null,n),Zo:f2.bind(null,n),z_:c2.bind(null,n),j_:d2.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await Of(n)):(await n.Ta.stop(),n.oa.length>0&&(me(ca,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,t,r,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,l){const c=Date.now()+r,f=new Ig(e,t,c,a,l);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ng(n,e){if(mr("AsyncQueue",`${e}: ${n}`),jo(n))return new _e(le.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{static emptySet(e){return new _o(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ee.comparator(t.key,r.key):(t,r)=>Ee.comparator(t.key,r.key),this.keyedMap=iu(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof _o)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new _o;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(){this.Ia=new ot(Ee.comparator)}track(e){const t=e.doc.key,r=this.Ia.get(t);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(t):e.type===1&&r.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):Se(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,r)=>{e.push(r)}),e}}class Oo{constructor(e,t,r,a,l,c,f,p,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,a,l){const c=[];return t.forEach(f=>{c.push({type:0,doc:f})}),new Oo(e,t,_o.emptySet(t),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class m2{constructor(){this.queries=SE(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,r){const a=Ce(t),l=a.queries;a.queries=SE(),l.forEach((c,f)=>{for(const p of f.Ra)p.onError(r)})})(this,new _e(le.ABORTED,"Firestore shutting down"))}}function SE(){return new ga(n=>Eb(n),Sf)}async function ew(n,e){const t=Ce(n);let r=3;const a=e.query;let l=t.queries.get(a);l?!l.Va()&&e.ma()&&(r=2):(l=new p2,r=e.ma()?0:1);try{switch(r){case 0:l.Aa=await t.onListen(a,!0);break;case 1:l.Aa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const f=Ng(c,`Initialization of query '${go(e.query)}' failed`);return void e.onError(f)}t.queries.set(a,l),l.Ra.push(e),e.ga(t.onlineState),l.Aa&&e.pa(l.Aa)&&Og(t)}async function tw(n,e){const t=Ce(n),r=e.query;let a=3;const l=t.queries.get(r);if(l){const c=l.Ra.indexOf(e);c>=0&&(l.Ra.splice(c,1),l.Ra.length===0?a=e.ma()?0:1:!l.Va()&&e.ma()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function g2(n,e){const t=Ce(n);let r=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const f of c.Ra)f.pa(a)&&(r=!0);c.Aa=a}}r&&Og(t)}function y2(n,e,t){const r=Ce(n),a=r.queries.get(e);if(a)for(const l of a.Ra)l.onError(t);r.queries.delete(e)}function Og(n){n.fa.forEach(e=>{e.next()})}var jm,AE;(AE=jm||(jm={})).ya="default",AE.Cache="cache";class nw{constructor(e,t,r){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Oo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const r=t!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=Oo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==jm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e){this.key=e}}class rw{constructor(e){this.key=e}}class v2{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Le(),this.mutatedKeys=Le(),this.Ua=Tb(e),this.Ka=new _o(this.Ua)}get Wa(){return this.qa}Ga(e,t){const r=t?t.za:new wE,a=t?t.Ka:this.Ka;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,f=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,_)=>{const E=a.get(y),S=Af(this.query,_)?_:null,R=!!E&&this.mutatedKeys.has(E.key),H=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let j=!1;E&&S?E.data.isEqual(S.data)?R!==H&&(r.track({type:3,doc:S}),j=!0):this.ja(E,S)||(r.track({type:2,doc:S}),j=!0,(p&&this.Ua(S,p)>0||m&&this.Ua(S,m)<0)&&(f=!0)):!E&&S?(r.track({type:0,doc:S}),j=!0):E&&!S&&(r.track({type:1,doc:E}),j=!0,(p||m)&&(f=!0)),j&&(S?(c=c.add(S),l=H?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),r.track({type:1,doc:y})}return{Ka:c,za:r,ys:f,mutatedKeys:l}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const l=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const c=e.za.da();c.sort((y,_)=>function(S,R){const H=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Vt:j})}};return H(S)-H(R)}(y.type,_.type)||this.Ua(y.doc,_.doc)),this.Ha(r),a=a!=null&&a;const f=t&&!a?this.Ja():[],p=this.$a.size===0&&this.current&&!a?1:0,m=p!==this.Qa;return this.Qa=p,c.length!==0||m?{snapshot:new Oo(this.query,e.Ka,l,c,e.mutatedKeys,p===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:f}:{Ya:f}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new wE,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Le(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const t=[];return e.forEach(r=>{this.$a.has(r)||t.push(new rw(r))}),this.$a.forEach(r=>{e.has(r)||t.push(new iw(r))}),t}Xa(e){this.qa=e.Ns,this.$a=Le();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return Oo.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Dg="SyncEngine";class _2{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class E2{constructor(e){this.key=e,this.tu=!1}}class T2{constructor(e,t,r,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.nu={},this.ru=new ga(f=>Eb(f),Sf),this.iu=new Map,this.su=new Set,this.ou=new ot(Ee.comparator),this._u=new Map,this.au=new Tg,this.uu={},this.cu=new Map,this.lu=No.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function b2(n,e,t=!0){const r=cw(n);let a;const l=r.ru.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.eu()):a=await sw(r,e,t,!0),a}async function w2(n,e){const t=cw(n);await sw(t,e,!0,!1)}async function sw(n,e,t,r){const a=await qN(n.localStore,Ei(e)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let f;return r&&(f=await S2(n,e,l,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&Yb(n.remoteStore,a),f}async function S2(n,e,t,r,a){n.Pu=(_,E,S)=>async function(H,j,U,P){let D=j.view.Ga(U);D.ys&&(D=await yE(H.localStore,j.query,!1).then(({documents:M})=>j.view.Ga(M,D)));const G=P&&P.targetChanges.get(j.targetId),q=P&&P.targetMismatches.get(j.targetId)!=null,ee=j.view.applyChanges(D,H.isPrimaryClient,G,q);return RE(H,j.targetId,ee.Ya),ee.snapshot}(n,_,E,S);const l=await yE(n.localStore,e,!0),c=new v2(e,l.Ns),f=c.Ga(l.documents),p=Du.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),m=c.applyChanges(f,n.isPrimaryClient,p);RE(n,t,m.Ya);const y=new _2(e,t,c);return n.ru.set(e,y),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),m.snapshot}async function A2(n,e,t){const r=Ce(n),a=r.ru.get(e),l=r.iu.get(a.targetId);if(l.length>1)return r.iu.set(a.targetId,l.filter(c=>!Sf(c,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Vm(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),t&&Ag(r.remoteStore,a.targetId),Um(r,a.targetId)}).catch(Lo)):(Um(r,a.targetId),await Vm(r.localStore,a.targetId,!0))}async function x2(n,e){const t=Ce(n),r=t.ru.get(e),a=t.iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Ag(t.remoteStore,r.targetId))}async function R2(n,e,t){const r=P2(n);try{const a=await function(c,f){const p=Ce(c),m=It.now(),y=f.reduce((S,R)=>S.add(R.key),Le());let _,E;return p.persistence.runTransaction("Locally write mutations","readwrite",S=>{let R=gr(),H=Le();return p.Cs.getEntries(S,y).next(j=>{R=j,R.forEach((U,P)=>{P.isValidDocument()||(H=H.add(U))})}).next(()=>p.localDocuments.getOverlayedDocuments(S,R)).next(j=>{_=j;const U=[];for(const P of f){const D=qI(P,_.get(P.key).overlayedDocument);D!=null&&U.push(new vs(P.key,D,hb(D.value.mapValue),Bn.exists(!0)))}return p.mutationQueue.addMutationBatch(S,m,U,f)}).next(j=>{E=j;const U=j.applyToLocalDocumentSet(_,H);return p.documentOverlayCache.saveOverlays(S,j.batchId,U)})}).then(()=>({batchId:E.batchId,changes:wb(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(c,f,p){let m=c.uu[c.currentUser.toKey()];m||(m=new ot(De)),m=m.insert(f,p),c.uu[c.currentUser.toKey()]=m}(r,a.batchId,t),await Pu(r,a.changes),await Of(r.remoteStore)}catch(a){const l=Ng(a,"Failed to persist write");t.reject(l)}}async function aw(n,e){const t=Ce(n);try{const r=await zN(t.localStore,e);e.targetChanges.forEach((a,l)=>{const c=t._u.get(l);c&&(Ge(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.tu=!0:a.modifiedDocuments.size>0?Ge(c.tu,14607):a.removedDocuments.size>0&&(Ge(c.tu,42227),c.tu=!1))}),await Pu(t,r,e)}catch(r){await Lo(r)}}function xE(n,e,t){const r=Ce(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.ru.forEach((l,c)=>{const f=c.view.ga(e);f.snapshot&&a.push(f.snapshot)}),function(c,f){const p=Ce(c);p.onlineState=f;let m=!1;p.queries.forEach((y,_)=>{for(const E of _.Ra)E.ga(f)&&(m=!0)}),m&&Og(p)}(r.eventManager,e),a.length&&r.nu.Q_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function C2(n,e,t){const r=Ce(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r._u.get(e),l=a&&a.key;if(l){let c=new ot(Ee.comparator);c=c.insert(l,Wt.newNoDocument(l,Re.min()));const f=Le().add(l),p=new Cf(Re.min(),new Map,new ot(De),c,f);await aw(r,p),r.ou=r.ou.remove(l),r._u.delete(e),Mg(r)}else await Vm(r.localStore,e,!1).then(()=>Um(r,e,t)).catch(Lo)}async function I2(n,e){const t=Ce(n),r=e.batch.batchId;try{const a=await UN(t.localStore,e);lw(t,r,null),ow(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Pu(t,a)}catch(a){await Lo(a)}}async function N2(n,e,t){const r=Ce(n);try{const a=await function(c,f){const p=Ce(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let y;return p.mutationQueue.lookupMutationBatch(m,f).next(_=>(Ge(_!==null,37113),y=_.keys(),p.mutationQueue.removeMutationBatch(m,_))).next(()=>p.mutationQueue.performConsistencyCheck(m)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(m,y,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y)).next(()=>p.localDocuments.getDocuments(m,y))})}(r.localStore,e);lw(r,e,t),ow(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Pu(r,a)}catch(a){await Lo(a)}}function ow(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function lw(n,e,t){const r=Ce(n);let a=r.uu[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),r.uu[r.currentUser.toKey()]=a}}function Um(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.iu.get(e))n.ru.delete(r),t&&n.nu.Tu(r,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(r=>{n.au.containsKey(r)||uw(n,r)})}function uw(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(Ag(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),Mg(n))}function RE(n,e,t){for(const r of t)r instanceof iw?(n.au.addReference(r.key,e),O2(n,r)):r instanceof rw?(me(Dg,"Document no longer in limbo: "+r.key),n.au.removeReference(r.key,e),n.au.containsKey(r.key)||uw(n,r.key)):Se(19791,{Iu:r})}function O2(n,e){const t=e.key,r=t.path.canonicalString();n.ou.get(t)||n.su.has(r)||(me(Dg,"New document in limbo: "+t),n.su.add(r),Mg(n))}function Mg(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new Ee(rt.fromString(e)),r=n.lu.next();n._u.set(r,new E2(t)),n.ou=n.ou.insert(t,r),Yb(n.remoteStore,new is(Ei(mg(t.path)),r,"TargetPurposeLimboResolution",Ef.le))}}async function Pu(n,e,t){const r=Ce(n),a=[],l=[],c=[];r.ru.isEmpty()||(r.ru.forEach((f,p)=>{c.push(r.Pu(p,e,t).then(m=>{var y;if((m||t)&&r.isPrimaryClient){const _=m?!m.fromCache:(y=t==null?void 0:t.targetChanges.get(p.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(p.targetId,_?"current":"not-current")}if(m){a.push(m);const _=wg.Ps(p.targetId,m);l.push(_)}}))}),await Promise.all(c),r.nu.Q_(a),await async function(p,m){const y=Ce(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>oe.forEach(m,E=>oe.forEach(E.ls,S=>y.persistence.referenceDelegate.addReference(_,E.targetId,S)).next(()=>oe.forEach(E.hs,S=>y.persistence.referenceDelegate.removeReference(_,E.targetId,S)))))}catch(_){if(!jo(_))throw _;me(Sg,"Failed to update sequence numbers: "+_)}for(const _ of m){const E=_.targetId;if(!_.fromCache){const S=y.Ss.get(E),R=S.snapshotVersion,H=S.withLastLimboFreeSnapshotVersion(R);y.Ss=y.Ss.insert(E,H)}}}(r.localStore,l))}async function D2(n,e){const t=Ce(n);if(!t.currentUser.isEqual(e)){me(Dg,"User change. New user:",e.toKey());const r=await Fb(t.localStore,e);t.currentUser=e,function(l,c){l.cu.forEach(f=>{f.forEach(p=>{p.reject(new _e(le.CANCELLED,c))})}),l.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Pu(t,r.Ms)}}function M2(n,e){const t=Ce(n),r=t._u.get(e);if(r&&r.tu)return Le().add(r.key);{let a=Le();const l=t.iu.get(e);if(!l)return a;for(const c of l){const f=t.ru.get(c);a=a.unionWith(f.view.Wa)}return a}}function cw(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=aw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=M2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=C2.bind(null,e),e.nu.Q_=g2.bind(null,e.eventManager),e.nu.Tu=y2.bind(null,e.eventManager),e}function P2(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=I2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=N2.bind(null,e),e}class Wd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=If(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return jN(this.persistence,new kN,e.initialUser,this.serializer)}Ru(e){return new qb(bg.Ei,this.serializer)}Au(e){return new GN}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wd.provider={build:()=>new Wd};class k2 extends Wd{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){Ge(this.persistence.referenceDelegate instanceof Qd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new EN(r,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new qb(r=>Qd.Ei(r,t),this.serializer)}}class zm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>xE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=D2.bind(null,this.syncEngine),await h2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new m2}()}createDatastore(e){const t=If(e.databaseInfo.databaseId),r=function(l){return new XN(l)}(e.databaseInfo);return function(l,c,f,p){return new e2(l,c,f,p)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,a,l,c,f){return new n2(r,a,l,c,f)}(this.localStore,this.datastore,e.asyncQueue,t=>xE(this.syncEngine,t,0),function(){return EE.C()?new EE:new $N}())}createSyncEngine(e,t){return function(a,l,c,f,p,m,y){const _=new T2(a,l,c,f,p,m);return y&&(_.hu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=Ce(a);me(ca,"RemoteStore shutting down."),l.aa.add(5),await Mu(l),l.ca.shutdown(),l.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}zm.provider={build:()=>new zm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):mr("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="FirestoreClient";class V2{constructor(e,t,r,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=Xt.UNAUTHENTICATED,this.clientId=ib.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,async c=>{me(gs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(me(gs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Ng(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function am(n,e){n.asyncQueue.verifyOperationInProgress(),me(gs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async a=>{r.isEqual(a)||(await Fb(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function CE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await L2(n);me(gs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>bE(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>bE(e.remoteStore,a)),n._onlineComponents=e}async function L2(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){me(gs,"Using user provided OfflineComponentProvider");try{await am(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===le.FAILED_PRECONDITION||a.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;Ao("Error using user provided cache. Falling back to memory cache: "+t),await am(n,new Wd)}}else me(gs,"Using default OfflineComponentProvider"),await am(n,new k2(void 0));return n._offlineComponents}async function fw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(me(gs,"Using user provided OnlineComponentProvider"),await CE(n,n._uninitializedComponentsProvider._online)):(me(gs,"Using default OnlineComponentProvider"),await CE(n,new zm))),n._onlineComponents}function j2(n){return fw(n).then(e=>e.syncEngine)}async function hw(n){const e=await fw(n),t=e.eventManager;return t.onListen=b2.bind(null,e.syncEngine),t.onUnlisten=A2.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=w2.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=x2.bind(null,e.syncEngine),t}function U2(n,e,t={}){const r=new dr;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,f,p,m){const y=new dw({next:E=>{y.yu(),c.enqueueAndForget(()=>tw(l,_));const S=E.docs.has(f);!S&&E.fromCache?m.reject(new _e(le.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&E.fromCache&&p&&p.source==="server"?m.reject(new _e(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(E)},error:E=>m.reject(E)}),_=new nw(mg(f.path),y,{includeMetadataChanges:!0,Fa:!0});return ew(l,_)}(await hw(n),n.asyncQueue,e,t,r)),r.promise}function z2(n,e,t={}){const r=new dr;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,f,p,m){const y=new dw({next:E=>{y.yu(),c.enqueueAndForget(()=>tw(l,_)),E.fromCache&&p.source==="server"?m.reject(new _e(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(E)},error:E=>m.reject(E)}),_=new nw(f,y,{includeMetadataChanges:!0,Fa:!0});return ew(l,_)}(await hw(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(n,e,t){if(!t)throw new _e(le.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function B2(n,e,t,r){if(e===!0&&r===!0)throw new _e(le.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function NE(n){if(!Ee.isDocumentKey(n))throw new _e(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function OE(n){if(Ee.isDocumentKey(n))throw new _e(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Pg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Se(12329,{type:typeof n})}function Zn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new _e(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Pg(n);throw new _e(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="firestore.googleapis.com",DE=!0;class ME{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gw,this.ssl=DE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:DE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Hb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<vN)throw new _e(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}B2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pw((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new _e(le.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new _e(le.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new _e(le.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Df{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ME({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ME(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new KC;switch(r.type){case"firstParty":return new WC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _e(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=IE.get(t);r&&(me("ComponentProvider","Removing Datastore"),IE.delete(t),r.terminate())}(this),Promise.resolve()}}function H2(n,e,t,r={}){var a;const l=(n=Zn(n,Df))._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),f=`${e}:${t}`;l.host!==gw&&l.host!==f&&Ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},l),{host:f,ssl:!1,emulatorOptions:r});if(!us(p,c)&&(n._setSettings(p),r.mockUserToken)){let m,y;if(typeof r.mockUserToken=="string")m=r.mockUserToken,y=Xt.MOCK_USER;else{m=HT(r.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new _e(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Xt(_)}n._authCredentials=new YC(new tb(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Mf(this.firestore,e,this._query)}}class mn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ls(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mn(this.firestore,e,this._key)}}class ls extends Mf{constructor(e,t,r){super(e,t,mg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mn(this.firestore,null,new Ee(e))}withConverter(e){return new ls(this.firestore,e,this._path)}}function oa(n,e,...t){if(n=Lt(n),mw("collection","path",e),n instanceof Df){const r=rt.fromString(e,...t);return OE(r),new ls(n,null,r)}{if(!(n instanceof mn||n instanceof ls))throw new _e(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(rt.fromString(e,...t));return OE(r),new ls(n.firestore,null,r)}}function Jt(n,e,...t){if(n=Lt(n),arguments.length===1&&(e=ib.newId()),mw("doc","path",e),n instanceof Df){const r=rt.fromString(e,...t);return NE(r),new mn(n,null,new Ee(r))}{if(!(n instanceof mn||n instanceof ls))throw new _e(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(rt.fromString(e,...t));return NE(r),new mn(n.firestore,n instanceof ls?n.converter:null,new Ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="AsyncQueue";class kE{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new $b(this,"async_queue_retry"),this.ju=()=>{const r=sm();r&&me(PE,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const t=sm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=sm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new dr;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!jo(e))throw e;me(PE,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,mr("INTERNAL UNHANDLED ERROR: ",VE(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=t,t}enqueueAfterDelay(e,t,r){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const a=Ig.createAndSchedule(this,e,t,r,l=>this.Xu(l));return this.Uu.push(a),a}Ju(){this.Ku&&Se(47125,{ec:VE(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function VE(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class va extends Df{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new kE,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kE(e),this._firestoreClient=void 0,await e}}}function q2(n,e){const t=typeof n=="object"?n:lg(),r=typeof n=="string"?n:Hd,a=_f(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=UT("firestore");l&&H2(a,...l)}return a}function kg(n){if(n._terminated)throw new _e(le.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||F2(n),n._firestoreClient}function F2(n){var e,t,r;const a=n._freezeSettings(),l=function(f,p,m,y){return new fI(f,p,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,pw(y.experimentalLongPollingOptions),y.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new V2(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Do(Gt.fromBase64String(e))}catch(t){throw new _e(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Do(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new _e(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _e(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _e(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2=/^__.*__$/;class $2{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new vs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ou(e,this.data,t,this.fieldTransforms)}}class yw{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new vs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function vw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{oc:n})}}class Vf{constructor(e,t,r,a,l,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this._c(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Vf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ac({path:r,cc:!1});return a.lc(e),a}hc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ac({path:r,cc:!1});return a._c(),a}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Zd(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(vw(this.oc)&&G2.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class K2{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||If(e)}dc(e,t,r,a=!1){return new Vf({oc:e,methodName:t,Ec:r,path:Ft.emptyPath(),cc:!1,Ic:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jg(n){const e=n._freezeSettings(),t=If(n._databaseId);return new K2(n._databaseId,!!e.ignoreUndefinedProperties,t)}function _w(n,e,t,r,a,l={}){const c=n.dc(l.merge||l.mergeFields?2:0,e,t,a);zg("Data must be an object, but it was:",c,r);const f=Ew(r,c);let p,m;if(l.merge)p=new Rn(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const E=Bm(e,_,t);if(!c.contains(E))throw new _e(le.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);bw(y,E)||y.push(E)}p=new Rn(y),m=c.fieldTransforms.filter(_=>p.covers(_.field))}else p=null,m=c.fieldTransforms;return new $2(new pn(f),p,m)}class Lf extends kf{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lf}}function Y2(n,e,t){return new Vf({oc:3,Ec:e.settings.Ec,methodName:n._methodName,cc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Ug extends kf{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=Y2(this,e,!0),r=this.Ac.map(l=>ku(l,t)),a=new Io(r);return new UI(e.path,a)}isEqual(e){return e instanceof Ug&&us(this.Ac,e.Ac)}}function Q2(n,e,t,r){const a=n.dc(1,e,t);zg("Data must be an object, but it was:",a,r);const l=[],c=pn.empty();ys(r,(p,m)=>{const y=Bg(e,p,t);m=Lt(m);const _=a.hc(y);if(m instanceof Lf)l.push(y);else{const E=ku(m,_);E!=null&&(l.push(y),c.set(y,E))}});const f=new Rn(l);return new yw(c,f,a.fieldTransforms)}function X2(n,e,t,r,a,l){const c=n.dc(1,e,t),f=[Bm(e,r,t)],p=[a];if(l.length%2!=0)throw new _e(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)f.push(Bm(e,l[E])),p.push(l[E+1]);const m=[],y=pn.empty();for(let E=f.length-1;E>=0;--E)if(!bw(m,f[E])){const S=f[E];let R=p[E];R=Lt(R);const H=c.hc(S);if(R instanceof Lf)m.push(S);else{const j=ku(R,H);j!=null&&(m.push(S),y.set(S,j))}}const _=new Rn(m);return new yw(y,_,c.fieldTransforms)}function ku(n,e){if(Tw(n=Lt(n)))return zg("Unsupported field value:",e,n),Ew(n,e);if(n instanceof kf)return function(r,a){if(!vw(a.oc))throw a.Tc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Tc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,a){const l=[];let c=0;for(const f of r){let p=ku(f,a.Pc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(n,e)}return function(r,a){if((r=Lt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return VI(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=It.fromDate(r);return{timestampValue:Yd(a.serializer,l)}}if(r instanceof It){const l=new It(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yd(a.serializer,l)}}if(r instanceof Vg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Do)return{bytesValue:kb(a.serializer,r._byteString)};if(r instanceof mn){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.Tc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Eg(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Lg)return function(c,f){return{mapValue:{fields:{[db]:{stringValue:fb},[qd]:{arrayValue:{values:c.toArray().map(m=>{if(typeof m!="number")throw f.Tc("VectorValues must only contain numeric values.");return gg(f.serializer,m)})}}}}}}(r,a);throw a.Tc(`Unsupported field value: ${Pg(r)}`)}(n,e)}function Ew(n,e){const t={};return sb(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ys(n,(r,a)=>{const l=ku(a,e.uc(r));l!=null&&(t[r]=l)}),{mapValue:{fields:t}}}function Tw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof It||n instanceof Vg||n instanceof Do||n instanceof mn||n instanceof kf||n instanceof Lg)}function zg(n,e,t){if(!Tw(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const r=Pg(t);throw r==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+r)}}function Bm(n,e,t){if((e=Lt(e))instanceof Pf)return e._internalPath;if(typeof e=="string")return Bg(n,e);throw Zd("Field path arguments must be of type string or ",n,!1,void 0,t)}const W2=new RegExp("[~\\*/\\[\\]]");function Bg(n,e,t){if(e.search(W2)>=0)throw Zd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Pf(...e.split("."))._internalPath}catch{throw Zd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Zd(n,e,t,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${r}`),c&&(p+=` in document ${a}`),p+=")"),new _e(le.INVALID_ARGUMENT,f+n+p)}function bw(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e,t,r,a,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Z2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Sw("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Z2 extends ww{data(){return super.data()}}function Sw(n,e){return typeof e=="string"?Bg(n,e):e instanceof Pf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new _e(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class eO{convertValue(e,t="none"){switch(ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ys(e,(a,l)=>{r[a]=this.convertValue(l,t)}),r}convertVectorValue(e){var t,r,a;const l=(a=(r=(t=e.fields)===null||t===void 0?void 0:t[qd].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(c=>mt(c.doubleValue));return new Lg(l)}convertGeoPoint(e){return new Vg(mt(e.latitude),mt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=bf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(yu(e));default:return null}}convertTimestamp(e){const t=fs(e);return new It(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=rt.fromString(e);Ge(Bb(r),9688,{name:e});const a=new vu(r.get(1),r.get(3)),l=new Ee(r.popFirst(5));return a.isEqual(t)||mr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xw extends ww{constructor(e,t,r,a,l,c){super(e,t,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Nd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Sw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Nd extends xw{data(e={}){return super.data(e)}}class tO{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new su(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Nd(this._firestore,this._userDataWriter,r.key,r,new su(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _e(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(f=>{const p=new Nd(a._firestore,a._userDataWriter,f.doc.key,f.doc,new su(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const p=new Nd(a._firestore,a._userDataWriter,f.doc.key,f.doc,new su(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,y=-1;return f.type!==0&&(m=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),y=c.indexOf(f.doc.key)),{type:nO(f.type),doc:p,oldIndex:m,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function nO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function da(n){n=Zn(n,mn);const e=Zn(n.firestore,va);return U2(kg(e),n._key).then(t=>iO(e,n,t))}class Rw extends eO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Do(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new mn(this.firestore,null,t)}}function Tu(n){n=Zn(n,Mf);const e=Zn(n.firestore,va),t=kg(e),r=new Rw(e);return J2(n._query),z2(t,n._query).then(a=>new tO(e,r,n,a))}function om(n,e,t){n=Zn(n,mn);const r=Zn(n.firestore,va),a=Aw(n.converter,e,t);return jf(r,[_w(jg(r),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,Bn.none())])}function Jd(n,e,t,...r){n=Zn(n,mn);const a=Zn(n.firestore,va),l=jg(a);let c;return c=typeof(e=Lt(e))=="string"||e instanceof Pf?X2(l,"updateDoc",n._key,e,t,r):Q2(l,"updateDoc",n._key,e),jf(a,[c.toMutation(n._key,Bn.exists(!0))])}function Hm(n){return jf(Zn(n.firestore,va),[new yg(n._key,Bn.none())])}function Cw(n,e){const t=Zn(n.firestore,va),r=Jt(n),a=Aw(n.converter,e);return jf(t,[_w(jg(n.firestore),"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,Bn.exists(!1))]).then(()=>r)}function jf(n,e){return function(r,a){const l=new dr;return r.asyncQueue.enqueueAndForget(async()=>R2(await j2(r),a,l)),l.promise}(kg(n),e)}function iO(n,e,t){const r=t.docs.get(e._key),a=new Rw(n);return new xw(n,a,e._key,r,new su(t.hasPendingWrites,t.fromCache),e.converter)}function rO(...n){return new Ug("arrayUnion",n)}(function(e,t=!0){(function(a){Vo=a})(ma),la(new cs("firestore",(r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),f=new va(new QC(r.getProvider("auth-internal")),new ZC(c,r.getProvider("app-check-internal")),function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new _e(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vu(m.options.projectId,y)}(c,a),c);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),_i(B0,H0,e),_i(B0,H0,"esm2017")})();var sO="firebase",aO="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_i(sO,aO,"app");function Hg(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(t[r[a]]=n[r[a]]);return t}function Iw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oO=Iw,Nw=new Iu("auth","Firebase",Iw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef=new ag("@firebase/auth");function lO(n,...e){ef.logLevel<=Ve.WARN&&ef.warn(`Auth (${ma}): ${n}`,...e)}function Od(n,...e){ef.logLevel<=Ve.ERROR&&ef.error(`Auth (${ma}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(n,...e){throw Fg(n,...e)}function Wn(n,...e){return Fg(n,...e)}function qg(n,e,t){const r=Object.assign(Object.assign({},oO()),{[e]:t});return new Iu("auth","Firebase",r).create(e,{appName:n.name})}function fr(n){return qg(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uO(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Hn(n,"argument-error"),qg(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Fg(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Nw.create(n,...e)}function we(n,e,...t){if(!n)throw Fg(e,...t)}function lr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Od(e),new Error(e)}function yr(n,e){n||lr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function cO(){return LE()==="http:"||LE()==="https:"}function LE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cO()||xR()||"connection"in navigator)?navigator.onLine:!0}function fO(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,t){this.shortDelay=e,this.longDelay=t,yr(t>e,"Short delay should be less than long delay!"),this.isMobile=wR()||RR()}get(){return dO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(n,e){yr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mO=new Vu(3e4,6e4);function Tr(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ni(n,e,t,r,a={}){return Dw(n,a,async()=>{let l={},c={};r&&(e==="GET"?c=r:l={body:JSON.stringify(r)});const f=Nu(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:p},l);return AR()||(m.referrerPolicy="no-referrer"),Ow.fetch()(await Mw(n,n.config.apiHost,t,f),m)})}async function Dw(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},hO),e);try{const a=new yO(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw yd(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[p,m]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw yd(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw yd(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw yd(n,"user-disabled",c);const y=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw qg(n,y,m);Hn(n,y)}}catch(a){if(a instanceof Ii)throw a;Hn(n,"network-request-failed",{message:String(a)})}}async function Lu(n,e,t,r,a={}){const l=await Ni(n,e,t,r,a);return"mfaPendingCredential"in l&&Hn(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function Mw(n,e,t,r){const a=`${e}${t}?${r}`,l=n,c=l.config.emulator?Gg(n.config,a):`${n.config.apiScheme}://${a}`;return pO.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function gO(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class yO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Wn(this.auth,"network-request-failed")),mO.get())})}}function yd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=Wn(n,e,r);return a.customData._tokenResponse=t,a}function jE(n){return n!==void 0&&n.enterprise!==void 0}class vO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return gO(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function _O(n,e){return Ni(n,"GET","/v2/recaptchaConfig",Tr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EO(n,e){return Ni(n,"POST","/v1/accounts:delete",e)}async function tf(n,e){return Ni(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function TO(n,e=!1){const t=Lt(n),r=await t.getIdToken(e),a=$g(r);we(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:r,authTime:cu(lm(a.auth_time)),issuedAtTime:cu(lm(a.iat)),expirationTime:cu(lm(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function lm(n){return Number(n)*1e3}function $g(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Od("JWT malformed, contained fewer than 3 sections"),null;try{const a=LT(t);return a?JSON.parse(a):(Od("Failed to decode base64 JWT payload"),null)}catch(a){return Od("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function UE(n){const e=$g(n);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mo(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Ii&&bO(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function bO({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=cu(this.lastLoginAt),this.creationTime=cu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nf(n){var e;const t=n.auth,r=await n.getIdToken(),a=await Mo(n,tf(t,{idToken:r}));we(a==null?void 0:a.users.length,t,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?Pw(l.providerUserInfo):[],f=AO(n.providerData,c),p=n.isAnonymous,m=!(n.email&&l.passwordHash)&&!(f!=null&&f.length),y=p?m:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Fm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(n,_)}async function SO(n){const e=Lt(n);await nf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function AO(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function Pw(n){return n.map(e=>{var{providerId:t}=e,r=Hg(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xO(n,e){const t=await Dw(n,{},async()=>{const r=Nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=await Mw(n,a,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",Ow.fetch()(c,{method:"POST",headers:f,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function RO(n,e){return Ni(n,"POST","/v2/accounts:revokeToken",Tr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):UE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){we(e.length!==0,"internal-error");const t=UE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:l}=await xO(e,t);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:l}=t,c=new Eo;return r&&(we(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(we(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(we(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Eo,this.toJSON())}_performRefresh(){return lr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(n,e){we(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Qn{constructor(e){var{uid:t,auth:r,stsTokenManager:a}=e,l=Hg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Fm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Mo(this,this.stsTokenManager.getToken(this.auth,e));return we(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return TO(this,e)}reload(){return SO(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Qn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await nf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hn(this.auth.app))return Promise.reject(fr(this.auth));const e=await this.getIdToken();return await Mo(this,EO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,a,l,c,f,p,m,y;const _=(r=t.displayName)!==null&&r!==void 0?r:void 0,E=(a=t.email)!==null&&a!==void 0?a:void 0,S=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,R=(c=t.photoURL)!==null&&c!==void 0?c:void 0,H=(f=t.tenantId)!==null&&f!==void 0?f:void 0,j=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,U=(m=t.createdAt)!==null&&m!==void 0?m:void 0,P=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:D,emailVerified:G,isAnonymous:q,providerData:ee,stsTokenManager:M}=t;we(D&&M,e,"internal-error");const C=Eo.fromJSON(this.name,M);we(typeof D=="string",e,"internal-error"),Zr(_,e.name),Zr(E,e.name),we(typeof G=="boolean",e,"internal-error"),we(typeof q=="boolean",e,"internal-error"),Zr(S,e.name),Zr(R,e.name),Zr(H,e.name),Zr(j,e.name),Zr(U,e.name),Zr(P,e.name);const I=new Qn({uid:D,auth:e,email:E,emailVerified:G,displayName:_,isAnonymous:q,photoURL:R,phoneNumber:S,tenantId:H,stsTokenManager:C,createdAt:U,lastLoginAt:P});return ee&&Array.isArray(ee)&&(I.providerData=ee.map(O=>Object.assign({},O))),j&&(I._redirectEventId=j),I}static async _fromIdTokenResponse(e,t,r=!1){const a=new Eo;a.updateFromServerResponse(t);const l=new Qn({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await nf(l),l}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];we(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?Pw(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),f=new Eo;f.updateFromIdToken(r);const p=new Qn({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Fm(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE=new Map;function ur(n){yr(n instanceof Function,"Expected a class definition");let e=zE.get(n);return e?(yr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,zE.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}kw.type="NONE";const BE=kw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dd(n,e,t){return`firebase:${n}:${e}:${t}`}class To{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=Dd(this.userKey,a.apiKey,l),this.fullPersistenceKey=Dd("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await tf(this.auth,{idToken:e}).catch(()=>{});return t?Qn._fromGetAccountInfoResponse(this.auth,t,e):null}return Qn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new To(ur(BE),e,r);const a=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||ur(BE);const c=Dd(r,e.config.apiKey,e.name);let f=null;for(const m of t)try{const y=await m._get(c);if(y){let _;if(typeof y=="string"){const E=await tf(e,{idToken:y}).catch(()=>{});if(!E)break;_=await Qn._fromGetAccountInfoResponse(e,E,y)}else _=Qn._fromJSON(e,y);m!==l&&(f=_),l=m;break}}catch{}const p=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new To(l,e,r):(l=p[0],f&&await l._set(c,f.toJSON()),await Promise.all(t.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new To(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Uw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Vw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Bw(e))return"Blackberry";if(Hw(e))return"Webos";if(Lw(e))return"Safari";if((e.includes("chrome/")||jw(e))&&!e.includes("edge/"))return"Chrome";if(zw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Vw(n=en()){return/firefox\//i.test(n)}function Lw(n=en()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jw(n=en()){return/crios\//i.test(n)}function Uw(n=en()){return/iemobile/i.test(n)}function zw(n=en()){return/android/i.test(n)}function Bw(n=en()){return/blackberry/i.test(n)}function Hw(n=en()){return/webos/i.test(n)}function Kg(n=en()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function CO(n=en()){var e;return Kg(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function IO(){return CR()&&document.documentMode===10}function qw(n=en()){return Kg(n)||zw(n)||Hw(n)||Bw(n)||/windows phone/i.test(n)||Uw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(n,e=[]){let t;switch(n){case"Browser":t=HE(en());break;case"Worker":t=`${HE(en())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ma}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=l=>new Promise((c,f)=>{try{const p=e(l);c(p)}catch(p){f(p)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OO(n,e={}){return Ni(n,"GET","/v2/passwordPolicy",Tr(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO=6;class MO{constructor(e){var t,r,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:DO,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,a,l,c,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(r=p.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),p.isValid&&(p.isValid=(a=p.containsLowercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qE(this),this.idTokenSubscription=new qE(this),this.beforeStateQueue=new NO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Nw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ur(t)),this._initializationPromise=this.queue(async()=>{var r,a,l;if(!this._deleted&&(this.persistenceManager=await To.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await tf(this,{idToken:e}),r=await Qn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(hn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=a==null?void 0:a._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===f)&&(p!=null&&p.user)&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await nf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hn(this.app))return Promise.reject(fr(this));const t=e?Lt(e):null;return t&&we(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hn(this.app)?Promise.reject(fr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hn(this.app)?Promise.reject(fr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ur(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await OO(this),t=new MO(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Iu("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await RO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ur(e)||this._popupRedirectResolver;we(t,this,"argument-error"),this.redirectPersistenceManager=await To.create(this,[ur(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,r,a);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Fw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&lO(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function br(n){return Lt(n)}class qE{constructor(e){this.auth=e,this.observer=null,this.addObserver=VR(t=>this.observer=t)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kO(n){Uf=n}function Gw(n){return Uf.loadJS(n)}function VO(){return Uf.recaptchaEnterpriseScript}function LO(){return Uf.gapiScript}function jO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class UO{constructor(){this.enterprise=new zO}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class zO{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const BO="recaptcha-enterprise",$w="NO_RECAPTCHA";class HO{constructor(e){this.type=BO,this.auth=br(e)}async verify(e="verify",t=!1){async function r(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,f)=>{_O(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const m=new vO(p);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,c(m.siteKey)}}).catch(p=>{f(p)})})}function a(l,c,f){const p=window.grecaptcha;jE(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(m=>{c(m)}).catch(()=>{c($w)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new UO().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{r(this.auth).then(f=>{if(!t&&jE(window.grecaptcha))a(f,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=VO();p.length!==0&&(p+=f),Gw(p).then(()=>{a(f,l,c)}).catch(m=>{c(m)})}}).catch(f=>{c(f)})})}}async function FE(n,e,t,r=!1,a=!1){const l=new HO(n);let c;if(a)c=$w;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,m=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return r?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function rf(n,e,t,r,a){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await FE(n,e,t,t==="getOobCode");return r(n,c)}else return r(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await FE(n,e,t,t==="getOobCode");return r(n,f)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(n,e){const t=_f(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(us(l,e??{}))return a;Hn(a,"already-initialized")}return t.initialize({options:e})}function FO(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(ur);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function GO(n,e,t){const r=br(n);we(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=Kw(e),{host:c,port:f}=$O(e),p=f===null?"":`:${f}`,m={url:`${l}//${c}${p}/`},y=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){we(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),we(us(m,r.config.emulator)&&us(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,KO()}function Kw(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function $O(n){const e=Kw(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:GE(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:GE(c)}}}function GE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function KO(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return lr("not implemented")}_getIdTokenResponse(e){return lr("not implemented")}_linkToIdToken(e,t){return lr("not implemented")}_getReauthenticationResolver(e){return lr("not implemented")}}async function YO(n,e){return Ni(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QO(n,e){return Lu(n,"POST","/v1/accounts:signInWithPassword",Tr(n,e))}async function XO(n,e){return Ni(n,"POST","/v1/accounts:sendOobCode",Tr(n,e))}async function WO(n,e){return XO(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZO(n,e){return Lu(n,"POST","/v1/accounts:signInWithEmailLink",Tr(n,e))}async function JO(n,e){return Lu(n,"POST","/v1/accounts:signInWithEmailLink",Tr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends Yg{constructor(e,t,r,a=null){super("password",r),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new bu(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new bu(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rf(e,t,"signInWithPassword",QO);case"emailLink":return ZO(e,{email:this._email,oobCode:this._password});default:Hn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rf(e,r,"signUpPassword",YO);case"emailLink":return JO(e,{idToken:t,email:this._email,oobCode:this._password});default:Hn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(n,e){return Lu(n,"POST","/v1/accounts:signInWithIdp",Tr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD="http://localhost";class fa extends Yg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new fa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Hn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=t,l=Hg(t,["providerId","signInMethod"]);if(!r||!a)return null;const c=new fa(r,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return bo(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,bo(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,bo(e,t)}buildRequest(){const e={requestUri:eD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Nu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function nD(n){const e=eu(tu(n)).link,t=e?eu(tu(e)).deep_link_id:null,r=eu(tu(n)).deep_link_id;return(r?eu(tu(r)).link:null)||r||t||e||n}class Qg{constructor(e){var t,r,a,l,c,f;const p=eu(tu(e)),m=(t=p.apiKey)!==null&&t!==void 0?t:null,y=(r=p.oobCode)!==null&&r!==void 0?r:null,_=tD((a=p.mode)!==null&&a!==void 0?a:null);we(m&&y&&_,"argument-error"),this.apiKey=m,this.operation=_,this.code=y,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=p.lang)!==null&&c!==void 0?c:null,this.tenantId=(f=p.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=nD(e);try{return new Qg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(){this.providerId=zo.PROVIDER_ID}static credential(e,t){return bu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Qg.parseLink(t);return we(r,"argument-error"),bu._fromEmailAndCode(e,r.code,r.tenantId)}}zo.PROVIDER_ID="password";zo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";zo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju extends Xg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends ju{constructor(){super("facebook.com")}static credential(e){return fa._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Jr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or extends ju{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return fa._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return or.credential(t,r)}catch{return null}}}or.GOOGLE_SIGN_IN_METHOD="google.com";or.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends ju{constructor(){super("github.com")}static credential(e){return fa._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return es.credential(e.oauthAccessToken)}catch{return null}}}es.GITHUB_SIGN_IN_METHOD="github.com";es.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends ju{constructor(){super("twitter.com")}static credential(e,t){return fa._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ts.credential(t,r)}catch{return null}}}ts.TWITTER_SIGN_IN_METHOD="twitter.com";ts.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iD(n,e){return Lu(n,"POST","/v1/accounts:signUp",Tr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const l=await Qn._fromIdTokenResponse(e,r,a),c=$E(r);return new ha({user:l,providerId:c,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=$E(r);return new ha({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function $E(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf extends Ii{constructor(e,t,r,a){var l;super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,sf.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new sf(e,t,r,a)}}function Yw(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?sf._fromErrorAndOperation(n,l,e,r):l})}async function rD(n,e,t=!1){const r=await Mo(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ha._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sD(n,e,t=!1){const{auth:r}=n;if(hn(r.app))return Promise.reject(fr(r));const a="reauthenticate";try{const l=await Mo(n,Yw(r,a,e,n),t);we(l.idToken,r,"internal-error");const c=$g(l.idToken);we(c,r,"internal-error");const{sub:f}=c;return we(n.uid===f,r,"user-mismatch"),ha._forOperation(n,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Hn(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qw(n,e,t=!1){if(hn(n.app))return Promise.reject(fr(n));const r="signIn",a=await Yw(n,r,e),l=await ha._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(l.user),l}async function aD(n,e){return Qw(br(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xw(n){const e=br(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function oD(n,e,t){const r=br(n);await rf(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",WO)}async function lD(n,e,t){if(hn(n.app))return Promise.reject(fr(n));const r=br(n),c=await rf(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",iD).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Xw(n),p}),f=await ha._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(f.user),f}function uD(n,e,t){return hn(n.app)?Promise.reject(fr(n)):aD(Lt(n),zo.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Xw(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cD(n,e){return Ni(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KE(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Lt(n),l={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},c=await Mo(r,cD(r.auth,l));r.displayName=c.displayName||null,r.photoURL=c.photoUrl||null;const f=r.providerData.find(({providerId:p})=>p==="password");f&&(f.displayName=r.displayName,f.photoURL=r.photoURL),await r._updateTokensIfNecessary(c)}function dD(n,e,t,r){return Lt(n).onIdTokenChanged(e,t,r)}function fD(n,e,t){return Lt(n).beforeAuthStateChanged(e,t)}async function hD(n){return Lt(n).delete()}const af="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(af,"1"),this.storage.removeItem(af),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD=1e3,mD=10;class Zw extends Ww{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,f,p)=>{this.notifyListeners(c,p)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!t&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);IO()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,mD):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},pD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Zw.type="LOCAL";const gD=Zw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw extends Ww{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Jw.type="SESSION";const eS=Jw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new zf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const f=Array.from(c).map(async m=>m(t.origin,l)),p=await yD(f);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,p)=>{const m=Wg("",20);a.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(_){const E=_;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(E.data.response);break;default:clearTimeout(y),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(){return window}function _D(n){bi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(){return typeof bi().WorkerGlobalScope<"u"&&typeof bi().importScripts=="function"}async function ED(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function TD(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function bD(){return tS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS="firebaseLocalStorageDb",wD=1,of="firebaseLocalStorage",iS="fbase_key";class Uu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Bf(n,e){return n.transaction([of],e?"readwrite":"readonly").objectStore(of)}function SD(){const n=indexedDB.deleteDatabase(nS);return new Uu(n).toPromise()}function Gm(){const n=indexedDB.open(nS,wD);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(of,{keyPath:iS})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(of)?e(r):(r.close(),await SD(),e(await Gm()))})})}async function YE(n,e,t){const r=Bf(n,!0).put({[iS]:e,value:t});return new Uu(r).toPromise()}async function AD(n,e){const t=Bf(n,!1).get(e),r=await new Uu(t).toPromise();return r===void 0?null:r.value}function QE(n,e){const t=Bf(n,!0).delete(e);return new Uu(t).toPromise()}const xD=800,RD=3;class rS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>RD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zf._getInstance(bD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await ED(),!this.activeServiceWorker)return;this.sender=new vD(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||TD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gm();return await YE(e,af,"1"),await QE(e,af),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>YE(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>AD(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>QE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Bf(a,!1).getAll();return new Uu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rS.type="LOCAL";const CD=rS;new Vu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(n,e){return e?ur(e):(we(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg extends Yg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return bo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return bo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ID(n){return Qw(n.auth,new Zg(n),n.bypassAuthState)}function ND(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),sD(t,new Zg(n),n.bypassAuthState)}async function OD(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),rD(t,new Zg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,t,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ID;case"linkViaPopup":case"linkViaRedirect":return OD;case"reauthViaPopup":case"reauthViaRedirect":return ND;default:Hn(this.auth,"internal-error")}}resolve(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD=new Vu(2e3,1e4);async function MD(n,e,t){if(hn(n.app))return Promise.reject(Wn(n,"operation-not-supported-in-this-environment"));const r=br(n);uO(n,e,Xg);const a=sS(r,t);return new sa(r,"signInViaPopup",e,a).executeNotNull()}class sa extends aS{constructor(e,t,r,a,l){super(e,t,a,l),this.provider=r,this.authWindow=null,this.pollId=null,sa.currentPopupAction&&sa.currentPopupAction.cancel(),sa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){yr(this.filter.length===1,"Popup operations only handle one event");const e=Wg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Wn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,DD.get())};e()}}sa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD="pendingRedirect",Md=new Map;class kD extends aS{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Md.get(this.auth._key());if(!e){try{const r=await VD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Md.set(this.auth._key(),e)}return this.bypassAuthState||Md.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function VD(n,e){const t=UD(e),r=jD(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function LD(n,e){Md.set(n._key(),e)}function jD(n){return ur(n._redirectPersistence)}function UD(n){return Dd(PD,n.config.apiKey,n.name)}async function zD(n,e,t=!1){if(hn(n.app))return Promise.reject(fr(n));const r=br(n),a=sS(r,e),c=await new kD(r,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD=10*60*1e3;class HD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!oS(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Wn(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BD&&this.cachedEventUids.clear(),this.cachedEventUids.has(XE(e))}saveEventToCache(e){this.cachedEventUids.add(XE(e)),this.lastProcessedEventTime=Date.now()}}function XE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function oS({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function qD(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oS(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FD(n,e={}){return Ni(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$D=/^https?/;async function KD(n){if(n.config.emulator)return;const{authorizedDomains:e}=await FD(n);for(const t of e)try{if(YD(t))return}catch{}Hn(n,"unauthorized-domain")}function YD(n){const e=qm(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===r}if(!$D.test(t))return!1;if(GD.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=new Vu(3e4,6e4);function WE(){const n=bi().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function XD(n){return new Promise((e,t)=>{var r,a,l;function c(){WE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{WE(),t(Wn(n,"network-request-failed"))},timeout:QD.get()})}if(!((a=(r=bi().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=bi().gapi)===null||l===void 0)&&l.load)c();else{const f=jO("iframefcb");return bi()[f]=()=>{gapi.load?c():t(Wn(n,"network-request-failed"))},Gw(`${LO()}?onload=${f}`).catch(p=>t(p))}}).catch(e=>{throw Pd=null,e})}let Pd=null;function WD(n){return Pd=Pd||XD(n),Pd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD=new Vu(5e3,15e3),JD="__/auth/iframe",eM="emulator/auth/iframe",tM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function iM(n){const e=n.config;we(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Gg(e,eM):`https://${n.config.authDomain}/${JD}`,r={apiKey:e.apiKey,appName:n.name,v:ma},a=nM.get(n.config.apiHost);a&&(r.eid=a);const l=n._getFrameworks();return l.length&&(r.fw=l.join(",")),`${t}?${Nu(r).slice(1)}`}async function rM(n){const e=await WD(n),t=bi().gapi;return we(t,n,"internal-error"),e.open({where:document.body,url:iM(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tM,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const c=Wn(n,"network-request-failed"),f=bi().setTimeout(()=>{l(c)},ZD.get());function p(){bi().clearTimeout(f),a(r)}r.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},aM=500,oM=600,lM="_blank",uM="http://localhost";class ZE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cM(n,e,t,r=aM,a=oM){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const p=Object.assign(Object.assign({},sM),{width:r.toString(),height:a.toString(),top:l,left:c}),m=en().toLowerCase();t&&(f=jw(m)?lM:t),Vw(m)&&(e=e||uM,p.scrollbars="yes");const y=Object.entries(p).reduce((E,[S,R])=>`${E}${S}=${R},`,"");if(CO(m)&&f!=="_self")return dM(e||"",f),new ZE(null);const _=window.open(e||"",f,y);we(_,n,"popup-blocked");try{_.focus()}catch{}return new ZE(_)}function dM(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM="__/auth/handler",hM="emulator/auth/handler",pM=encodeURIComponent("fac");async function JE(n,e,t,r,a,l){we(n.config.authDomain,n,"auth-domain-config-required"),we(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ma,eventId:a};if(e instanceof Xg){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",kR(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(e instanceof ju){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const f=c;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const p=await n._getAppCheckToken(),m=p?`#${pM}=${encodeURIComponent(p)}`:"";return`${mM(n)}?${Nu(f).slice(1)}${m}`}function mM({config:n}){return n.emulator?Gg(n,hM):`https://${n.authDomain}/${fM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="webStorageSupport";class gM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eS,this._completeRedirectFn=zD,this._overrideRedirectResult=LD}async _openPopup(e,t,r,a){var l;yr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await JE(e,t,r,qm(),a);return cM(e,c,Wg())}async _openRedirect(e,t,r,a){await this._originValidation(e);const l=await JE(e,t,r,qm(),a);return _D(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(yr(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await rM(e),r=new HD(e);return t.register("authEvent",a=>(we(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(um,{type:um},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[um];c!==void 0&&t(!!c),Hn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=KD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return qw()||Lw()||Kg()}}const yM=gM;var eT="@firebase/auth",tT="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function EM(n){la(new cs("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=r.options;we(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:c,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fw(n)},m=new PO(r,a,l,p);return FO(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),la(new cs("auth-internal",e=>{const t=br(e.getProvider("auth").getImmediate());return(r=>new vM(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),_i(eT,tT,_M(n)),_i(eT,tT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM=5*60,bM=BT("authIdTokenMaxAge")||TM;let nT=null;const wM=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>bM)return;const a=t==null?void 0:t.token;nT!==a&&(nT=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function lS(n=lg()){const e=_f(n,"auth");if(e.isInitialized())return e.getImmediate();const t=qO(n,{popupRedirectResolver:yM,persistence:[CD,gD,eS]}),r=BT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=wM(l.toString());fD(t,c,()=>c(t.currentUser)),dD(t,f=>c(f))}}const a=jT("auth");return a&&GO(t,`http://${a}`),t}function SM(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}kO({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const l=Wn("internal-error");l.customData=a,t(l)},r.type="text/javascript",r.charset="UTF-8",SM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});EM("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="firebasestorage.googleapis.com",AM="storageBucket",xM=2*60*1e3,RM=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends Ii{constructor(e,t,r=0){super(cm(e),`Firebase Storage: ${t} (${cm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Oi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return cm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var xi;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(xi||(xi={}));function cm(n){return"storage/"+n}function CM(){const n="An unknown error occurred, please check the error payload for server response.";return new Oi(xi.UNKNOWN,n)}function IM(){return new Oi(xi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function NM(){return new Oi(xi.CANCELED,"User canceled the upload/download.")}function OM(n){return new Oi(xi.INVALID_URL,"Invalid URL '"+n+"'.")}function DM(n){return new Oi(xi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function iT(n){return new Oi(xi.INVALID_ARGUMENT,n)}function cS(){return new Oi(xi.APP_DELETED,"The Firebase app was deleted.")}function MM(n){return new Oi(xi.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Xn.makeFromUrl(e,t)}catch{return new Xn(e,"")}if(r.path==="")return r;throw DM(e)}static makeFromUrl(e,t){let r=null;const a="([A-Za-z0-9.\\-_]+)";function l(G){G.path.charAt(G.path.length-1)==="/"&&(G.path_=G.path_.slice(0,-1))}const c="(/(.*))?$",f=new RegExp("^gs://"+a+c,"i"),p={bucket:1,path:3};function m(G){G.path_=decodeURIComponent(G.path)}const y="v[A-Za-z0-9_]+",_=t.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",S=new RegExp(`^https?://${_}/${y}/b/${a}/o${E}`,"i"),R={bucket:1,path:3},H=t===uS?"(?:storage.googleapis.com|storage.cloud.google.com)":t,j="([^?#]*)",U=new RegExp(`^https?://${H}/${a}/${j}`,"i"),D=[{regex:f,indices:p,postModify:l},{regex:S,indices:R,postModify:m},{regex:U,indices:{bucket:1,path:2},postModify:m}];for(let G=0;G<D.length;G++){const q=D[G],ee=q.regex.exec(e);if(ee){const M=ee[q.indices.bucket];let C=ee[q.indices.path];C||(C=""),r=new Xn(M,C),q.postModify(r);break}}if(r==null)throw OM(e);return r}}class PM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(n,e,t){let r=1,a=null,l=null,c=!1,f=0;function p(){return f===2}let m=!1;function y(...j){m||(m=!0,e.apply(null,j))}function _(j){a=setTimeout(()=>{a=null,n(S,p())},j)}function E(){l&&clearTimeout(l)}function S(j,...U){if(m){E();return}if(j){E(),y.call(null,j,...U);return}if(p()||c){E(),y.call(null,j,...U);return}r<64&&(r*=2);let D;f===1?(f=2,D=0):D=(r+Math.random())*1e3,_(D)}let R=!1;function H(j){R||(R=!0,E(),!m&&(a!==null?(j||(f=2),clearTimeout(a),_(0)):j||(f=1)))}return _(0),l=setTimeout(()=>{c=!0,H(!0)},t),H}function VM(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LM(n){return n!==void 0}function rT(n,e,t,r){if(r<e)throw iT(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw iT(`Invalid value for '${n}'. Expected ${t} or less.`)}function jM(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const a=e(r)+"="+e(n[r]);t=t+a+"&"}return t=t.slice(0,-1),t}var lf;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(lf||(lf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UM(n,e){const t=n>=500&&n<600,a=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e,t,r,a,l,c,f,p,m,y,_,E=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=f,this.errorCallback_=p,this.timeout_=m,this.progressCallback_=y,this.connectionFactory_=_,this.retry=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,R)=>{this.resolve_=S,this.reject_=R,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new vd(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=f=>{const p=f.loaded,m=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,m)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const f=l.getErrorCode()===lf.NO_ERROR,p=l.getStatus();if(!f||UM(p,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===lf.ABORT;r(!1,new vd(!1,null,y));return}const m=this.successCodes_.indexOf(p)!==-1;r(!0,new vd(m,l))})},t=(r,a)=>{const l=this.resolve_,c=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const p=this.callback_(f,f.getResponse());LM(p)?l(p):l()}catch(p){c(p)}else if(f!==null){const p=CM();p.serverResponse=f.getErrorText(),this.errorCallback_?c(this.errorCallback_(f,p)):c(p)}else if(a.canceled){const p=this.appDelete_?cS():NM();c(p)}else{const p=IM();c(p)}};this.canceled_?t(!1,new vd(!1,null,!0)):this.backoffId_=kM(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&VM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class vd{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function BM(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function HM(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function qM(n,e){e&&(n["X-Firebase-GMPID"]=e)}function FM(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function GM(n,e,t,r,a,l,c=!0){const f=jM(n.urlParams),p=n.url+f,m=Object.assign({},n.headers);return qM(m,e),BM(m,t),HM(m,l),FM(m,r),new zM(p,n.method,m,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,a,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $M(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function KM(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,t){this._service=e,t instanceof Xn?this._location=t:this._location=Xn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new uf(e,t)}get root(){const e=new Xn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return KM(this._location.path)}get storage(){return this._service}get parent(){const e=$M(this._location.path);if(e===null)return null;const t=new Xn(this._location.bucket,e);return new uf(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw MM(e)}}function sT(n,e){const t=e==null?void 0:e[AM];return t==null?null:Xn.makeFromBucketSpec(t,n)}function YM(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:a}=r;a&&(n._overrideAuthToken=typeof a=="string"?a:HT(a,n.app.options.projectId))}class QM{constructor(e,t,r,a,l){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=a,this._firebaseVersion=l,this._bucket=null,this._host=uS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=xM,this._maxUploadRetryTime=RM,this._requests=new Set,a!=null?this._bucket=Xn.makeFromBucketSpec(a,this._host):this._bucket=sT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Xn.makeFromBucketSpec(this._url,e):this._bucket=sT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){rT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){rT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new uf(this,e)}_makeRequest(e,t,r,a,l=!0){if(this._deleted)return new PM(cS());{const c=GM(e,this._appId,r,a,t,this._firebaseVersion,l);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,t){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,a).getPromise()}}const aT="@firebase/storage",oT="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS="storage";function XM(n=lg(),e){n=Lt(n);const r=_f(n,dS).getImmediate({identifier:e}),a=UT("storage");return a&&WM(r,...a),r}function WM(n,e,t,r={}){YM(n,e,t,r)}function ZM(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),a=n.getProvider("app-check-internal");return new QM(t,r,a,e,ma)}function JM(){la(new cs(dS,ZM,"PUBLIC").setMultipleInstances(!0)),_i(aT,oT,""),_i(aT,oT,"esm2017")}JM();const eP={apiKey:"AIzaSyC8U_JTdVnzLZQxDXd8q95qLbEFWm1-TYg",authDomain:"mutaraf-20966.firebaseapp.com",projectId:"mutaraf-20966",storageBucket:"mutaraf-20966.appspot.com",messagingSenderId:"880258506364",appId:"1:880258506364:web:5c4ebeff39e3d919b7b3f9",measurementId:"G-DPPHFKD88Q"},Jg=GT(eP),fn=lS(Jg),dt=q2(Jg);XM(Jg);const tP=[{code:"KSA",name:"🇸🇦 السعودية"},{code:"EGY",name:"🇪🇬 مصر"},{code:"SDN",name:"🇸🇩 السودان"}];function Hf({visible:n,onClose:e}){const t=L.useRef(null),r=_r(),a=Er(),[l,c]=L.useState(null),[f,p]=L.useState(localStorage.getItem("shippingCountry")||""),m=[{title:"الرئيسية",icon:w.jsx(sg,{}),path:"/"},{title:"البحث",icon:w.jsx(pu,{}),path:"/search"},{title:"المفضلة",icon:w.jsx(Ru,{}),path:"/favs"},{title:"الحساب",icon:w.jsx(jd,{}),path:"/user"}];L.useEffect(()=>{const _=E=>{t.current&&!t.current.contains(E.target)&&e()};return n?document.addEventListener("mousedown",_):document.removeEventListener("mousedown",_),()=>{document.removeEventListener("mousedown",_)}},[n,e]),L.useEffect(()=>{(async()=>{try{const S=(await Tu(oa(dt,"products"))).docs.map(R=>({id:R.id,...R.data()}));if(S.length>0){const R=Math.floor(Math.random()*S.length);c(S[R])}}catch(E){console.error("Error fetching products:",E)}})()},[]),L.useEffect(()=>{const _=localStorage.getItem("shippingCountry");_?p(_):fetch("https://ipapi.co/json/").then(E=>E.json()).then(E=>{const S=E.country_code,H={SA:"KSA",EG:"EGY",SD:"SDN"}[S]||"KSA";p(H),localStorage.setItem("shippingCountry",H)}).catch(E=>{console.error("Geo country error:",E),p("KSA"),localStorage.setItem("shippingCountry","KSA")})},[]);const y=_=>{const E=_.target.value;p(E),localStorage.setItem("shippingCountry",E),window.location.reload()};return w.jsx("div",{ref:t,className:`fixed top-0 right-0 w-64 h-screen bg-white shadow-2xl 
      rounded-tl-2xl rounded-bl-2xl z-50 
      transition-transform duration-300 ease-in-out
      ${n?"translate-x-0":"translate-x-full"}`,dir:"rtl",style:{fontFamily:"Tajawal-light"},children:w.jsxs("div",{className:"h-full overflow-y-auto p-6",children:[w.jsxs("div",{className:"flex justify-between items-center mb-8",children:[w.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"القائمة"}),w.jsx("button",{onClick:e,className:"text-gray-500 hover:text-black",children:w.jsx(PT,{size:24})})]}),w.jsx("ul",{className:"space-y-6",children:m.map((_,E)=>{const S=r.pathname===_.path;return w.jsx("li",{children:w.jsxs(rg,{to:_.path,onClick:e,className:`flex items-center gap-3 text-lg font-medium rounded-md px-4 py-2 transition-all duration-200
                  ${S?"bg-[black]/20 text-black border-white border-b":"text-black hover:bg-[black]/20 hover:text-black"}`,children:[w.jsx("span",{className:`${S?"text-[#0e88e8]":"text-black"}`,children:_.icon}),w.jsx("span",{children:_.title})]})},E)})}),w.jsxs("div",{className:"mt-8",children:[w.jsx("label",{htmlFor:"country",className:"block mb-2 text-sm text-gray-700 font-medium",children:"اختر بلد التوصيل:"}),w.jsx("select",{id:"country",value:f,onChange:y,className:"w-full border rounded-xl px-3 py-2 text-black bg-gray-100 focus:outline-none",children:tP.map(_=>w.jsx("option",{value:_.code,children:_.name},_.code))})]}),n&&l&&w.jsx("div",{className:"bg-gradient-to-r from-[#1f1f1f] to-[#09be64] rounded-2xl shadow-lg text-white p-4 md:p-6 my-4 flex flex-col md:flex-row items-center justify-between",children:w.jsxs("div",{className:"max-w-[60%]",children:[w.jsx("h2",{className:"text-xl md:text-2xl font-semibold mb-2",children:"جرّب ستايل جديد 👟"}),w.jsx("p",{className:"text-sm md:text-base text-gray-300",children:"هل تملك الجرأة لتجربة شيء لم تختره بنفسك؟ 👀 اضغط وشاهد ما الذي ظهر لك!"}),w.jsx("button",{onClick:()=>{a(`/product-details/${l.id}`),e()},className:"mt-4 bg-[#FF9E58] hover:bg-[#e68949] text-black font-bold py-2 px-4 rounded-xl transition duration-300",children:"عرض عشوائي"})]})})]})})}const fS=L.createContext(),nP=({children:n})=>{const[e,t]=L.useState(!1),[r,a]=L.useState(!1),[l,c]=L.useState([]),[f,p]=L.useState(localStorage.getItem("guest")==="true");L.useEffect(()=>{p(localStorage.getItem("guest")==="true")},[]);const m=()=>{localStorage.setItem("guest","true"),p(!0)},y=()=>{localStorage.removeItem("guest"),p(!1),c([])},_=()=>t(!0),E=()=>t(!1),S=()=>t(q=>!q),R=()=>a(!0),H=()=>a(!1),j=()=>a(q=>!q),U=q=>{c(ee=>[...ee,q]),t(!0)},P=q=>{c(ee=>ee.filter(M=>M.id!==q))},D=(q,ee)=>{c(M=>M.map(C=>C.id===q?{...C,quantity:ee==="inc"?C.quantity+1:Math.max(1,C.quantity-1)}:C))},G=()=>{c([])};return w.jsx(fS.Provider,{value:{isCartOpen:e,openCart:_,closeCart:E,toggleCart:S,isSidebarOpen:r,openSidebar:R,closeSidebar:H,toggleSidebar:j,cartItems:l,addToCart:U,removeItem:P,updateQuantity:D,setIsCartOpen:t,isGuest:f,loginAsGuest:m,logout:y,clearCart:G},children:n})},_a=()=>L.useContext(fS);function hS({product:n}){var r;const e=Er();if(!n)return null;const t=((r=n.imageUrls)==null?void 0:r[0])||n.image||"https://via.placeholder.com/150";return w.jsxs("div",{onClick:()=>e(`/product-details/${n.id}`),className:"relative bg-white shadow-md shadow-black/20  overflow-hidden transition-transform hover:-translate-y-1 hover:shadow-xl cursor-pointer flex flex-col justify-between",dir:"rtl",children:[w.jsx("div",{className:"w-full aspect-square relative overflow-hidden",children:w.jsx("img",{src:t,alt:n.name,className:"absolute inset-0 w-full h-full object-cover"})}),w.jsxs("div",{className:"px-4 py-3 text-right",children:[w.jsx("h2",{className:"font-bold text-center text-lg mb-1 text-gray-900 line-clamp-1",children:n.name}),w.jsxs("div",{className:"text-center",children:[w.jsx("span",{className:"text-xs text-gray-500 block",children:"السعر"}),w.jsxs("div",{className:"font-bold text-base text-gray-900",children:["₪",n.price]})]})]})]})}const lT={الكل:"https://www.kindpng.com/picc/m/387-3871381_view-all-icon-for-view-all-hd-png.png",سنيكرز:"https://res.cloudinary.com/dhsjfpu3p/image/upload/v1749742574/Sneaker-shoe-line-art-logo-design-icon-Graphics-11717943-1_dksvn5.jpg",راحة:"https://res.cloudinary.com/dhsjfpu3p/image/upload/v1749742860/feathers-pen-black-icon-silhouette-logo-goose-lightweight-feather-contour-vector-illustration_90220-2763_wtqfiw.png",كلاسيك:"https://res.cloudinary.com/dhsjfpu3p/image/upload/v1749743088/men-shoes-icon-vector-set-collection-web_1223784-722_suciuk.png",اكسسوارات:"https://res.cloudinary.com/dhsjfpu3p/image/upload/v1750232354/shoelace-sneaker-shoes-tying-shoelaces-fastening-rope-stitch-concept-schemes-shoe-lace-icon-black-color-vector-illustration-146442929_ctgy78.png",سلايدز:"https://res.cloudinary.com/dhsjfpu3p/image/upload/v1749578461/slides_pctqvz.png",شرابات:"https://res.cloudinary.com/dhsjfpu3p/image/upload/v1749913448/939271_dshaqz.png"};function iP(){const[n,e]=L.useState([]),[t,r]=L.useState("الكل"),[a,l]=L.useState("default"),[c,f]=L.useState(null),[p,m]=L.useState(!0);L.useEffect(()=>{const E=localStorage.getItem("shippingCountry"),S=R=>{switch(R){case"EGY":return"Egypt";case"SA":case"SAU":return"KSA";case"SDN":return"Sudan";default:return R}};E?f(S(E)):fetch("https://ipwho.is/").then(R=>R.json()).then(R=>{const H=S(R.country_code);f(H),localStorage.setItem("shippingCountry",R.country_code)}).catch(()=>{f("KSA"),localStorage.setItem("shippingCountry","SAU")})},[]),L.useEffect(()=>{(async()=>{try{const R=(await Tu(oa(dt,"products"))).docs.map(H=>({id:H.id,...H.data()}));e(R)}catch(S){console.error("Error fetching products:",S)}finally{m(!1)}})()},[]);const _=[...n.filter(E=>{var S;return(S=E.availableInCountries)==null?void 0:S.includes(c)}).filter(E=>t==="الكل"?!0:E.category===t)].sort((E,S)=>a==="priceAsc"?E.price-S.price:a==="priceDesc"?S.price-E.price:0);return!c||p?w.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:w.jsx("p",{className:"text-gray-600 font-bold",children:"جارٍ التحميل..."})}):w.jsxs("div",{className:"w-full mt-10 px-4",dir:"rtl",children:[w.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-3 justify-items-center",children:Object.keys(lT).map(E=>w.jsxs("button",{onClick:()=>r(E),className:`w-24 h-24 flex flex-col items-center justify-center rounded-xl transition-all duration-200 ${t===E?"border-2 border-black shadow-md":"border border-gray-300"}`,children:[w.jsx("img",{src:lT[E],alt:E,className:`w-10 h-10 object-contain transition-all duration-200 ${t===E?"scale-110":"opacity-80"}`}),w.jsx("span",{className:"mt-2 font-medium",children:E}),t===E&&w.jsx("div",{className:"w-6 h-1 bg-black rounded-full mt-1"})]},E))}),w.jsx("div",{className:"mt-5 flex justify-start",dir:"rtl",style:{fontFamily:"Tajawal-bold"},children:w.jsxs("div",{className:"flex items-center gap-1",children:[w.jsx("label",{className:"text-sm font-medium text-gray-700",children:"ترتيب حسب:"}),w.jsxs("select",{className:"rounded-md px-2 py-1 text-xs border border-blue-500 bg-white text-blue-700 shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-500 font-semibold transition-all",value:a,onChange:E=>l(E.target.value),children:[w.jsx("option",{value:"default",children:"الافتراضي"}),w.jsx("option",{value:"priceAsc",children:"السعر: من الأقل للأعلى"}),w.jsx("option",{value:"priceDesc",children:"السعر: من الأعلى للأقل"})]})]})}),w.jsx("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-4 gap-4 justify-items-center",children:_.length>0?_.map(E=>w.jsx("div",{className:"w-full max-w-[220px]",children:w.jsx(hS,{product:E})},E.id)):w.jsx("div",{className:"text-center py-20 text-gray-500 text-lg font-semibold col-span-full",children:"غير متوفر حالياً 😕"})})]})}function rP(){const[n,e]=L.useState(!1),{openCart:t}=_a();return w.jsxs("div",{className:"min-h-screen pb-20",children:[w.jsxs("div",{dir:"rtl",className:"w-full px-4 py-3 flex items-center justify-between bg-white shadow-md rounded-b-xl relative z-50",children:[w.jsx("button",{className:"border-2 rounded-xl p-1",onClick:()=>e(r=>!r),children:w.jsx(yf,{className:"w-8 h-8 p-1"})}),w.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:w.jsx("h3",{className:"font-bold text-xl text-center",style:{fontFamily:"play"},children:"مترف"})}),w.jsx("button",{className:"border-2 rounded-xl p-1",onClick:t,children:w.jsx(Cu,{className:"w-8 h-8 p-1"})}),w.jsx(Hf,{visible:n,onClose:()=>e(!1)})]}),w.jsxs("div",{className:"relative bg-gray-500/20 m-4 py-3 mt-10 rounded-xl",dir:"rtl",children:[w.jsx("img",{src:hR,alt:"Shoe",className:"absolute right-[-10px] top-1/2 transform -translate-y-1/2 w-48 h-auto object-contain z-0"}),w.jsxs("div",{className:"relative z-10 mr-52 text-[#11568d]",children:[w.jsxs("h1",{className:"text-3xl font-bold",style:{fontFamily:"Tajawal-Bold"},children:["خصم ",w.jsx("b",{children:"%20"})]}),w.jsx("p",{className:"mt-1 font-light text-[16px]",style:{fontFamily:"Tajawal-Regular"},children:"على أول عملية شراء لك"}),w.jsx("button",{className:"ml-5 bg-[#0d4c89] text-[#ffffff] py-2 px-9 mt-4 text-[12px] font-bold rounded-xl",style:{fontFamily:"Tajawal-Bold"},children:"تسوق الآن"})]})]}),w.jsx(iP,{}),w.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t shadow-md flex justify-around items-center h-16 z-50",children:[w.jsx(_d,{icon:w.jsx(sg,{}),label:"Home"}),w.jsx(_d,{icon:w.jsx(pu,{}),label:"Search"}),w.jsx(_d,{icon:w.jsx(Ru,{}),label:"Favs"}),w.jsx(_d,{icon:w.jsx(uR,{}),label:"Cart",onClick:t})]})]})}function _d({icon:n,label:e,onClick:t}){return w.jsxs("div",{className:"flex flex-col items-center text-gray-600 hover:text-black cursor-pointer",onClick:t,children:[w.jsx("div",{className:"text-xl",children:n}),w.jsx("span",{className:"text-sm",children:e})]})}function sP(){const[n,e]=L.useState(!1),[t,r]=L.useState(""),[a,l]=L.useState([]),[c,f]=L.useState([]),[p,m]=L.useState(!1),[y,_]=L.useState(""),[E,S]=L.useState(""),[R,H]=L.useState(""),[j,U]=L.useState(""),[P,D]=L.useState(null),G=Er(),[q,ee]=L.useState(!1),{openCart:M}=_a(),C=["black","white","red","blue","green","yellow","purple","orange","gray","brown","pink","beige","navy"],I=["36","37","38","39","40","41","42","43","44","45"],O=["TestaToro","Nike","Adidas","Puma"];L.useEffect(()=>{const A=localStorage.getItem("shippingCountry"),de=fe=>{switch(fe){case"EGY":return"Egypt";case"SA":case"SAU":return"KSA";case"SDN":return"Sudan";default:return fe}};if(A){const fe=de(A);D(fe),console.log("🎯 الدولة من localStorage:",fe)}else fetch("https://ipwho.is/").then(fe=>fe.json()).then(fe=>{const $=fe.country_code,W=de($);D(W),localStorage.setItem("shippingCountry",$),console.log("🌐 الدولة من IP:",W)}).catch(fe=>{console.error("❌ خطأ في جلب الدولة:",fe),D("KSA"),localStorage.setItem("shippingCountry","SAU")})},[]),L.useEffect(()=>{(async()=>{m(!0);try{const fe=(await Tu(oa(dt,"products"))).docs.map($=>({id:$.id,...$.data()}));l(fe)}catch(de){console.error("Error fetching products:",de)}finally{m(!1)}})()},[]),L.useEffect(()=>{if(!P)return;let A=[...a];A=A.filter(de=>{var fe;return(fe=de.availableInCountries)==null?void 0:fe.includes(P)}),y==="color"&&E&&(A=A.filter(de=>{var fe;return(fe=de.colors)==null?void 0:fe.map($=>$.toLowerCase()).includes(E.toLowerCase())})),y==="size"&&R&&(A=A.filter(de=>{var fe;return(fe=de.sizes)==null?void 0:fe.includes(R)})),y==="category"&&j&&(A=A.filter(de=>{var fe;return((fe=de.category)==null?void 0:fe.toLowerCase())===j.toLowerCase()})),f(A),(y||E||R||j)&&ee(!0)},[y,E,R,j,a,P]);const k=()=>{const A=a.filter(de=>{var fe;return((fe=de.availableInCountries)==null?void 0:fe.includes(P))&&de.name.toLowerCase().includes(t.toLowerCase())});f(A),ee(!0)},V=A=>{G(`/product-details/${A}`)};return w.jsxs("div",{children:[w.jsxs("div",{dir:"rtl",className:"flex items-center w-full px-4 py-2 bg-white shadow-md",children:[w.jsx("button",{className:"border-2 rounded-xl p-1 ml-2",children:w.jsx(yf,{className:"w-8 h-8 p-1",onClick:()=>e(A=>!A)})}),w.jsx("div",{className:"flex-1 flex justify-center",children:w.jsx(pu,{className:"w-6 h-6 text-gray-600"})}),w.jsx("button",{className:"border-2 rounded-xl p-1 m-2 mr-auto",onClick:M,children:w.jsx(Cu,{className:"w-8 h-8 p-1"})}),w.jsx(Hf,{visible:n,onClose:()=>e(!1)})]}),w.jsx("div",{className:"px-4 py-3",children:w.jsxs("form",{className:"flex gap-2",onSubmit:A=>{A.preventDefault(),k()},children:[w.jsx("input",{type:"text",placeholder:"ابحث عن منتج...",value:t,onChange:A=>r(A.target.value),className:"w-full border px-4 py-2 rounded-xl focus:outline-none focus:ring-2 focus:ring-black"}),w.jsxs("button",{onClick:k,type:"submit",className:"bg-black text-white px-4 py-2 rounded-xl flex items-center gap-1 hover:bg-gray-800",children:[w.jsx(pu,{className:"w-4 h-4"})," بحث"]})]})}),w.jsxs("div",{className:"px-4 py-2 flex flex-wrap gap-1 justify-between",style:{fontFamily:"Tajawal-Regular"},children:[w.jsxs("div",{className:"w-[48%]",children:[w.jsx("label",{className:"block text-right font-semibold mb-1",children:"فرز حسب:"}),w.jsxs("select",{value:y,onChange:A=>_(A.target.value),className:"bg-[black]/10 text-black rounded-md px-3 py-1 w-full",children:[w.jsx("option",{value:"",children:"اختر"}),w.jsx("option",{value:"color",children:"اللون"}),w.jsx("option",{value:"size",children:"المقاس"}),w.jsx("option",{value:"category",children:"الفئة"})]})]}),y==="color"&&w.jsxs("div",{className:"w-[48%]",children:[w.jsx("label",{className:"block text-right font-semibold mb-1",children:"اختر اللون:"}),w.jsxs("select",{value:E,onChange:A=>S(A.target.value),className:"bg-[black]/10 text-black rounded-md px-3 py-1 w-full",children:[w.jsx("option",{value:"",children:"اختر لون"}),C.map(A=>w.jsx("option",{value:A,children:A},A))]})]}),y==="size"&&w.jsxs("div",{className:"w-[48%]",children:[w.jsx("label",{className:"block text-right font-semibold mb-1",children:"اختر المقاس:"}),w.jsxs("select",{value:R,onChange:A=>H(A.target.value),className:"bg-[black]/10 text-black rounded-md px-3 py-1 w-full",children:[w.jsx("option",{value:"",children:"اختر مقاس"}),I.map(A=>w.jsx("option",{value:A,children:A},A))]})]}),y==="category"&&w.jsxs("div",{className:"w-[48%]",children:[w.jsx("label",{className:"block text-right font-semibold mb-1",children:"اختر الفئة:"}),w.jsxs("select",{value:j,onChange:A=>U(A.target.value),className:"bg-[black]/10 text-black rounded-md px-3 py-1 w-full",children:[w.jsx("option",{value:"",children:"اختر فئة"}),O.map(A=>w.jsx("option",{value:A,children:A},A))]})]})]}),p?w.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:w.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-4 border-black"})}):q?c.length>0?w.jsx("div",{className:"px-4 grid grid-cols-2 md:grid-cols-4 gap-4",dir:"rtl",children:c.map(A=>{var de;return w.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",onClick:()=>V(A.id),children:[w.jsx("img",{src:((de=A.imageUrls)==null?void 0:de[0])||"",alt:A.name,className:"w-full h-40 object-contain bg-gray-100"}),w.jsxs("div",{className:"p-3 text-right",children:[w.jsx("h2",{className:"font-bold text-md truncate",children:A.name}),w.jsxs("p",{className:"text-gray-700 text-sm font-semibold mt-1",children:["₪",A.price]})]})]},A.id)})}):w.jsx("div",{className:"col-span-full text-center py-20 text-gray-500 text-lg font-semibold",children:"لا توجد نتائج مطابقة 😕"}):null]})}const aP="/Mutaraf/assets/default-avatar-XSbWMXln.png";let oP={data:""},lP=n=>typeof window=="object"?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||oP,uP=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,cP=/\/\*[^]*?\*\/|  +/g,uT=/\n+/g,ns=(n,e)=>{let t="",r="",a="";for(let l in n){let c=n[l];l[0]=="@"?l[1]=="i"?t=l+" "+c+";":r+=l[1]=="f"?ns(c,l):l+"{"+ns(c,l[1]=="k"?"":e)+"}":typeof c=="object"?r+=ns(c,e?e.replace(/([^,])+/g,f=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,f):f?f+" "+p:p)):l):c!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=ns.p?ns.p(l,c):l+":"+c+";")}return t+(e&&a?e+"{"+a+"}":a)+r},rr={},pS=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+pS(n[t]);return e}return n},dP=(n,e,t,r,a)=>{let l=pS(n),c=rr[l]||(rr[l]=(p=>{let m=0,y=11;for(;m<p.length;)y=101*y+p.charCodeAt(m++)>>>0;return"go"+y})(l));if(!rr[c]){let p=l!==n?n:(m=>{let y,_,E=[{}];for(;y=uP.exec(m.replace(cP,""));)y[4]?E.shift():y[3]?(_=y[3].replace(uT," ").trim(),E.unshift(E[0][_]=E[0][_]||{})):E[0][y[1]]=y[2].replace(uT," ").trim();return E[0]})(n);rr[c]=ns(a?{["@keyframes "+c]:p}:p,t?"":"."+c)}let f=t&&rr.g?rr.g:null;return t&&(rr.g=rr[c]),((p,m,y,_)=>{_?m.data=m.data.replace(_,p):m.data.indexOf(p)===-1&&(m.data=y?p+m.data:m.data+p)})(rr[c],e,r,f),c},fP=(n,e,t)=>n.reduce((r,a,l)=>{let c=e[l];if(c&&c.call){let f=c(t),p=f&&f.props&&f.props.className||/^go/.test(f)&&f;c=p?"."+p:f&&typeof f=="object"?f.props?"":ns(f,""):f===!1?"":f}return r+a+(c??"")},"");function qf(n){let e=this||{},t=n.call?n(e.p):n;return dP(t.unshift?t.raw?fP(t,[].slice.call(arguments,1),e.p):t.reduce((r,a)=>Object.assign(r,a&&a.call?a(e.p):a),{}):t,lP(e.target),e.g,e.o,e.k)}let mS,$m,Km;qf.bind({g:1});let vr=qf.bind({k:1});function hP(n,e,t,r){ns.p=e,mS=n,$m=t,Km=r}function _s(n,e){let t=this||{};return function(){let r=arguments;function a(l,c){let f=Object.assign({},l),p=f.className||a.className;t.p=Object.assign({theme:$m&&$m()},f),t.o=/ *go\d+/.test(p),f.className=qf.apply(t,r)+(p?" "+p:"");let m=n;return n[0]&&(m=f.as||n,delete f.as),Km&&m[0]&&Km(f),mS(m,f)}return a}}var pP=n=>typeof n=="function",cf=(n,e)=>pP(n)?n(e):n,mP=(()=>{let n=0;return()=>(++n).toString()})(),gS=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),gP=20,yS=(n,e)=>{switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,gP)};case 1:return{...n,toasts:n.toasts.map(l=>l.id===e.toast.id?{...l,...e.toast}:l)};case 2:let{toast:t}=e;return yS(n,{type:n.toasts.find(l=>l.id===t.id)?1:0,toast:t});case 3:let{toastId:r}=e;return{...n,toasts:n.toasts.map(l=>l.id===r||r===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(l=>l.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let a=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+a}))}}},kd=[],aa={toasts:[],pausedAt:void 0},Ea=n=>{aa=yS(aa,n),kd.forEach(e=>{e(aa)})},yP={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},vP=(n={})=>{let[e,t]=L.useState(aa),r=L.useRef(aa);L.useEffect(()=>(r.current!==aa&&t(aa),kd.push(t),()=>{let l=kd.indexOf(t);l>-1&&kd.splice(l,1)}),[]);let a=e.toasts.map(l=>{var c,f,p;return{...n,...n[l.type],...l,removeDelay:l.removeDelay||((c=n[l.type])==null?void 0:c.removeDelay)||(n==null?void 0:n.removeDelay),duration:l.duration||((f=n[l.type])==null?void 0:f.duration)||(n==null?void 0:n.duration)||yP[l.type],style:{...n.style,...(p=n[l.type])==null?void 0:p.style,...l.style}}});return{...e,toasts:a}},_P=(n,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...t,id:(t==null?void 0:t.id)||mP()}),zu=n=>(e,t)=>{let r=_P(e,n,t);return Ea({type:2,toast:r}),r.id},an=(n,e)=>zu("blank")(n,e);an.error=zu("error");an.success=zu("success");an.loading=zu("loading");an.custom=zu("custom");an.dismiss=n=>{Ea({type:3,toastId:n})};an.remove=n=>Ea({type:4,toastId:n});an.promise=(n,e,t)=>{let r=an.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof n=="function"&&(n=n()),n.then(a=>{let l=e.success?cf(e.success,a):void 0;return l?an.success(l,{id:r,...t,...t==null?void 0:t.success}):an.dismiss(r),a}).catch(a=>{let l=e.error?cf(e.error,a):void 0;l?an.error(l,{id:r,...t,...t==null?void 0:t.error}):an.dismiss(r)}),n};var EP=(n,e)=>{Ea({type:1,toast:{id:n,height:e}})},TP=()=>{Ea({type:5,time:Date.now()})},du=new Map,bP=1e3,wP=(n,e=bP)=>{if(du.has(n))return;let t=setTimeout(()=>{du.delete(n),Ea({type:4,toastId:n})},e);du.set(n,t)},SP=n=>{let{toasts:e,pausedAt:t}=vP(n);L.useEffect(()=>{if(t)return;let l=Date.now(),c=e.map(f=>{if(f.duration===1/0)return;let p=(f.duration||0)+f.pauseDuration-(l-f.createdAt);if(p<0){f.visible&&an.dismiss(f.id);return}return setTimeout(()=>an.dismiss(f.id),p)});return()=>{c.forEach(f=>f&&clearTimeout(f))}},[e,t]);let r=L.useCallback(()=>{t&&Ea({type:6,time:Date.now()})},[t]),a=L.useCallback((l,c)=>{let{reverseOrder:f=!1,gutter:p=8,defaultPosition:m}=c||{},y=e.filter(S=>(S.position||m)===(l.position||m)&&S.height),_=y.findIndex(S=>S.id===l.id),E=y.filter((S,R)=>R<_&&S.visible).length;return y.filter(S=>S.visible).slice(...f?[E+1]:[0,E]).reduce((S,R)=>S+(R.height||0)+p,0)},[e]);return L.useEffect(()=>{e.forEach(l=>{if(l.dismissed)wP(l.id,l.removeDelay);else{let c=du.get(l.id);c&&(clearTimeout(c),du.delete(l.id))}})},[e]),{toasts:e,handlers:{updateHeight:EP,startPause:TP,endPause:r,calculateOffset:a}}},AP=vr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,xP=vr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,RP=vr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,CP=_s("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${AP} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${xP} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${RP} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,IP=vr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,NP=_s("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${IP} 1s linear infinite;
`,OP=vr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,DP=vr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,MP=_s("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${OP} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${DP} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,PP=_s("div")`
  position: absolute;
`,kP=_s("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,VP=vr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,LP=_s("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${VP} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,jP=({toast:n})=>{let{icon:e,type:t,iconTheme:r}=n;return e!==void 0?typeof e=="string"?L.createElement(LP,null,e):e:t==="blank"?null:L.createElement(kP,null,L.createElement(NP,{...r}),t!=="loading"&&L.createElement(PP,null,t==="error"?L.createElement(CP,{...r}):L.createElement(MP,{...r})))},UP=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,zP=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,BP="0%{opacity:0;} 100%{opacity:1;}",HP="0%{opacity:1;} 100%{opacity:0;}",qP=_s("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,FP=_s("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,GP=(n,e)=>{let t=n.includes("top")?1:-1,[r,a]=gS()?[BP,HP]:[UP(t),zP(t)];return{animation:e?`${vr(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${vr(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},$P=L.memo(({toast:n,position:e,style:t,children:r})=>{let a=n.height?GP(n.position||e||"top-center",n.visible):{opacity:0},l=L.createElement(jP,{toast:n}),c=L.createElement(FP,{...n.ariaProps},cf(n.message,n));return L.createElement(qP,{className:n.className,style:{...a,...t,...n.style}},typeof r=="function"?r({icon:l,message:c}):L.createElement(L.Fragment,null,l,c))});hP(L.createElement);var KP=({id:n,className:e,style:t,onHeightUpdate:r,children:a})=>{let l=L.useCallback(c=>{if(c){let f=()=>{let p=c.getBoundingClientRect().height;r(n,p)};f(),new MutationObserver(f).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[n,r]);return L.createElement("div",{ref:l,className:e,style:t},a)},YP=(n,e)=>{let t=n.includes("top"),r=t?{top:0}:{bottom:0},a=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:gS()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...r,...a}},QP=qf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ed=16,XP=({reverseOrder:n,position:e="top-center",toastOptions:t,gutter:r,children:a,containerStyle:l,containerClassName:c})=>{let{toasts:f,handlers:p}=SP(t);return L.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Ed,left:Ed,right:Ed,bottom:Ed,pointerEvents:"none",...l},className:c,onMouseEnter:p.startPause,onMouseLeave:p.endPause},f.map(m=>{let y=m.position||e,_=p.calculateOffset(m,{reverseOrder:n,gutter:r,defaultPosition:e}),E=YP(y,_);return L.createElement(KP,{id:m.id,key:m.id,onHeightUpdate:p.updateHeight,className:m.visible?QP:"",style:E},m.type==="custom"?cf(m.message,m):a?a(m):L.createElement($P,{toast:m,position:y}))}))},Zt=an;function vS({onClose:n}){const[e,t]=L.useState([]),[r,a]=L.useState(!1),[l,c]=L.useState(!1);L.useEffect(()=>{(async()=>{const y=fn.currentUser;if(y)try{const E=(await da(Jt(dt,"users",y.uid))).data();t((E==null?void 0:E.addresses)||[])}finally{a(!1)}})()},[]);const f=async()=>{const m=fn.currentUser;m&&(c(!0),navigator.geolocation.getCurrentPosition(async y=>{var _,E;try{const S=y.coords.latitude,R=y.coords.longitude,H=y.coords.accuracy;console.log("🎯 دقة الموقع:",H,"متر"),H>50&&Zt.error("الموقع غير دقيق. يُفضّل تشغيل الموقع على جهازك لتحديد الموقع بشكل أفضل");const U=await(await fetch(`https://api.opencagedata.com/geocode/v1/json?q=${S}+${R}&key=232fa39ee6f14935bf3bb17685ea34a4&language=ar`)).json(),P=((E=(_=U==null?void 0:U.results)==null?void 0:_[0])==null?void 0:E.formatted)||`موقعي الحالي (${S.toFixed(5)}, ${R.toFixed(5)})`,D=`https://www.google.com/maps?q=${S},${R}`,G={label:P,link:D,lat:S,lng:R,accuracy:H},q=[...e,G];await Jd(Jt(dt,"users",m.uid),{addresses:q}),t(q)}catch(S){console.error("خطأ أثناء حفظ العنوان:",S),alert("حدث خطأ أثناء حفظ العنوان.")}finally{c(!1)}},y=>{console.error("فشل تحديد الموقع:",y),alert("❌ فشل في الحصول على الموقع. تأكد من منح الإذن أو استخدام جهاز مزود بـ GPS."),c(!1)},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0}))},p=async m=>{const y=fn.currentUser,_=e.filter((E,S)=>S!==m);await Jd(Jt(dt,"users",y.uid),{addresses:_}),t(_)};return w.jsx("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-center justify-center",children:w.jsxs("div",{className:"bg-white w-full max-w-md p-6 rounded-lg shadow-lg text-right relative",children:[w.jsx("button",{onClick:n,className:"absolute top-2 left-2 text-gray-500 hover:text-red-500",children:"✕"}),w.jsx("h2",{className:"text-xl font-bold mb-4",children:"عناوين التوصيل"}),w.jsxs("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:[e.length===0&&w.jsx("p",{className:"text-sm text-gray-500",children:"لا توجد عناوين بعد."}),e.map((m,y)=>w.jsxs("div",{className:"flex items-center justify-between border p-2 rounded",children:[w.jsx("a",{href:m.link,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-medium text-blue-600 underline",children:m.label||"رابط الموقع"}),w.jsx("button",{onClick:()=>p(y),className:"text-red-600 text-sm hover:underline",children:"حذف"})]},y))]}),w.jsx("div",{className:"mt-4",children:w.jsx("button",{onClick:f,disabled:l||r,className:"bg-blue-600 text-white px-4 py-2 rounded w-full",children:l?"جارٍ الإضافة...":"إضافة موقعي الحالي"})})]})})}function WP(){const[n,e]=L.useState(null),[t,r]=L.useState(!1),[a,l]=L.useState(""),[c,f]=L.useState(""),[p,m]=L.useState(""),[y,_]=L.useState(""),[E,S]=L.useState(""),[R,H]=L.useState(!1),[j,U]=L.useState(!1),[P,D]=L.useState(!1),[G,q]=L.useState(!1),ee=Er(),{openCart:M}=_a(),[C,I]=L.useState(""),[O,k]=L.useState(!1),[V,A]=L.useState(!1);L.useEffect(()=>{const te=fn.onAuthStateChanged(async se=>{if(e(se),se){const ue=await da(Jt(dt,"users",se.uid));if(ue.exists()){const ye=ue.data();_(ye.phoneNumber||""),I(ye.role||"")}}});return()=>te()},[]);const de=/^[0-9]{9,12}$/.test(y),fe=async te=>{if(te.preventDefault(),!de)return S("❌ رقم الهاتف غير صحيح");try{const se=await lD(fn,a,c);await KE(se.user,{displayName:p}),await om(Jt(dt,"users",se.user.uid),{uid:se.user.uid,displayName:p,email:a,phoneNumber:y,hasWhatsApp:G}),S("✅ تم إنشاء الحساب! يمكنك تسجيل الدخول الآن.")}catch(se){se.code==="auth/email-already-in-use"?S("❌ البريد الالكتروني مستخدم بالفعل"):S(`❌ ${se.message}`)}},$=async te=>{te.preventDefault(),S("");try{const se=await uD(fn,a,c);S(`✅ مرحباً ${se.user.displayName||"المستخدم"}`)}catch(se){se.code==="auth/wrong-password"||se.code==="auth/user-not-found"?S("❌ معلومات تسجيل الدخول غير صحيحة"):S(`❌ ${se.message}`)}},W=async()=>{if(!a)return S("يرجى إدخال البريد الإلكتروني");try{await oD(fn,a),S("📧 تم إرسال رابط إعادة تعيين كلمة المرور")}catch(te){S(`❌ ${te.message}`)}},ce=async()=>{try{const te=new or,se=await MD(fn,te);!se.user.displayName&&p&&await KE(se.user,{displayName:p});const ue=se.user.phoneNumber||"";ue||Zt.error("يرجى إضافة رقم الهاتف لإتمام الطلبات"),await om(Jt(dt,"users",se.user.uid),{uid:se.user.uid,displayName:se.user.displayName||p,email:se.user.email,phoneNumber:ue}),S(`✅ مرحباً ${se.user.displayName||p}`)}catch(te){S(`❌ ${te.message}`)}},pe=async()=>{if(!de)return alert("رقم الهاتف غير صالح.");try{D(!0),await om(Jt(dt,"users",n.uid),{phoneNumber:y},{merge:!0}),alert("تم حفظ رقم الهاتف بنجاح.")}finally{D(!1)}},z=async()=>{if(window.confirm("هل أنت متأكد من حذف الحساب؟"))try{await Hm(Jt(dt,"users",n.uid)),await hD(fn.currentUser),alert("✅ تم حذف الحساب.")}catch(te){alert("❌ حدث خطأ أثناء حذف الحساب."),console.log(te)}};return n?w.jsxs("div",{className:"p-4 space-y-4 max-w-md mx-auto text-right",style:{fontFamily:"Tajawal-Bold"},children:[w.jsxs("div",{dir:"rtl",className:"flex items-center w-full px-4 py-2 bg-white shadow-md",children:[w.jsx("button",{className:"border-2 rounded-xl p-1 ml-2",children:w.jsx(yf,{className:"w-8 h-8 p-1",onClick:()=>k(te=>!te)})}),w.jsx("div",{className:"flex-1 flex justify-center",children:w.jsx(jd,{className:"w-6 h-6 text-gray-600"})}),w.jsx("button",{className:"border-2 rounded-xl p-1 m-2 mr-auto",onClick:M,children:w.jsx(Cu,{className:"w-8 h-8 p-1"})}),w.jsx(Hf,{visible:O,onClose:()=>k(!1)})]}),V&&w.jsx(vS,{onClose:()=>A(!1)}),w.jsxs("div",{className:"bg-white shadow rounded-xl p-4 flex justify-between items-center",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-gray-500 text-sm",children:"مرحباً"}),w.jsx("p",{className:"font-bold",children:n.displayName})]}),w.jsx("img",{src:aP,className:"w-16 h-16 rounded-full"})]}),w.jsxs("div",{className:"relative",children:[w.jsxs("button",{onClick:()=>H(!R),className:"w-full flex items-center justify-between gap-2 bg-white text-black border px-4 py-3 rounded-lg shadow",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(jd,{size:20,className:"text-blue-500"}),w.jsx("span",{className:"font-semibold",children:"معلومات الحساب"})]}),w.jsx("svg",{className:`w-4 h-4 transform transition-transform duration-300 ${R?"rotate-180":"rotate-0"}`,fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:w.jsx("path",{d:"M19 9l-7 7-7-7"})})]}),R&&w.jsxs("div",{className:"mt-2 bg-white border rounded-lg shadow p-4 space-y-3 animate-slide-down",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-gray-500",children:"الاسم:"}),w.jsx("p",{children:n.displayName})]}),w.jsxs("div",{children:[w.jsx("p",{className:"text-gray-500",children:"البريد:"}),w.jsx("p",{children:n.email})]}),w.jsxs("div",{children:[w.jsx("p",{className:"text-gray-500",children:"رقم الهاتف:"}),j?w.jsxs(w.Fragment,{children:[w.jsx("input",{className:"border rounded p-2 w-full",value:y,onChange:te=>_(te.target.value)}),w.jsx("button",{onClick:pe,disabled:P,className:"bg-blue-600 text-white w-full py-2 mt-2 rounded",children:P?"جاري الحفظ...":"حفظ الرقم"})]}):w.jsx("p",{children:y||w.jsx("button",{className:"text-blue-600 underline",onClick:()=>U(!0),children:"أضف رقم الهاتف"})})]})]})]}),w.jsxs("div",{className:"space-y-2",children:[C==="admin"&&w.jsx("button",{onClick:()=>ee("/admin-dashboard"),className:"w-full flex items-center justify-between gap-2 bg-white text-black border px-4 py-3 rounded-lg shadow",children:w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(Wx,{size:20,className:"text-blue-500"}),w.jsx("span",{className:"font-semibold",children:"لوحة التحكم"})]})}),w.jsx("button",{onClick:()=>A(!0),className:"w-full flex items-center justify-between gap-2 bg-white text-black border px-4 py-3 rounded-lg shadow",children:w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(sR,{size:20,className:"text-blue-500"}),w.jsx("span",{className:"font-semibold",children:"عناويني"})]})}),w.jsx("button",{onClick:()=>{ee("/favs")},className:"w-full flex items-center justify-between gap-2 bg-white text-black border px-4 py-3 rounded-lg shadow",children:w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(Ru,{size:20,className:"text-blue-500"}),w.jsx("span",{className:"font-semibold",children:"مفضلاتي "})]})}),w.jsx("button",{onClick:()=>fn.signOut(),className:"w-full flex items-center justify-between gap-2 bg-white text-black border px-4 py-3 rounded-lg shadow",children:w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(iR,{size:20,className:"text-blue-500"}),w.jsx("span",{className:"font-semibold",children:"تسجيل الخروج"})]})}),w.jsx("button",{onClick:z,className:"w-full flex items-center justify-between gap-2 bg-white text-black border px-4 py-3 rounded-lg shadow",children:w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(So,{size:20,className:"text-blue-500"}),w.jsx("span",{className:"font-semibold",children:"حذف الحساب"})]})})]})]}):w.jsxs("div",{className:"p-4 space-y-4 max-w-md mx-auto text-right",children:[w.jsx("h2",{className:"text-2xl font-bold",children:t?"إنشاء حساب":"تسجيل الدخول"}),w.jsxs("form",{onSubmit:t?fe:$,className:"space-y-2",children:[t&&w.jsx("input",{type:"text",placeholder:"اسم المستخدم",value:p,onChange:te=>m(te.target.value),className:"border p-2 w-full rounded",required:!0}),w.jsx("input",{type:"email",placeholder:"البريد الإلكتروني",value:a,onChange:te=>l(te.target.value),className:"border p-2 w-full rounded",required:!0}),t&&w.jsx("input",{type:"text",placeholder:"رقم الهاتف",value:y,onChange:te=>_(te.target.value),className:"border p-2 w-full rounded",required:!0}),t&&w.jsxs("label",{className:"flex items-center gap-2",children:[w.jsx("input",{type:"checkbox",checked:G,onChange:te=>q(te.target.checked),className:"accent-green-500"}),"رقم الهاتف يحتوي على واتساب؟"]}),w.jsx("input",{type:"password",placeholder:"كلمة المرور",value:c,onChange:te=>f(te.target.value),className:"border p-2 w-full rounded",required:!0}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx("button",{type:"submit",className:"bg-black text-white px-4 py-2 rounded w-full",children:t?"تسجيل حساب":"دخول"}),w.jsx("button",{type:"button",onClick:()=>r(!t),className:"border px-4 py-2 rounded w-full",children:t?"الرجوع":"إنشاء حساب"})]}),!t&&w.jsx("button",{type:"button",onClick:W,className:"text-blue-600",children:"نسيت كلمة المرور؟"})]}),w.jsx("button",{onClick:()=>{localStorage.setItem("guest","true"),ee("/")},className:"bg-gray-500 text-white px-4 py-2 rounded w-full",children:"المتابعة كزائر"}),w.jsx("button",{onClick:ce,className:"bg-blue-500 text-white px-4 py-2 rounded w-full",children:t?"التسجيل باستخدام Google":"الدخول باستخدام Google"}),E&&w.jsx("p",{className:"text-center text-red-500",children:E})]})}function cT(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function ey(n,e){n===void 0&&(n={}),e===void 0&&(e={});const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:cT(e[r])&&cT(n[r])&&Object.keys(e[r]).length>0&&ey(n[r],e[r])})}const _S={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Ta(){const n=typeof document<"u"?document:{};return ey(n,_S),n}const ZP={document:_S,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function on(){const n=typeof window<"u"?window:{};return ey(n,ZP),n}function JP(n){return n===void 0&&(n=""),n.trim().split(" ").filter(e=>!!e.trim())}function ek(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function Ym(n,e){return e===void 0&&(e=0),setTimeout(n,e)}function df(){return Date.now()}function tk(n){const e=on();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function nk(n,e){e===void 0&&(e="x");const t=on();let r,a,l;const c=tk(n);return t.WebKitCSSMatrix?(a=c.transform||c.webkitTransform,a.split(",").length>6&&(a=a.split(", ").map(f=>f.replace(",",".")).join(", ")),l=new t.WebKitCSSMatrix(a==="none"?"":a)):(l=c.MozTransform||c.OTransform||c.MsTransform||c.msTransform||c.transform||c.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=l.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?a=l.m41:r.length===16?a=parseFloat(r[12]):a=parseFloat(r[4])),e==="y"&&(t.WebKitCSSMatrix?a=l.m42:r.length===16?a=parseFloat(r[13]):a=parseFloat(r[5])),a||0}function Td(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function ik(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function xn(){const n=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const r=t<0||arguments.length<=t?void 0:arguments[t];if(r!=null&&!ik(r)){const a=Object.keys(Object(r)).filter(l=>e.indexOf(l)<0);for(let l=0,c=a.length;l<c;l+=1){const f=a[l],p=Object.getOwnPropertyDescriptor(r,f);p!==void 0&&p.enumerable&&(Td(n[f])&&Td(r[f])?r[f].__swiper__?n[f]=r[f]:xn(n[f],r[f]):!Td(n[f])&&Td(r[f])?(n[f]={},r[f].__swiper__?n[f]=r[f]:xn(n[f],r[f])):n[f]=r[f])}}}return n}function bd(n,e,t){n.style.setProperty(e,t)}function ES(n){let{swiper:e,targetPosition:t,side:r}=n;const a=on(),l=-e.translate;let c=null,f;const p=e.params.speed;e.wrapperEl.style.scrollSnapType="none",a.cancelAnimationFrame(e.cssModeFrameID);const m=t>l?"next":"prev",y=(E,S)=>m==="next"&&E>=S||m==="prev"&&E<=S,_=()=>{f=new Date().getTime(),c===null&&(c=f);const E=Math.max(Math.min((f-c)/p,1),0),S=.5-Math.cos(E*Math.PI)/2;let R=l+S*(t-l);if(y(R,t)&&(R=t),e.wrapperEl.scrollTo({[r]:R}),y(R,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:R})}),a.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=a.requestAnimationFrame(_)};_()}function ty(n){return n.querySelector(".swiper-slide-transform")||n.shadowRoot&&n.shadowRoot.querySelector(".swiper-slide-transform")||n}function vi(n,e){e===void 0&&(e="");const t=on(),r=[...n.children];return t.HTMLSlotElement&&n instanceof HTMLSlotElement&&r.push(...n.assignedElements()),e?r.filter(a=>a.matches(e)):r}function rk(n,e){const t=[e];for(;t.length>0;){const r=t.shift();if(n===r)return!0;t.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function sk(n,e){const t=on();let r=e.contains(n);return!r&&t.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(n),r||(r=rk(n,e))),r}function ff(n){try{console.warn(n);return}catch{}}function wu(n,e){e===void 0&&(e=[]);const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:JP(e)),t}function ak(n,e){const t=[];for(;n.previousElementSibling;){const r=n.previousElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function ok(n,e){const t=[];for(;n.nextElementSibling;){const r=n.nextElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function rs(n,e){return on().getComputedStyle(n,null).getPropertyValue(e)}function hf(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function TS(n,e){const t=[];let r=n.parentElement;for(;r;)e?r.matches(e)&&t.push(r):t.push(r),r=r.parentElement;return t}function lk(n,e){function t(r){r.target===n&&(e.call(n,r),n.removeEventListener("transitionend",t))}e&&n.addEventListener("transitionend",t)}function Qm(n,e,t){const r=on();return n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function sr(n){return(Array.isArray(n)?n:[n]).filter(e=>!!e)}let dm;function uk(){const n=on(),e=Ta();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function bS(){return dm||(dm=uk()),dm}let fm;function ck(n){let{userAgent:e}=n===void 0?{}:n;const t=bS(),r=on(),a=r.navigator.platform,l=e||r.navigator.userAgent,c={ios:!1,android:!1},f=r.screen.width,p=r.screen.height,m=l.match(/(Android);?[\s\/]+([\d.]+)?/);let y=l.match(/(iPad).*OS\s([\d_]+)/);const _=l.match(/(iPod)(.*OS\s([\d_]+))?/),E=!y&&l.match(/(iPhone\sOS|iOS)\s([\d_]+)/),S=a==="Win32";let R=a==="MacIntel";const H=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!y&&R&&t.touch&&H.indexOf(`${f}x${p}`)>=0&&(y=l.match(/(Version)\/([\d.]+)/),y||(y=[0,1,"13_0_0"]),R=!1),m&&!S&&(c.os="android",c.android=!0),(y||E||_)&&(c.os="ios",c.ios=!0),c}function wS(n){return n===void 0&&(n={}),fm||(fm=ck(n)),fm}let hm;function dk(){const n=on(),e=wS();let t=!1;function r(){const f=n.navigator.userAgent.toLowerCase();return f.indexOf("safari")>=0&&f.indexOf("chrome")<0&&f.indexOf("android")<0}if(r()){const f=String(n.navigator.userAgent);if(f.includes("Version/")){const[p,m]=f.split("Version/")[1].split(" ")[0].split(".").map(y=>Number(y));t=p<16||p===16&&m<2}}const a=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),l=r(),c=l||a&&e.ios;return{isSafari:t||l,needPerspectiveFix:t,need3dFix:c,isWebView:a}}function SS(){return hm||(hm=dk()),hm}function fk(n){let{swiper:e,on:t,emit:r}=n;const a=on();let l=null,c=null;const f=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},p=()=>{!e||e.destroyed||!e.initialized||(l=new ResizeObserver(_=>{c=a.requestAnimationFrame(()=>{const{width:E,height:S}=e;let R=E,H=S;_.forEach(j=>{let{contentBoxSize:U,contentRect:P,target:D}=j;D&&D!==e.el||(R=P?P.width:(U[0]||U).inlineSize,H=P?P.height:(U[0]||U).blockSize)}),(R!==E||H!==S)&&f()})}),l.observe(e.el))},m=()=>{c&&a.cancelAnimationFrame(c),l&&l.unobserve&&e.el&&(l.unobserve(e.el),l=null)},y=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof a.ResizeObserver<"u"){p();return}a.addEventListener("resize",f),a.addEventListener("orientationchange",y)}),t("destroy",()=>{m(),a.removeEventListener("resize",f),a.removeEventListener("orientationchange",y)})}function hk(n){let{swiper:e,extendParams:t,on:r,emit:a}=n;const l=[],c=on(),f=function(y,_){_===void 0&&(_={});const E=c.MutationObserver||c.WebkitMutationObserver,S=new E(R=>{if(e.__preventObserver__)return;if(R.length===1){a("observerUpdate",R[0]);return}const H=function(){a("observerUpdate",R[0])};c.requestAnimationFrame?c.requestAnimationFrame(H):c.setTimeout(H,0)});S.observe(y,{attributes:typeof _.attributes>"u"?!0:_.attributes,childList:e.isElement||(typeof _.childList>"u"?!0:_).childList,characterData:typeof _.characterData>"u"?!0:_.characterData}),l.push(S)},p=()=>{if(e.params.observer){if(e.params.observeParents){const y=TS(e.hostEl);for(let _=0;_<y.length;_+=1)f(y[_])}f(e.hostEl,{childList:e.params.observeSlideChildren}),f(e.wrapperEl,{attributes:!1})}},m=()=>{l.forEach(y=>{y.disconnect()}),l.splice(0,l.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",p),r("destroy",m)}var pk={on(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const a=t?"unshift":"push";return n.split(" ").forEach(l=>{r.eventsListeners[l]||(r.eventsListeners[l]=[]),r.eventsListeners[l][a](e)}),r},once(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function a(){r.off(n,a),a.__emitterProxy&&delete a.__emitterProxy;for(var l=arguments.length,c=new Array(l),f=0;f<l;f++)c[f]=arguments[f];e.apply(r,c)}return a.__emitterProxy=e,r.on(n,a,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const r=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[r](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(r=>{typeof e>"u"?t.eventsListeners[r]=[]:t.eventsListeners[r]&&t.eventsListeners[r].forEach((a,l)=>{(a===e||a.__emitterProxy&&a.__emitterProxy===e)&&t.eventsListeners[r].splice(l,1)})}),t},emit(){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let e,t,r;for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return typeof l[0]=="string"||Array.isArray(l[0])?(e=l[0],t=l.slice(1,l.length),r=n):(e=l[0].events,t=l[0].data,r=l[0].context||n),t.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(p=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(m=>{m.apply(r,[p,...t])}),n.eventsListeners&&n.eventsListeners[p]&&n.eventsListeners[p].forEach(m=>{m.apply(r,t)})}),n}};function mk(){const n=this;let e,t;const r=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=r.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=r.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(rs(r,"padding-left")||0,10)-parseInt(rs(r,"padding-right")||0,10),t=t-parseInt(rs(r,"padding-top")||0,10)-parseInt(rs(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function gk(){const n=this;function e(O,k){return parseFloat(O.getPropertyValue(n.getDirectionLabel(k))||0)}const t=n.params,{wrapperEl:r,slidesEl:a,size:l,rtlTranslate:c,wrongRTL:f}=n,p=n.virtual&&t.virtual.enabled,m=p?n.virtual.slides.length:n.slides.length,y=vi(a,`.${n.params.slideClass}, swiper-slide`),_=p?n.virtual.slides.length:y.length;let E=[];const S=[],R=[];let H=t.slidesOffsetBefore;typeof H=="function"&&(H=t.slidesOffsetBefore.call(n));let j=t.slidesOffsetAfter;typeof j=="function"&&(j=t.slidesOffsetAfter.call(n));const U=n.snapGrid.length,P=n.slidesGrid.length;let D=t.spaceBetween,G=-H,q=0,ee=0;if(typeof l>"u")return;typeof D=="string"&&D.indexOf("%")>=0?D=parseFloat(D.replace("%",""))/100*l:typeof D=="string"&&(D=parseFloat(D)),n.virtualSize=-D,y.forEach(O=>{c?O.style.marginLeft="":O.style.marginRight="",O.style.marginBottom="",O.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(bd(r,"--swiper-centered-offset-before",""),bd(r,"--swiper-centered-offset-after",""));const M=t.grid&&t.grid.rows>1&&n.grid;M?n.grid.initSlides(y):n.grid&&n.grid.unsetSlides();let C;const I=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(O=>typeof t.breakpoints[O].slidesPerView<"u").length>0;for(let O=0;O<_;O+=1){C=0;let k;if(y[O]&&(k=y[O]),M&&n.grid.updateSlide(O,k,y),!(y[O]&&rs(k,"display")==="none")){if(t.slidesPerView==="auto"){I&&(y[O].style[n.getDirectionLabel("width")]="");const V=getComputedStyle(k),A=k.style.transform,de=k.style.webkitTransform;if(A&&(k.style.transform="none"),de&&(k.style.webkitTransform="none"),t.roundLengths)C=n.isHorizontal()?Qm(k,"width"):Qm(k,"height");else{const fe=e(V,"width"),$=e(V,"padding-left"),W=e(V,"padding-right"),ce=e(V,"margin-left"),pe=e(V,"margin-right"),z=V.getPropertyValue("box-sizing");if(z&&z==="border-box")C=fe+ce+pe;else{const{clientWidth:te,offsetWidth:se}=k;C=fe+$+W+ce+pe+(se-te)}}A&&(k.style.transform=A),de&&(k.style.webkitTransform=de),t.roundLengths&&(C=Math.floor(C))}else C=(l-(t.slidesPerView-1)*D)/t.slidesPerView,t.roundLengths&&(C=Math.floor(C)),y[O]&&(y[O].style[n.getDirectionLabel("width")]=`${C}px`);y[O]&&(y[O].swiperSlideSize=C),R.push(C),t.centeredSlides?(G=G+C/2+q/2+D,q===0&&O!==0&&(G=G-l/2-D),O===0&&(G=G-l/2-D),Math.abs(G)<1/1e3&&(G=0),t.roundLengths&&(G=Math.floor(G)),ee%t.slidesPerGroup===0&&E.push(G),S.push(G)):(t.roundLengths&&(G=Math.floor(G)),(ee-Math.min(n.params.slidesPerGroupSkip,ee))%n.params.slidesPerGroup===0&&E.push(G),S.push(G),G=G+C+D),n.virtualSize+=C+D,q=C,ee+=1}}if(n.virtualSize=Math.max(n.virtualSize,l)+j,c&&f&&(t.effect==="slide"||t.effect==="coverflow")&&(r.style.width=`${n.virtualSize+D}px`),t.setWrapperSize&&(r.style[n.getDirectionLabel("width")]=`${n.virtualSize+D}px`),M&&n.grid.updateWrapperSize(C,E),!t.centeredSlides){const O=[];for(let k=0;k<E.length;k+=1){let V=E[k];t.roundLengths&&(V=Math.floor(V)),E[k]<=n.virtualSize-l&&O.push(V)}E=O,Math.floor(n.virtualSize-l)-Math.floor(E[E.length-1])>1&&E.push(n.virtualSize-l)}if(p&&t.loop){const O=R[0]+D;if(t.slidesPerGroup>1){const k=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/t.slidesPerGroup),V=O*t.slidesPerGroup;for(let A=0;A<k;A+=1)E.push(E[E.length-1]+V)}for(let k=0;k<n.virtual.slidesBefore+n.virtual.slidesAfter;k+=1)t.slidesPerGroup===1&&E.push(E[E.length-1]+O),S.push(S[S.length-1]+O),n.virtualSize+=O}if(E.length===0&&(E=[0]),D!==0){const O=n.isHorizontal()&&c?"marginLeft":n.getDirectionLabel("marginRight");y.filter((k,V)=>!t.cssMode||t.loop?!0:V!==y.length-1).forEach(k=>{k.style[O]=`${D}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let O=0;R.forEach(V=>{O+=V+(D||0)}),O-=D;const k=O>l?O-l:0;E=E.map(V=>V<=0?-H:V>k?k+j:V)}if(t.centerInsufficientSlides){let O=0;R.forEach(V=>{O+=V+(D||0)}),O-=D;const k=(t.slidesOffsetBefore||0)+(t.slidesOffsetAfter||0);if(O+k<l){const V=(l-O-k)/2;E.forEach((A,de)=>{E[de]=A-V}),S.forEach((A,de)=>{S[de]=A+V})}}if(Object.assign(n,{slides:y,snapGrid:E,slidesGrid:S,slidesSizesGrid:R}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){bd(r,"--swiper-centered-offset-before",`${-E[0]}px`),bd(r,"--swiper-centered-offset-after",`${n.size/2-R[R.length-1]/2}px`);const O=-n.snapGrid[0],k=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(V=>V+O),n.slidesGrid=n.slidesGrid.map(V=>V+k)}if(_!==m&&n.emit("slidesLengthChange"),E.length!==U&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),S.length!==P&&n.emit("slidesGridLengthChange"),t.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!p&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const O=`${t.containerModifierClass}backface-hidden`,k=n.el.classList.contains(O);_<=t.maxBackfaceHiddenSlides?k||n.el.classList.add(O):k&&n.el.classList.remove(O)}}function yk(n){const e=this,t=[],r=e.virtual&&e.params.virtual.enabled;let a=0,l;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const c=f=>r?e.slides[e.getSlideIndexByData(f)]:e.slides[f];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(f=>{t.push(f)});else for(l=0;l<Math.ceil(e.params.slidesPerView);l+=1){const f=e.activeIndex+l;if(f>e.slides.length&&!r)break;t.push(c(f))}else t.push(c(e.activeIndex));for(l=0;l<t.length;l+=1)if(typeof t[l]<"u"){const f=t[l].offsetHeight;a=f>a?f:a}(a||a===0)&&(e.wrapperEl.style.height=`${a}px`)}function vk(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(n.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-t-n.cssOverflowAdjustment()}const dT=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function _k(n){n===void 0&&(n=this&&this.translate||0);const e=this,t=e.params,{slides:r,rtlTranslate:a,snapGrid:l}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let c=-n;a&&(c=n),e.visibleSlidesIndexes=[],e.visibleSlides=[];let f=t.spaceBetween;typeof f=="string"&&f.indexOf("%")>=0?f=parseFloat(f.replace("%",""))/100*e.size:typeof f=="string"&&(f=parseFloat(f));for(let p=0;p<r.length;p+=1){const m=r[p];let y=m.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(y-=r[0].swiperSlideOffset);const _=(c+(t.centeredSlides?e.minTranslate():0)-y)/(m.swiperSlideSize+f),E=(c-l[0]+(t.centeredSlides?e.minTranslate():0)-y)/(m.swiperSlideSize+f),S=-(c-y),R=S+e.slidesSizesGrid[p],H=S>=0&&S<=e.size-e.slidesSizesGrid[p],j=S>=0&&S<e.size-1||R>1&&R<=e.size||S<=0&&R>=e.size;j&&(e.visibleSlides.push(m),e.visibleSlidesIndexes.push(p)),dT(m,j,t.slideVisibleClass),dT(m,H,t.slideFullyVisibleClass),m.progress=a?-_:_,m.originalProgress=a?-E:E}}function Ek(n){const e=this;if(typeof n>"u"){const y=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*y||0}const t=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:a,isBeginning:l,isEnd:c,progressLoop:f}=e;const p=l,m=c;if(r===0)a=0,l=!0,c=!0;else{a=(n-e.minTranslate())/r;const y=Math.abs(n-e.minTranslate())<1,_=Math.abs(n-e.maxTranslate())<1;l=y||a<=0,c=_||a>=1,y&&(a=0),_&&(a=1)}if(t.loop){const y=e.getSlideIndexByData(0),_=e.getSlideIndexByData(e.slides.length-1),E=e.slidesGrid[y],S=e.slidesGrid[_],R=e.slidesGrid[e.slidesGrid.length-1],H=Math.abs(n);H>=E?f=(H-E)/R:f=(H+R-S)/R,f>1&&(f-=1)}Object.assign(e,{progress:a,progressLoop:f,isBeginning:l,isEnd:c}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),l&&!p&&e.emit("reachBeginning toEdge"),c&&!m&&e.emit("reachEnd toEdge"),(p&&!l||m&&!c)&&e.emit("fromEdge"),e.emit("progress",a)}const pm=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function Tk(){const n=this,{slides:e,params:t,slidesEl:r,activeIndex:a}=n,l=n.virtual&&t.virtual.enabled,c=n.grid&&t.grid&&t.grid.rows>1,f=_=>vi(r,`.${t.slideClass}${_}, swiper-slide${_}`)[0];let p,m,y;if(l)if(t.loop){let _=a-n.virtual.slidesBefore;_<0&&(_=n.virtual.slides.length+_),_>=n.virtual.slides.length&&(_-=n.virtual.slides.length),p=f(`[data-swiper-slide-index="${_}"]`)}else p=f(`[data-swiper-slide-index="${a}"]`);else c?(p=e.find(_=>_.column===a),y=e.find(_=>_.column===a+1),m=e.find(_=>_.column===a-1)):p=e[a];p&&(c||(y=ok(p,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!y&&(y=e[0]),m=ak(p,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!m===0&&(m=e[e.length-1]))),e.forEach(_=>{pm(_,_===p,t.slideActiveClass),pm(_,_===y,t.slideNextClass),pm(_,_===m,t.slidePrevClass)}),n.emitSlidesClasses()}const Vd=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,r=e.closest(t());if(r){let a=r.querySelector(`.${n.params.lazyPreloaderClass}`);!a&&n.isElement&&(r.shadowRoot?a=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(a=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),a&&a.remove())})),a&&a.remove()}},mm=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},Xm=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const r=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),a=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const c=a,f=[c-e];f.push(...Array.from({length:e}).map((p,m)=>c+r+m)),n.slides.forEach((p,m)=>{f.includes(p.column)&&mm(n,m)});return}const l=a+r-1;if(n.params.rewind||n.params.loop)for(let c=a-e;c<=l+e;c+=1){const f=(c%t+t)%t;(f<a||f>l)&&mm(n,f)}else for(let c=Math.max(a-e,0);c<=Math.min(l+e,t-1);c+=1)c!==a&&(c>l||c<a)&&mm(n,c)};function bk(n){const{slidesGrid:e,params:t}=n,r=n.rtlTranslate?n.translate:-n.translate;let a;for(let l=0;l<e.length;l+=1)typeof e[l+1]<"u"?r>=e[l]&&r<e[l+1]-(e[l+1]-e[l])/2?a=l:r>=e[l]&&r<e[l+1]&&(a=l+1):r>=e[l]&&(a=l);return t.normalizeSlideIndex&&(a<0||typeof a>"u")&&(a=0),a}function wk(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:a,activeIndex:l,realIndex:c,snapIndex:f}=e;let p=n,m;const y=S=>{let R=S-e.virtual.slidesBefore;return R<0&&(R=e.virtual.slides.length+R),R>=e.virtual.slides.length&&(R-=e.virtual.slides.length),R};if(typeof p>"u"&&(p=bk(e)),r.indexOf(t)>=0)m=r.indexOf(t);else{const S=Math.min(a.slidesPerGroupSkip,p);m=S+Math.floor((p-S)/a.slidesPerGroup)}if(m>=r.length&&(m=r.length-1),p===l&&!e.params.loop){m!==f&&(e.snapIndex=m,e.emit("snapIndexChange"));return}if(p===l&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=y(p);return}const _=e.grid&&a.grid&&a.grid.rows>1;let E;if(e.virtual&&a.virtual.enabled&&a.loop)E=y(p);else if(_){const S=e.slides.find(H=>H.column===p);let R=parseInt(S.getAttribute("data-swiper-slide-index"),10);Number.isNaN(R)&&(R=Math.max(e.slides.indexOf(S),0)),E=Math.floor(R/a.grid.rows)}else if(e.slides[p]){const S=e.slides[p].getAttribute("data-swiper-slide-index");S?E=parseInt(S,10):E=p}else E=p;Object.assign(e,{previousSnapIndex:f,snapIndex:m,previousRealIndex:c,realIndex:E,previousIndex:l,activeIndex:p}),e.initialized&&Xm(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(c!==E&&e.emit("realIndexChange"),e.emit("slideChange"))}function Sk(n,e){const t=this,r=t.params;let a=n.closest(`.${r.slideClass}, swiper-slide`);!a&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(f=>{!a&&f.matches&&f.matches(`.${r.slideClass}, swiper-slide`)&&(a=f)});let l=!1,c;if(a){for(let f=0;f<t.slides.length;f+=1)if(t.slides[f]===a){l=!0,c=f;break}}if(a&&l)t.clickedSlide=a,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(a.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=c;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}r.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var Ak={updateSize:mk,updateSlides:gk,updateAutoHeight:yk,updateSlidesOffset:vk,updateSlidesProgress:_k,updateProgress:Ek,updateSlidesClasses:Tk,updateActiveIndex:wk,updateClickedSlide:Sk};function xk(n){n===void 0&&(n=this.isHorizontal()?"x":"y");const e=this,{params:t,rtlTranslate:r,translate:a,wrapperEl:l}=e;if(t.virtualTranslate)return r?-a:a;if(t.cssMode)return a;let c=nk(l,n);return c+=e.cssOverflowAdjustment(),r&&(c=-c),c||0}function Rk(n,e){const t=this,{rtlTranslate:r,params:a,wrapperEl:l,progress:c}=t;let f=0,p=0;const m=0;t.isHorizontal()?f=r?-n:n:p=n,a.roundLengths&&(f=Math.floor(f),p=Math.floor(p)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?f:p,a.cssMode?l[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-f:-p:a.virtualTranslate||(t.isHorizontal()?f-=t.cssOverflowAdjustment():p-=t.cssOverflowAdjustment(),l.style.transform=`translate3d(${f}px, ${p}px, ${m}px)`);let y;const _=t.maxTranslate()-t.minTranslate();_===0?y=0:y=(n-t.minTranslate())/_,y!==c&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function Ck(){return-this.snapGrid[0]}function Ik(){return-this.snapGrid[this.snapGrid.length-1]}function Nk(n,e,t,r,a){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),r===void 0&&(r=!0);const l=this,{params:c,wrapperEl:f}=l;if(l.animating&&c.preventInteractionOnTransition)return!1;const p=l.minTranslate(),m=l.maxTranslate();let y;if(r&&n>p?y=p:r&&n<m?y=m:y=n,l.updateProgress(y),c.cssMode){const _=l.isHorizontal();if(e===0)f[_?"scrollLeft":"scrollTop"]=-y;else{if(!l.support.smoothScroll)return ES({swiper:l,targetPosition:-y,side:_?"left":"top"}),!0;f.scrollTo({[_?"left":"top"]:-y,behavior:"smooth"})}return!0}return e===0?(l.setTransition(0),l.setTranslate(y),t&&(l.emit("beforeTransitionStart",e,a),l.emit("transitionEnd"))):(l.setTransition(e),l.setTranslate(y),t&&(l.emit("beforeTransitionStart",e,a),l.emit("transitionStart")),l.animating||(l.animating=!0,l.onTranslateToWrapperTransitionEnd||(l.onTranslateToWrapperTransitionEnd=function(E){!l||l.destroyed||E.target===this&&(l.wrapperEl.removeEventListener("transitionend",l.onTranslateToWrapperTransitionEnd),l.onTranslateToWrapperTransitionEnd=null,delete l.onTranslateToWrapperTransitionEnd,l.animating=!1,t&&l.emit("transitionEnd"))}),l.wrapperEl.addEventListener("transitionend",l.onTranslateToWrapperTransitionEnd))),!0}var Ok={getTranslate:xk,setTranslate:Rk,minTranslate:Ck,maxTranslate:Ik,translateTo:Nk};function Dk(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function AS(n){let{swiper:e,runCallbacks:t,direction:r,step:a}=n;const{activeIndex:l,previousIndex:c}=e;let f=r;if(f||(l>c?f="next":l<c?f="prev":f="reset"),e.emit(`transition${a}`),t&&l!==c){if(f==="reset"){e.emit(`slideResetTransition${a}`);return}e.emit(`slideChangeTransition${a}`),f==="next"?e.emit(`slideNextTransition${a}`):e.emit(`slidePrevTransition${a}`)}}function Mk(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;r.cssMode||(r.autoHeight&&t.updateAutoHeight(),AS({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function Pk(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;t.animating=!1,!r.cssMode&&(t.setTransition(0),AS({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var kk={setTransition:Dk,transitionStart:Mk,transitionEnd:Pk};function Vk(n,e,t,r,a){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const l=this;let c=n;c<0&&(c=0);const{params:f,snapGrid:p,slidesGrid:m,previousIndex:y,activeIndex:_,rtlTranslate:E,wrapperEl:S,enabled:R}=l;if(!R&&!r&&!a||l.destroyed||l.animating&&f.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=l.params.speed);const H=Math.min(l.params.slidesPerGroupSkip,c);let j=H+Math.floor((c-H)/l.params.slidesPerGroup);j>=p.length&&(j=p.length-1);const U=-p[j];if(f.normalizeSlideIndex)for(let M=0;M<m.length;M+=1){const C=-Math.floor(U*100),I=Math.floor(m[M]*100),O=Math.floor(m[M+1]*100);typeof m[M+1]<"u"?C>=I&&C<O-(O-I)/2?c=M:C>=I&&C<O&&(c=M+1):C>=I&&(c=M)}if(l.initialized&&c!==_&&(!l.allowSlideNext&&(E?U>l.translate&&U>l.minTranslate():U<l.translate&&U<l.minTranslate())||!l.allowSlidePrev&&U>l.translate&&U>l.maxTranslate()&&(_||0)!==c))return!1;c!==(y||0)&&t&&l.emit("beforeSlideChangeStart"),l.updateProgress(U);let P;c>_?P="next":c<_?P="prev":P="reset";const D=l.virtual&&l.params.virtual.enabled;if(!(D&&a)&&(E&&-U===l.translate||!E&&U===l.translate))return l.updateActiveIndex(c),f.autoHeight&&l.updateAutoHeight(),l.updateSlidesClasses(),f.effect!=="slide"&&l.setTranslate(U),P!=="reset"&&(l.transitionStart(t,P),l.transitionEnd(t,P)),!1;if(f.cssMode){const M=l.isHorizontal(),C=E?U:-U;if(e===0)D&&(l.wrapperEl.style.scrollSnapType="none",l._immediateVirtual=!0),D&&!l._cssModeVirtualInitialSet&&l.params.initialSlide>0?(l._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{S[M?"scrollLeft":"scrollTop"]=C})):S[M?"scrollLeft":"scrollTop"]=C,D&&requestAnimationFrame(()=>{l.wrapperEl.style.scrollSnapType="",l._immediateVirtual=!1});else{if(!l.support.smoothScroll)return ES({swiper:l,targetPosition:C,side:M?"left":"top"}),!0;S.scrollTo({[M?"left":"top"]:C,behavior:"smooth"})}return!0}const ee=SS().isSafari;return D&&!a&&ee&&l.isElement&&l.virtual.update(!1,!1,c),l.setTransition(e),l.setTranslate(U),l.updateActiveIndex(c),l.updateSlidesClasses(),l.emit("beforeTransitionStart",e,r),l.transitionStart(t,P),e===0?l.transitionEnd(t,P):l.animating||(l.animating=!0,l.onSlideToWrapperTransitionEnd||(l.onSlideToWrapperTransitionEnd=function(C){!l||l.destroyed||C.target===this&&(l.wrapperEl.removeEventListener("transitionend",l.onSlideToWrapperTransitionEnd),l.onSlideToWrapperTransitionEnd=null,delete l.onSlideToWrapperTransitionEnd,l.transitionEnd(t,P))}),l.wrapperEl.addEventListener("transitionend",l.onSlideToWrapperTransitionEnd)),!0}function Lk(n,e,t,r){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const a=this;if(a.destroyed)return;typeof e>"u"&&(e=a.params.speed);const l=a.grid&&a.params.grid&&a.params.grid.rows>1;let c=n;if(a.params.loop)if(a.virtual&&a.params.virtual.enabled)c=c+a.virtual.slidesBefore;else{let f;if(l){const E=c*a.params.grid.rows;f=a.slides.find(S=>S.getAttribute("data-swiper-slide-index")*1===E).column}else f=a.getSlideIndexByData(c);const p=l?Math.ceil(a.slides.length/a.params.grid.rows):a.slides.length,{centeredSlides:m}=a.params;let y=a.params.slidesPerView;y==="auto"?y=a.slidesPerViewDynamic():(y=Math.ceil(parseFloat(a.params.slidesPerView,10)),m&&y%2===0&&(y=y+1));let _=p-f<y;if(m&&(_=_||f<Math.ceil(y/2)),r&&m&&a.params.slidesPerView!=="auto"&&!l&&(_=!1),_){const E=m?f<a.activeIndex?"prev":"next":f-a.activeIndex-1<a.params.slidesPerView?"next":"prev";a.loopFix({direction:E,slideTo:!0,activeSlideIndex:E==="next"?f+1:f-p+1,slideRealIndex:E==="next"?a.realIndex:void 0})}if(l){const E=c*a.params.grid.rows;c=a.slides.find(S=>S.getAttribute("data-swiper-slide-index")*1===E).column}else c=a.getSlideIndexByData(c)}return requestAnimationFrame(()=>{a.slideTo(c,e,t,r)}),a}function jk(n,e,t){e===void 0&&(e=!0);const r=this,{enabled:a,params:l,animating:c}=r;if(!a||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);let f=l.slidesPerGroup;l.slidesPerView==="auto"&&l.slidesPerGroup===1&&l.slidesPerGroupAuto&&(f=Math.max(r.slidesPerViewDynamic("current",!0),1));const p=r.activeIndex<l.slidesPerGroupSkip?1:f,m=r.virtual&&l.virtual.enabled;if(l.loop){if(c&&!m&&l.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&l.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+p,n,e,t)}),!0}return l.rewind&&r.isEnd?r.slideTo(0,n,e,t):r.slideTo(r.activeIndex+p,n,e,t)}function Uk(n,e,t){e===void 0&&(e=!0);const r=this,{params:a,snapGrid:l,slidesGrid:c,rtlTranslate:f,enabled:p,animating:m}=r;if(!p||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);const y=r.virtual&&a.virtual.enabled;if(a.loop){if(m&&!y&&a.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const _=f?r.translate:-r.translate;function E(P){return P<0?-Math.floor(Math.abs(P)):Math.floor(P)}const S=E(_),R=l.map(P=>E(P)),H=a.freeMode&&a.freeMode.enabled;let j=l[R.indexOf(S)-1];if(typeof j>"u"&&(a.cssMode||H)){let P;l.forEach((D,G)=>{S>=D&&(P=G)}),typeof P<"u"&&(j=H?l[P]:l[P>0?P-1:P])}let U=0;if(typeof j<"u"&&(U=c.indexOf(j),U<0&&(U=r.activeIndex-1),a.slidesPerView==="auto"&&a.slidesPerGroup===1&&a.slidesPerGroupAuto&&(U=U-r.slidesPerViewDynamic("previous",!0)+1,U=Math.max(U,0))),a.rewind&&r.isBeginning){const P=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(P,n,e,t)}else if(a.loop&&r.activeIndex===0&&a.cssMode)return requestAnimationFrame(()=>{r.slideTo(U,n,e,t)}),!0;return r.slideTo(U,n,e,t)}function zk(n,e,t){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof n>"u"&&(n=r.params.speed),r.slideTo(r.activeIndex,n,e,t)}function Bk(n,e,t,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const a=this;if(a.destroyed)return;typeof n>"u"&&(n=a.params.speed);let l=a.activeIndex;const c=Math.min(a.params.slidesPerGroupSkip,l),f=c+Math.floor((l-c)/a.params.slidesPerGroup),p=a.rtlTranslate?a.translate:-a.translate;if(p>=a.snapGrid[f]){const m=a.snapGrid[f],y=a.snapGrid[f+1];p-m>(y-m)*r&&(l+=a.params.slidesPerGroup)}else{const m=a.snapGrid[f-1],y=a.snapGrid[f];p-m<=(y-m)*r&&(l-=a.params.slidesPerGroup)}return l=Math.max(l,0),l=Math.min(l,a.slidesGrid.length-1),a.slideTo(l,n,e,t)}function Hk(){const n=this;if(n.destroyed)return;const{params:e,slidesEl:t}=n,r=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let a=n.clickedIndex,l;const c=n.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(n.animating)return;l=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?a<n.loopedSlides-r/2||a>n.slides.length-n.loopedSlides+r/2?(n.loopFix(),a=n.getSlideIndex(vi(t,`${c}[data-swiper-slide-index="${l}"]`)[0]),Ym(()=>{n.slideTo(a)})):n.slideTo(a):a>n.slides.length-r?(n.loopFix(),a=n.getSlideIndex(vi(t,`${c}[data-swiper-slide-index="${l}"]`)[0]),Ym(()=>{n.slideTo(a)})):n.slideTo(a)}else n.slideTo(a)}var qk={slideTo:Vk,slideToLoop:Lk,slideNext:jk,slidePrev:Uk,slideReset:zk,slideToClosest:Bk,slideToClickedSlide:Hk};function Fk(n,e){const t=this,{params:r,slidesEl:a}=t;if(!r.loop||t.virtual&&t.params.virtual.enabled)return;const l=()=>{vi(a,`.${r.slideClass}, swiper-slide`).forEach((E,S)=>{E.setAttribute("data-swiper-slide-index",S)})},c=t.grid&&r.grid&&r.grid.rows>1,f=r.slidesPerGroup*(c?r.grid.rows:1),p=t.slides.length%f!==0,m=c&&t.slides.length%r.grid.rows!==0,y=_=>{for(let E=0;E<_;E+=1){const S=t.isElement?wu("swiper-slide",[r.slideBlankClass]):wu("div",[r.slideClass,r.slideBlankClass]);t.slidesEl.append(S)}};if(p){if(r.loopAddBlankSlides){const _=f-t.slides.length%f;y(_),t.recalcSlides(),t.updateSlides()}else ff("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");l()}else if(m){if(r.loopAddBlankSlides){const _=r.grid.rows-t.slides.length%r.grid.rows;y(_),t.recalcSlides(),t.updateSlides()}else ff("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");l()}else l();t.loopFix({slideRealIndex:n,direction:r.centeredSlides?void 0:"next",initial:e})}function Gk(n){let{slideRealIndex:e,slideTo:t=!0,direction:r,setTranslate:a,activeSlideIndex:l,initial:c,byController:f,byMousewheel:p}=n===void 0?{}:n;const m=this;if(!m.params.loop)return;m.emit("beforeLoopFix");const{slides:y,allowSlidePrev:_,allowSlideNext:E,slidesEl:S,params:R}=m,{centeredSlides:H,initialSlide:j}=R;if(m.allowSlidePrev=!0,m.allowSlideNext=!0,m.virtual&&R.virtual.enabled){t&&(!R.centeredSlides&&m.snapIndex===0?m.slideTo(m.virtual.slides.length,0,!1,!0):R.centeredSlides&&m.snapIndex<R.slidesPerView?m.slideTo(m.virtual.slides.length+m.snapIndex,0,!1,!0):m.snapIndex===m.snapGrid.length-1&&m.slideTo(m.virtual.slidesBefore,0,!1,!0)),m.allowSlidePrev=_,m.allowSlideNext=E,m.emit("loopFix");return}let U=R.slidesPerView;U==="auto"?U=m.slidesPerViewDynamic():(U=Math.ceil(parseFloat(R.slidesPerView,10)),H&&U%2===0&&(U=U+1));const P=R.slidesPerGroupAuto?U:R.slidesPerGroup;let D=P;D%P!==0&&(D+=P-D%P),D+=R.loopAdditionalSlides,m.loopedSlides=D;const G=m.grid&&R.grid&&R.grid.rows>1;y.length<U+D||m.params.effect==="cards"&&y.length<U+D*2?ff("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):G&&R.grid.fill==="row"&&ff("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const q=[],ee=[],M=G?Math.ceil(y.length/R.grid.rows):y.length,C=c&&M-j<U&&!H;let I=C?j:m.activeIndex;typeof l>"u"?l=m.getSlideIndex(y.find($=>$.classList.contains(R.slideActiveClass))):I=l;const O=r==="next"||!r,k=r==="prev"||!r;let V=0,A=0;const fe=(G?y[l].column:l)+(H&&typeof a>"u"?-U/2+.5:0);if(fe<D){V=Math.max(D-fe,P);for(let $=0;$<D-fe;$+=1){const W=$-Math.floor($/M)*M;if(G){const ce=M-W-1;for(let pe=y.length-1;pe>=0;pe-=1)y[pe].column===ce&&q.push(pe)}else q.push(M-W-1)}}else if(fe+U>M-D){A=Math.max(fe-(M-D*2),P),C&&(A=Math.max(A,U-M+j+1));for(let $=0;$<A;$+=1){const W=$-Math.floor($/M)*M;G?y.forEach((ce,pe)=>{ce.column===W&&ee.push(pe)}):ee.push(W)}}if(m.__preventObserver__=!0,requestAnimationFrame(()=>{m.__preventObserver__=!1}),m.params.effect==="cards"&&y.length<U+D*2&&(ee.includes(l)&&ee.splice(ee.indexOf(l),1),q.includes(l)&&q.splice(q.indexOf(l),1)),k&&q.forEach($=>{y[$].swiperLoopMoveDOM=!0,S.prepend(y[$]),y[$].swiperLoopMoveDOM=!1}),O&&ee.forEach($=>{y[$].swiperLoopMoveDOM=!0,S.append(y[$]),y[$].swiperLoopMoveDOM=!1}),m.recalcSlides(),R.slidesPerView==="auto"?m.updateSlides():G&&(q.length>0&&k||ee.length>0&&O)&&m.slides.forEach(($,W)=>{m.grid.updateSlide(W,$,m.slides)}),R.watchSlidesProgress&&m.updateSlidesOffset(),t){if(q.length>0&&k){if(typeof e>"u"){const $=m.slidesGrid[I],ce=m.slidesGrid[I+V]-$;p?m.setTranslate(m.translate-ce):(m.slideTo(I+Math.ceil(V),0,!1,!0),a&&(m.touchEventsData.startTranslate=m.touchEventsData.startTranslate-ce,m.touchEventsData.currentTranslate=m.touchEventsData.currentTranslate-ce))}else if(a){const $=G?q.length/R.grid.rows:q.length;m.slideTo(m.activeIndex+$,0,!1,!0),m.touchEventsData.currentTranslate=m.translate}}else if(ee.length>0&&O)if(typeof e>"u"){const $=m.slidesGrid[I],ce=m.slidesGrid[I-A]-$;p?m.setTranslate(m.translate-ce):(m.slideTo(I-A,0,!1,!0),a&&(m.touchEventsData.startTranslate=m.touchEventsData.startTranslate-ce,m.touchEventsData.currentTranslate=m.touchEventsData.currentTranslate-ce))}else{const $=G?ee.length/R.grid.rows:ee.length;m.slideTo(m.activeIndex-$,0,!1,!0)}}if(m.allowSlidePrev=_,m.allowSlideNext=E,m.controller&&m.controller.control&&!f){const $={slideRealIndex:e,direction:r,setTranslate:a,activeSlideIndex:l,byController:!0};Array.isArray(m.controller.control)?m.controller.control.forEach(W=>{!W.destroyed&&W.params.loop&&W.loopFix({...$,slideTo:W.params.slidesPerView===R.slidesPerView?t:!1})}):m.controller.control instanceof m.constructor&&m.controller.control.params.loop&&m.controller.control.loopFix({...$,slideTo:m.controller.control.params.slidesPerView===R.slidesPerView?t:!1})}m.emit("loopFix")}function $k(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||!t||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const r=[];n.slides.forEach(a=>{const l=typeof a.swiperSlideIndex>"u"?a.getAttribute("data-swiper-slide-index")*1:a.swiperSlideIndex;r[l]=a}),n.slides.forEach(a=>{a.removeAttribute("data-swiper-slide-index")}),r.forEach(a=>{t.append(a)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var Kk={loopCreate:Fk,loopFix:Gk,loopDestroy:$k};function Yk(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function Qk(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var Xk={setGrabCursor:Yk,unsetGrabCursor:Qk};function Wk(n,e){e===void 0&&(e=this);function t(r){if(!r||r===Ta()||r===on())return null;r.assignedSlot&&(r=r.assignedSlot);const a=r.closest(n);return!a&&!r.getRootNode?null:a||t(r.getRootNode().host)}return t(e)}function fT(n,e,t){const r=on(),{params:a}=n,l=a.edgeSwipeDetection,c=a.edgeSwipeThreshold;return l&&(t<=c||t>=r.innerWidth-c)?l==="prevent"?(e.preventDefault(),!0):!1:!0}function Zk(n){const e=this,t=Ta();let r=n;r.originalEvent&&(r=r.originalEvent);const a=e.touchEventsData;if(r.type==="pointerdown"){if(a.pointerId!==null&&a.pointerId!==r.pointerId)return;a.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(a.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){fT(e,r,r.targetTouches[0].pageX);return}const{params:l,touches:c,enabled:f}=e;if(!f||!l.simulateTouch&&r.pointerType==="mouse"||e.animating&&l.preventInteractionOnTransition)return;!e.animating&&l.cssMode&&l.loop&&e.loopFix();let p=r.target;if(l.touchEventsTarget==="wrapper"&&!sk(p,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||a.isTouched&&a.isMoved)return;const m=!!l.noSwipingClass&&l.noSwipingClass!=="",y=r.composedPath?r.composedPath():r.path;m&&r.target&&r.target.shadowRoot&&y&&(p=y[0]);const _=l.noSwipingSelector?l.noSwipingSelector:`.${l.noSwipingClass}`,E=!!(r.target&&r.target.shadowRoot);if(l.noSwiping&&(E?Wk(_,p):p.closest(_))){e.allowClick=!0;return}if(l.swipeHandler&&!p.closest(l.swipeHandler))return;c.currentX=r.pageX,c.currentY=r.pageY;const S=c.currentX,R=c.currentY;if(!fT(e,r,S))return;Object.assign(a,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),c.startX=S,c.startY=R,a.touchStartTime=df(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,l.threshold>0&&(a.allowThresholdMove=!1);let H=!0;p.matches(a.focusableElements)&&(H=!1,p.nodeName==="SELECT"&&(a.isTouched=!1)),t.activeElement&&t.activeElement.matches(a.focusableElements)&&t.activeElement!==p&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!p.matches(a.focusableElements))&&t.activeElement.blur();const j=H&&e.allowTouchMove&&l.touchStartPreventDefault;(l.touchStartForcePreventDefault||j)&&!p.isContentEditable&&r.preventDefault(),l.freeMode&&l.freeMode.enabled&&e.freeMode&&e.animating&&!l.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function Jk(n){const e=Ta(),t=this,r=t.touchEventsData,{params:a,touches:l,rtlTranslate:c,enabled:f}=t;if(!f||!a.simulateTouch&&n.pointerType==="mouse")return;let p=n;if(p.originalEvent&&(p=p.originalEvent),p.type==="pointermove"&&(r.touchId!==null||p.pointerId!==r.pointerId))return;let m;if(p.type==="touchmove"){if(m=[...p.changedTouches].find(q=>q.identifier===r.touchId),!m||m.identifier!==r.touchId)return}else m=p;if(!r.isTouched){r.startMoving&&r.isScrolling&&t.emit("touchMoveOpposite",p);return}const y=m.pageX,_=m.pageY;if(p.preventedByNestedSwiper){l.startX=y,l.startY=_;return}if(!t.allowTouchMove){p.target.matches(r.focusableElements)||(t.allowClick=!1),r.isTouched&&(Object.assign(l,{startX:y,startY:_,currentX:y,currentY:_}),r.touchStartTime=df());return}if(a.touchReleaseOnEdges&&!a.loop)if(t.isVertical()){if(_<l.startY&&t.translate<=t.maxTranslate()||_>l.startY&&t.translate>=t.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(c&&(y>l.startX&&-t.translate<=t.maxTranslate()||y<l.startX&&-t.translate>=t.minTranslate()))return;if(!c&&(y<l.startX&&t.translate<=t.maxTranslate()||y>l.startX&&t.translate>=t.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==p.target&&p.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&p.target===e.activeElement&&p.target.matches(r.focusableElements)){r.isMoved=!0,t.allowClick=!1;return}r.allowTouchCallbacks&&t.emit("touchMove",p),l.previousX=l.currentX,l.previousY=l.currentY,l.currentX=y,l.currentY=_;const E=l.currentX-l.startX,S=l.currentY-l.startY;if(t.params.threshold&&Math.sqrt(E**2+S**2)<t.params.threshold)return;if(typeof r.isScrolling>"u"){let q;t.isHorizontal()&&l.currentY===l.startY||t.isVertical()&&l.currentX===l.startX?r.isScrolling=!1:E*E+S*S>=25&&(q=Math.atan2(Math.abs(S),Math.abs(E))*180/Math.PI,r.isScrolling=t.isHorizontal()?q>a.touchAngle:90-q>a.touchAngle)}if(r.isScrolling&&t.emit("touchMoveOpposite",p),typeof r.startMoving>"u"&&(l.currentX!==l.startX||l.currentY!==l.startY)&&(r.startMoving=!0),r.isScrolling||p.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;t.allowClick=!1,!a.cssMode&&p.cancelable&&p.preventDefault(),a.touchMoveStopPropagation&&!a.nested&&p.stopPropagation();let R=t.isHorizontal()?E:S,H=t.isHorizontal()?l.currentX-l.previousX:l.currentY-l.previousY;a.oneWayMovement&&(R=Math.abs(R)*(c?1:-1),H=Math.abs(H)*(c?1:-1)),l.diff=R,R*=a.touchRatio,c&&(R=-R,H=-H);const j=t.touchesDirection;t.swipeDirection=R>0?"prev":"next",t.touchesDirection=H>0?"prev":"next";const U=t.params.loop&&!a.cssMode,P=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!r.isMoved){if(U&&P&&t.loopFix({direction:t.swipeDirection}),r.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const q=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(q)}r.allowMomentumBounce=!1,a.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",p)}if(new Date().getTime(),a._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&j!==t.touchesDirection&&U&&P&&Math.abs(R)>=1){Object.assign(l,{startX:y,startY:_,currentX:y,currentY:_,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}t.emit("sliderMove",p),r.isMoved=!0,r.currentTranslate=R+r.startTranslate;let D=!0,G=a.resistanceRatio;if(a.touchReleaseOnEdges&&(G=0),R>0?(U&&P&&r.allowThresholdMove&&r.currentTranslate>(a.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(a.slidesPerView!=="auto"&&t.slides.length-a.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>t.minTranslate()&&(D=!1,a.resistance&&(r.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+r.startTranslate+R)**G))):R<0&&(U&&P&&r.allowThresholdMove&&r.currentTranslate<(a.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(a.slidesPerView!=="auto"&&t.slides.length-a.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(a.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(a.slidesPerView,10)))}),r.currentTranslate<t.maxTranslate()&&(D=!1,a.resistance&&(r.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-r.startTranslate-R)**G))),D&&(p.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(r.currentTranslate=r.startTranslate),a.threshold>0)if(Math.abs(R)>a.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,l.startX=l.currentX,l.startY=l.currentY,r.currentTranslate=r.startTranslate,l.diff=t.isHorizontal()?l.currentX-l.startX:l.currentY-l.startY;return}}else{r.currentTranslate=r.startTranslate;return}!a.followFinger||a.cssMode||((a.freeMode&&a.freeMode.enabled&&t.freeMode||a.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),a.freeMode&&a.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(r.currentTranslate),t.setTranslate(r.currentTranslate))}function eV(n){const e=this,t=e.touchEventsData;let r=n;r.originalEvent&&(r=r.originalEvent);let a;if(r.type==="touchend"||r.type==="touchcancel"){if(a=[...r.changedTouches].find(q=>q.identifier===t.touchId),!a||a.identifier!==t.touchId)return}else{if(t.touchId!==null||r.pointerId!==t.pointerId)return;a=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:c,touches:f,rtlTranslate:p,slidesGrid:m,enabled:y}=e;if(!y||!c.simulateTouch&&r.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",r),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&c.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}c.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const _=df(),E=_-t.touchStartTime;if(e.allowClick){const q=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(q&&q[0]||r.target,q),e.emit("tap click",r),E<300&&_-t.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(t.lastClickTime=df(),Ym(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||f.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let S;if(c.followFinger?S=p?e.translate:-e.translate:S=-t.currentTranslate,c.cssMode)return;if(c.freeMode&&c.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:S});return}const R=S>=-e.maxTranslate()&&!e.params.loop;let H=0,j=e.slidesSizesGrid[0];for(let q=0;q<m.length;q+=q<c.slidesPerGroupSkip?1:c.slidesPerGroup){const ee=q<c.slidesPerGroupSkip-1?1:c.slidesPerGroup;typeof m[q+ee]<"u"?(R||S>=m[q]&&S<m[q+ee])&&(H=q,j=m[q+ee]-m[q]):(R||S>=m[q])&&(H=q,j=m[m.length-1]-m[m.length-2])}let U=null,P=null;c.rewind&&(e.isBeginning?P=c.virtual&&c.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(U=0));const D=(S-m[H])/j,G=H<c.slidesPerGroupSkip-1?1:c.slidesPerGroup;if(E>c.longSwipesMs){if(!c.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(D>=c.longSwipesRatio?e.slideTo(c.rewind&&e.isEnd?U:H+G):e.slideTo(H)),e.swipeDirection==="prev"&&(D>1-c.longSwipesRatio?e.slideTo(H+G):P!==null&&D<0&&Math.abs(D)>c.longSwipesRatio?e.slideTo(P):e.slideTo(H))}else{if(!c.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(H+G):e.slideTo(H):(e.swipeDirection==="next"&&e.slideTo(U!==null?U:H+G),e.swipeDirection==="prev"&&e.slideTo(P!==null?P:H))}}function hT(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:a,snapGrid:l}=n,c=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const f=c&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!f?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!c?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=a,n.allowSlideNext=r,n.params.watchOverflow&&l!==n.snapGrid&&n.checkOverflow()}function tV(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function nV(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:r}=n;if(!r)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let a;const l=n.maxTranslate()-n.minTranslate();l===0?a=0:a=(n.translate-n.minTranslate())/l,a!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function iV(n){const e=this;Vd(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function rV(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const xS=(n,e)=>{const t=Ta(),{params:r,el:a,wrapperEl:l,device:c}=n,f=!!r.nested,p=e==="on"?"addEventListener":"removeEventListener",m=e;!a||typeof a=="string"||(t[p]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:f}),a[p]("touchstart",n.onTouchStart,{passive:!1}),a[p]("pointerdown",n.onTouchStart,{passive:!1}),t[p]("touchmove",n.onTouchMove,{passive:!1,capture:f}),t[p]("pointermove",n.onTouchMove,{passive:!1,capture:f}),t[p]("touchend",n.onTouchEnd,{passive:!0}),t[p]("pointerup",n.onTouchEnd,{passive:!0}),t[p]("pointercancel",n.onTouchEnd,{passive:!0}),t[p]("touchcancel",n.onTouchEnd,{passive:!0}),t[p]("pointerout",n.onTouchEnd,{passive:!0}),t[p]("pointerleave",n.onTouchEnd,{passive:!0}),t[p]("contextmenu",n.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&a[p]("click",n.onClick,!0),r.cssMode&&l[p]("scroll",n.onScroll),r.updateOnWindowResize?n[m](c.ios||c.android?"resize orientationchange observerUpdate":"resize observerUpdate",hT,!0):n[m]("observerUpdate",hT,!0),a[p]("load",n.onLoad,{capture:!0}))};function sV(){const n=this,{params:e}=n;n.onTouchStart=Zk.bind(n),n.onTouchMove=Jk.bind(n),n.onTouchEnd=eV.bind(n),n.onDocumentTouchStart=rV.bind(n),e.cssMode&&(n.onScroll=nV.bind(n)),n.onClick=tV.bind(n),n.onLoad=iV.bind(n),xS(n,"on")}function aV(){xS(this,"off")}var oV={attachEvents:sV,detachEvents:aV};const pT=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function lV(){const n=this,{realIndex:e,initialized:t,params:r,el:a}=n,l=r.breakpoints;if(!l||l&&Object.keys(l).length===0)return;const c=Ta(),f=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",p=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?n.el:c.querySelector(r.breakpointsBase),m=n.getBreakpoint(l,f,p);if(!m||n.currentBreakpoint===m)return;const _=(m in l?l[m]:void 0)||n.originalParams,E=pT(n,r),S=pT(n,_),R=n.params.grabCursor,H=_.grabCursor,j=r.enabled;E&&!S?(a.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),n.emitContainerClasses()):!E&&S&&(a.classList.add(`${r.containerModifierClass}grid`),(_.grid.fill&&_.grid.fill==="column"||!_.grid.fill&&r.grid.fill==="column")&&a.classList.add(`${r.containerModifierClass}grid-column`),n.emitContainerClasses()),R&&!H?n.unsetGrabCursor():!R&&H&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(ee=>{if(typeof _[ee]>"u")return;const M=r[ee]&&r[ee].enabled,C=_[ee]&&_[ee].enabled;M&&!C&&n[ee].disable(),!M&&C&&n[ee].enable()});const U=_.direction&&_.direction!==r.direction,P=r.loop&&(_.slidesPerView!==r.slidesPerView||U),D=r.loop;U&&t&&n.changeDirection(),xn(n.params,_);const G=n.params.enabled,q=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),j&&!G?n.disable():!j&&G&&n.enable(),n.currentBreakpoint=m,n.emit("_beforeBreakpoint",_),t&&(P?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!D&&q?(n.loopCreate(e),n.updateSlides()):D&&!q&&n.loopDestroy()),n.emit("breakpoint",_)}function uV(n,e,t){if(e===void 0&&(e="window"),!n||e==="container"&&!t)return;let r=!1;const a=on(),l=e==="window"?a.innerHeight:t.clientHeight,c=Object.keys(n).map(f=>{if(typeof f=="string"&&f.indexOf("@")===0){const p=parseFloat(f.substr(1));return{value:l*p,point:f}}return{value:f,point:f}});c.sort((f,p)=>parseInt(f.value,10)-parseInt(p.value,10));for(let f=0;f<c.length;f+=1){const{point:p,value:m}=c[f];e==="window"?a.matchMedia(`(min-width: ${m}px)`).matches&&(r=p):m<=t.clientWidth&&(r=p)}return r||"max"}var cV={setBreakpoint:lV,getBreakpoint:uV};function dV(n,e){const t=[];return n.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(a=>{r[a]&&t.push(e+a)}):typeof r=="string"&&t.push(e+r)}),t}function fV(){const n=this,{classNames:e,params:t,rtl:r,el:a,device:l}=n,c=dV(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:r},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:l.android},{ios:l.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...c),a.classList.add(...e),n.emitContainerClasses()}function hV(){const n=this,{el:e,classNames:t}=n;!e||typeof e=="string"||(e.classList.remove(...t),n.emitContainerClasses())}var pV={addClasses:fV,removeClasses:hV};function mV(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:r}=t;if(r){const a=n.slides.length-1,l=n.slidesGrid[a]+n.slidesSizesGrid[a]+r*2;n.isLocked=n.size>l}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var gV={checkOverflow:mV},Wm={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function yV(n,e){return function(r){r===void 0&&(r={});const a=Object.keys(r)[0],l=r[a];if(typeof l!="object"||l===null){xn(e,r);return}if(n[a]===!0&&(n[a]={enabled:!0}),a==="navigation"&&n[a]&&n[a].enabled&&!n[a].prevEl&&!n[a].nextEl&&(n[a].auto=!0),["pagination","scrollbar"].indexOf(a)>=0&&n[a]&&n[a].enabled&&!n[a].el&&(n[a].auto=!0),!(a in n&&"enabled"in l)){xn(e,r);return}typeof n[a]=="object"&&!("enabled"in n[a])&&(n[a].enabled=!0),n[a]||(n[a]={enabled:!1}),xn(e,r)}}const gm={eventsEmitter:pk,update:Ak,translate:Ok,transition:kk,slide:qk,loop:Kk,grabCursor:Xk,events:oV,breakpoints:cV,checkOverflow:gV,classes:pV},ym={};let ny=class ar{constructor(){let e,t;for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];a.length===1&&a[0].constructor&&Object.prototype.toString.call(a[0]).slice(8,-1)==="Object"?t=a[0]:[e,t]=a,t||(t={}),t=xn({},t),e&&!t.el&&(t.el=e);const c=Ta();if(t.el&&typeof t.el=="string"&&c.querySelectorAll(t.el).length>1){const y=[];return c.querySelectorAll(t.el).forEach(_=>{const E=xn({},t,{el:_});y.push(new ar(E))}),y}const f=this;f.__swiper__=!0,f.support=bS(),f.device=wS({userAgent:t.userAgent}),f.browser=SS(),f.eventsListeners={},f.eventsAnyListeners=[],f.modules=[...f.__modules__],t.modules&&Array.isArray(t.modules)&&f.modules.push(...t.modules);const p={};f.modules.forEach(y=>{y({params:t,swiper:f,extendParams:yV(t,p),on:f.on.bind(f),once:f.once.bind(f),off:f.off.bind(f),emit:f.emit.bind(f)})});const m=xn({},Wm,p);return f.params=xn({},m,ym,t),f.originalParams=xn({},f.params),f.passedParams=xn({},t),f.params&&f.params.on&&Object.keys(f.params.on).forEach(y=>{f.on(y,f.params.on[y])}),f.params&&f.params.onAny&&f.onAny(f.params.onAny),Object.assign(f,{enabled:f.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return f.params.direction==="horizontal"},isVertical(){return f.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:f.params.allowSlideNext,allowSlidePrev:f.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:f.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:f.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),f.emit("_swiper"),f.params.init&&f.init(),f}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:r}=this,a=vi(t,`.${r.slideClass}, swiper-slide`),l=hf(a[0]);return hf(e)-l}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>t.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:t,params:r}=e;e.slides=vi(t,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const r=this;e=Math.min(Math.max(e,0),1);const a=r.minTranslate(),c=(r.maxTranslate()-a)*e+a;r.translateTo(c,typeof t>"u"?0:t),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(r=>{const a=e.getSlideClasses(r);t.push({slideEl:r,classNames:a}),e.emit("_slideClass",r,a)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);const r=this,{params:a,slides:l,slidesGrid:c,slidesSizesGrid:f,size:p,activeIndex:m}=r;let y=1;if(typeof a.slidesPerView=="number")return a.slidesPerView;if(a.centeredSlides){let _=l[m]?Math.ceil(l[m].swiperSlideSize):0,E;for(let S=m+1;S<l.length;S+=1)l[S]&&!E&&(_+=Math.ceil(l[S].swiperSlideSize),y+=1,_>p&&(E=!0));for(let S=m-1;S>=0;S-=1)l[S]&&!E&&(_+=l[S].swiperSlideSize,y+=1,_>p&&(E=!0))}else if(e==="current")for(let _=m+1;_<l.length;_+=1)(t?c[_]+f[_]-c[m]<p:c[_]-c[m]<p)&&(y+=1);else for(let _=m-1;_>=0;_-=1)c[m]-c[_]<p&&(y+=1);return y}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(c=>{c.complete&&Vd(e,c)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function a(){const c=e.rtlTranslate?e.translate*-1:e.translate,f=Math.min(Math.max(c,e.maxTranslate()),e.minTranslate());e.setTranslate(f),e.updateActiveIndex(),e.updateSlidesClasses()}let l;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)a(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const c=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;l=e.slideTo(c.length-1,0,!1,!0)}else l=e.slideTo(e.activeIndex,0,!1,!0);l||a()}r.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);const r=this,a=r.params.direction;return e||(e=a==="horizontal"?"vertical":"horizontal"),e===a||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${a}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(l=>{e==="vertical"?l.style.width="":l.style.height=""}),r.emit("changeDirection"),t&&r.update()),r}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let r=e||t.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=t,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const a=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let c=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(a()):vi(r,a())[0];return!c&&t.params.createElements&&(c=wu("div",t.params.wrapperClass),r.append(c),vi(r,`.${t.params.slideClass}`).forEach(f=>{c.append(f)})),Object.assign(t,{el:r,wrapperEl:c,slidesEl:t.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:c,hostEl:t.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||rs(r,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||rs(r,"direction")==="rtl"),wrongRTL:rs(c,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();const a=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&a.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),a.forEach(l=>{l.complete?Vd(t,l):l.addEventListener("load",c=>{Vd(t,c.target)})}),Xm(t),t.initialized=!0,Xm(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);const r=this,{params:a,el:l,wrapperEl:c,slides:f}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),a.loop&&r.loopDestroy(),t&&(r.removeClasses(),l&&typeof l!="string"&&l.removeAttribute("style"),c&&c.removeAttribute("style"),f&&f.length&&f.forEach(p=>{p.classList.remove(a.slideVisibleClass,a.slideFullyVisibleClass,a.slideActiveClass,a.slideNextClass,a.slidePrevClass),p.removeAttribute("style"),p.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(p=>{r.off(p)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),ek(r)),r.destroyed=!0),null}static extendDefaults(e){xn(ym,e)}static get extendedDefaults(){return ym}static get defaults(){return Wm}static installModule(e){ar.prototype.__modules__||(ar.prototype.__modules__=[]);const t=ar.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>ar.installModule(t)),ar):(ar.installModule(e),ar)}};Object.keys(gm).forEach(n=>{Object.keys(gm[n]).forEach(e=>{ny.prototype[e]=gm[n][e]})});ny.use([fk,hk]);const RS=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function pa(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function wo(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:pa(e[r])&&pa(n[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?n[r]=e[r]:wo(n[r],e[r]):n[r]=e[r]})}function CS(n){return n===void 0&&(n={}),n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function IS(n){return n===void 0&&(n={}),n.pagination&&typeof n.pagination.el>"u"}function NS(n){return n===void 0&&(n={}),n.scrollbar&&typeof n.scrollbar.el>"u"}function OS(n){n===void 0&&(n="");const e=n.split(" ").map(r=>r.trim()).filter(r=>!!r),t=[];return e.forEach(r=>{t.indexOf(r)<0&&t.push(r)}),t.join(" ")}function vV(n){return n===void 0&&(n=""),n?n.includes("swiper-wrapper")?n:`swiper-wrapper ${n}`:"swiper-wrapper"}function _V(n){let{swiper:e,slides:t,passedParams:r,changedParams:a,nextEl:l,prevEl:c,scrollbarEl:f,paginationEl:p}=n;const m=a.filter(I=>I!=="children"&&I!=="direction"&&I!=="wrapperClass"),{params:y,pagination:_,navigation:E,scrollbar:S,virtual:R,thumbs:H}=e;let j,U,P,D,G,q,ee,M;a.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&y.thumbs&&(!y.thumbs.swiper||y.thumbs.swiper.destroyed)&&(j=!0),a.includes("controller")&&r.controller&&r.controller.control&&y.controller&&!y.controller.control&&(U=!0),a.includes("pagination")&&r.pagination&&(r.pagination.el||p)&&(y.pagination||y.pagination===!1)&&_&&!_.el&&(P=!0),a.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||f)&&(y.scrollbar||y.scrollbar===!1)&&S&&!S.el&&(D=!0),a.includes("navigation")&&r.navigation&&(r.navigation.prevEl||c)&&(r.navigation.nextEl||l)&&(y.navigation||y.navigation===!1)&&E&&!E.prevEl&&!E.nextEl&&(G=!0);const C=I=>{e[I]&&(e[I].destroy(),I==="navigation"?(e.isElement&&(e[I].prevEl.remove(),e[I].nextEl.remove()),y[I].prevEl=void 0,y[I].nextEl=void 0,e[I].prevEl=void 0,e[I].nextEl=void 0):(e.isElement&&e[I].el.remove(),y[I].el=void 0,e[I].el=void 0))};a.includes("loop")&&e.isElement&&(y.loop&&!r.loop?q=!0:!y.loop&&r.loop?ee=!0:M=!0),m.forEach(I=>{if(pa(y[I])&&pa(r[I]))Object.assign(y[I],r[I]),(I==="navigation"||I==="pagination"||I==="scrollbar")&&"enabled"in r[I]&&!r[I].enabled&&C(I);else{const O=r[I];(O===!0||O===!1)&&(I==="navigation"||I==="pagination"||I==="scrollbar")?O===!1&&C(I):y[I]=r[I]}}),m.includes("controller")&&!U&&e.controller&&e.controller.control&&y.controller&&y.controller.control&&(e.controller.control=y.controller.control),a.includes("children")&&t&&R&&y.virtual.enabled?(R.slides=t,R.update(!0)):a.includes("virtual")&&R&&y.virtual.enabled&&(t&&(R.slides=t),R.update(!0)),a.includes("children")&&t&&y.loop&&(M=!0),j&&H.init()&&H.update(!0),U&&(e.controller.control=y.controller.control),P&&(e.isElement&&(!p||typeof p=="string")&&(p=document.createElement("div"),p.classList.add("swiper-pagination"),p.part.add("pagination"),e.el.appendChild(p)),p&&(y.pagination.el=p),_.init(),_.render(),_.update()),D&&(e.isElement&&(!f||typeof f=="string")&&(f=document.createElement("div"),f.classList.add("swiper-scrollbar"),f.part.add("scrollbar"),e.el.appendChild(f)),f&&(y.scrollbar.el=f),S.init(),S.updateSize(),S.setTranslate()),G&&(e.isElement&&((!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-button-next"),l.innerHTML=e.hostEl.constructor.nextButtonSvg,l.part.add("button-next"),e.el.appendChild(l)),(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-button-prev"),c.innerHTML=e.hostEl.constructor.prevButtonSvg,c.part.add("button-prev"),e.el.appendChild(c))),l&&(y.navigation.nextEl=l),c&&(y.navigation.prevEl=c),E.init(),E.update()),a.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),a.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),a.includes("direction")&&e.changeDirection(r.direction,!1),(q||M)&&e.loopDestroy(),(ee||M)&&e.loopCreate(),e.update()}function EV(n,e){n===void 0&&(n={}),e===void 0&&(e=!0);const t={on:{}},r={},a={};wo(t,Wm),t._emitClasses=!0,t.init=!1;const l={},c=RS.map(p=>p.replace(/_/,"")),f=Object.assign({},n);return Object.keys(f).forEach(p=>{typeof n[p]>"u"||(c.indexOf(p)>=0?pa(n[p])?(t[p]={},a[p]={},wo(t[p],n[p]),wo(a[p],n[p])):(t[p]=n[p],a[p]=n[p]):p.search(/on[A-Z]/)===0&&typeof n[p]=="function"?e?r[`${p[2].toLowerCase()}${p.substr(3)}`]=n[p]:t.on[`${p[2].toLowerCase()}${p.substr(3)}`]=n[p]:l[p]=n[p])}),["navigation","pagination","scrollbar"].forEach(p=>{t[p]===!0&&(t[p]={}),t[p]===!1&&delete t[p]}),{params:t,passedParams:a,rest:l,events:r}}function TV(n,e){let{el:t,nextEl:r,prevEl:a,paginationEl:l,scrollbarEl:c,swiper:f}=n;CS(e)&&r&&a&&(f.params.navigation.nextEl=r,f.originalParams.navigation.nextEl=r,f.params.navigation.prevEl=a,f.originalParams.navigation.prevEl=a),IS(e)&&l&&(f.params.pagination.el=l,f.originalParams.pagination.el=l),NS(e)&&c&&(f.params.scrollbar.el=c,f.originalParams.scrollbar.el=c),f.init(t)}function bV(n,e,t,r,a){const l=[];if(!e)return l;const c=p=>{l.indexOf(p)<0&&l.push(p)};if(t&&r){const p=r.map(a),m=t.map(a);p.join("")!==m.join("")&&c("children"),r.length!==t.length&&c("children")}return RS.filter(p=>p[0]==="_").map(p=>p.replace(/_/,"")).forEach(p=>{if(p in n&&p in e)if(pa(n[p])&&pa(e[p])){const m=Object.keys(n[p]),y=Object.keys(e[p]);m.length!==y.length?c(p):(m.forEach(_=>{n[p][_]!==e[p][_]&&c(p)}),y.forEach(_=>{n[p][_]!==e[p][_]&&c(p)}))}else n[p]!==e[p]&&c(p)}),l}const wV=n=>{!n||n.destroyed||!n.params.virtual||n.params.virtual&&!n.params.virtual.enabled||(n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.parallax&&n.params.parallax&&n.params.parallax.enabled&&n.parallax.setTranslate())};function pf(){return pf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},pf.apply(this,arguments)}function DS(n){return n.type&&n.type.displayName&&n.type.displayName.includes("SwiperSlide")}function MS(n){const e=[];return Rt.Children.toArray(n).forEach(t=>{DS(t)?e.push(t):t.props&&t.props.children&&MS(t.props.children).forEach(r=>e.push(r))}),e}function SV(n){const e=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Rt.Children.toArray(n).forEach(r=>{if(DS(r))e.push(r);else if(r.props&&r.props.slot&&t[r.props.slot])t[r.props.slot].push(r);else if(r.props&&r.props.children){const a=MS(r.props.children);a.length>0?a.forEach(l=>e.push(l)):t["container-end"].push(r)}else t["container-end"].push(r)}),{slides:e,slots:t}}function AV(n,e,t){if(!t)return null;const r=y=>{let _=y;return y<0?_=e.length+y:_>=e.length&&(_=_-e.length),_},a=n.isHorizontal()?{[n.rtlTranslate?"right":"left"]:`${t.offset}px`}:{top:`${t.offset}px`},{from:l,to:c}=t,f=n.params.loop?-e.length:0,p=n.params.loop?e.length*2:e.length,m=[];for(let y=f;y<p;y+=1)y>=l&&y<=c&&m.push(e[r(y)]);return m.map((y,_)=>Rt.cloneElement(y,{swiper:n,style:a,key:y.props.virtualIndex||y.key||`slide-${_}`}))}function fu(n,e){return typeof window>"u"?L.useEffect(n,e):L.useLayoutEffect(n,e)}const mT=L.createContext(null),xV=L.createContext(null),PS=L.forwardRef(function(n,e){let{className:t,tag:r="div",wrapperTag:a="div",children:l,onSwiper:c,...f}=n===void 0?{}:n,p=!1;const[m,y]=L.useState("swiper"),[_,E]=L.useState(null),[S,R]=L.useState(!1),H=L.useRef(!1),j=L.useRef(null),U=L.useRef(null),P=L.useRef(null),D=L.useRef(null),G=L.useRef(null),q=L.useRef(null),ee=L.useRef(null),M=L.useRef(null),{params:C,passedParams:I,rest:O,events:k}=EV(f),{slides:V,slots:A}=SV(l),de=()=>{R(!S)};Object.assign(C.on,{_containerClasses(pe,z){y(z)}});const fe=()=>{Object.assign(C.on,k),p=!0;const pe={...C};if(delete pe.wrapperClass,U.current=new ny(pe),U.current.virtual&&U.current.params.virtual.enabled){U.current.virtual.slides=V;const z={cache:!1,slides:V,renderExternal:E,renderExternalUpdate:!1};wo(U.current.params.virtual,z),wo(U.current.originalParams.virtual,z)}};j.current||fe(),U.current&&U.current.on("_beforeBreakpoint",de);const $=()=>{p||!k||!U.current||Object.keys(k).forEach(pe=>{U.current.on(pe,k[pe])})},W=()=>{!k||!U.current||Object.keys(k).forEach(pe=>{U.current.off(pe,k[pe])})};L.useEffect(()=>()=>{U.current&&U.current.off("_beforeBreakpoint",de)}),L.useEffect(()=>{!H.current&&U.current&&(U.current.emitSlidesClasses(),H.current=!0)}),fu(()=>{if(e&&(e.current=j.current),!!j.current)return U.current.destroyed&&fe(),TV({el:j.current,nextEl:G.current,prevEl:q.current,paginationEl:ee.current,scrollbarEl:M.current,swiper:U.current},C),c&&!U.current.destroyed&&c(U.current),()=>{U.current&&!U.current.destroyed&&U.current.destroy(!0,!1)}},[]),fu(()=>{$();const pe=bV(I,P.current,V,D.current,z=>z.key);return P.current=I,D.current=V,pe.length&&U.current&&!U.current.destroyed&&_V({swiper:U.current,slides:V,passedParams:I,changedParams:pe,nextEl:G.current,prevEl:q.current,scrollbarEl:M.current,paginationEl:ee.current}),()=>{W()}}),fu(()=>{wV(U.current)},[_]);function ce(){return C.virtual?AV(U.current,V,_):V.map((pe,z)=>Rt.cloneElement(pe,{swiper:U.current,swiperSlideIndex:z}))}return Rt.createElement(r,pf({ref:j,className:OS(`${m}${t?` ${t}`:""}`)},O),Rt.createElement(xV.Provider,{value:U.current},A["container-start"],Rt.createElement(a,{className:vV(C.wrapperClass)},A["wrapper-start"],ce(),A["wrapper-end"]),CS(C)&&Rt.createElement(Rt.Fragment,null,Rt.createElement("div",{ref:q,className:"swiper-button-prev"}),Rt.createElement("div",{ref:G,className:"swiper-button-next"})),NS(C)&&Rt.createElement("div",{ref:M,className:"swiper-scrollbar"}),IS(C)&&Rt.createElement("div",{ref:ee,className:"swiper-pagination"}),A["container-end"]))});PS.displayName="Swiper";const kS=L.forwardRef(function(n,e){let{tag:t="div",children:r,className:a="",swiper:l,zoom:c,lazy:f,virtualIndex:p,swiperSlideIndex:m,...y}=n===void 0?{}:n;const _=L.useRef(null),[E,S]=L.useState("swiper-slide"),[R,H]=L.useState(!1);function j(G,q,ee){q===_.current&&S(ee)}fu(()=>{if(typeof m<"u"&&(_.current.swiperSlideIndex=m),e&&(e.current=_.current),!(!_.current||!l)){if(l.destroyed){E!=="swiper-slide"&&S("swiper-slide");return}return l.on("_slideClass",j),()=>{l&&l.off("_slideClass",j)}}}),fu(()=>{l&&_.current&&!l.destroyed&&S(l.getSlideClasses(_.current))},[l]);const U={isActive:E.indexOf("swiper-slide-active")>=0,isVisible:E.indexOf("swiper-slide-visible")>=0,isPrev:E.indexOf("swiper-slide-prev")>=0,isNext:E.indexOf("swiper-slide-next")>=0},P=()=>typeof r=="function"?r(U):r,D=()=>{H(!0)};return Rt.createElement(t,pf({ref:_,className:OS(`${E}${a?` ${a}`:""}`),"data-swiper-slide-index":p,onLoad:D},y),c&&Rt.createElement(mT.Provider,{value:U},Rt.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof c=="number"?c:void 0},P(),f&&!R&&Rt.createElement("div",{className:"swiper-lazy-preloader"}))),!c&&Rt.createElement(mT.Provider,{value:U},P(),f&&!R&&Rt.createElement("div",{className:"swiper-lazy-preloader"})))});kS.displayName="SwiperSlide";function RV(n,e,t,r){return n.params.createElements&&Object.keys(r).forEach(a=>{if(!t[a]&&t.auto===!0){let l=vi(n.el,`.${r[a]}`)[0];l||(l=wu("div",r[a]),l.className=r[a],n.el.append(l)),t[a]=l,e[a]=l}}),t}function Jl(n){return n===void 0&&(n=""),`.${n.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function CV(n){let{swiper:e,extendParams:t,on:r,emit:a}=n;const l="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:P=>P,formatFractionTotal:P=>P,bulletClass:`${l}-bullet`,bulletActiveClass:`${l}-bullet-active`,modifierClass:`${l}-`,currentClass:`${l}-current`,totalClass:`${l}-total`,hiddenClass:`${l}-hidden`,progressbarFillClass:`${l}-progressbar-fill`,progressbarOppositeClass:`${l}-progressbar-opposite`,clickableClass:`${l}-clickable`,lockClass:`${l}-lock`,horizontalClass:`${l}-horizontal`,verticalClass:`${l}-vertical`,paginationDisabledClass:`${l}-disabled`}}),e.pagination={el:null,bullets:[]};let c,f=0;function p(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function m(P,D){const{bulletActiveClass:G}=e.params.pagination;P&&(P=P[`${D==="prev"?"previous":"next"}ElementSibling`],P&&(P.classList.add(`${G}-${D}`),P=P[`${D==="prev"?"previous":"next"}ElementSibling`],P&&P.classList.add(`${G}-${D}-${D}`)))}function y(P,D,G){if(P=P%G,D=D%G,D===P+1)return"next";if(D===P-1)return"previous"}function _(P){const D=P.target.closest(Jl(e.params.pagination.bulletClass));if(!D)return;P.preventDefault();const G=hf(D)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===G)return;const q=y(e.realIndex,G,e.slides.length);q==="next"?e.slideNext():q==="previous"?e.slidePrev():e.slideToLoop(G)}else e.slideTo(G)}function E(){const P=e.rtl,D=e.params.pagination;if(p())return;let G=e.pagination.el;G=sr(G);let q,ee;const M=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,C=e.params.loop?Math.ceil(M/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(ee=e.previousRealIndex||0,q=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(q=e.snapIndex,ee=e.previousSnapIndex):(ee=e.previousIndex||0,q=e.activeIndex||0),D.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const I=e.pagination.bullets;let O,k,V;if(D.dynamicBullets&&(c=Qm(I[0],e.isHorizontal()?"width":"height"),G.forEach(A=>{A.style[e.isHorizontal()?"width":"height"]=`${c*(D.dynamicMainBullets+4)}px`}),D.dynamicMainBullets>1&&ee!==void 0&&(f+=q-(ee||0),f>D.dynamicMainBullets-1?f=D.dynamicMainBullets-1:f<0&&(f=0)),O=Math.max(q-f,0),k=O+(Math.min(I.length,D.dynamicMainBullets)-1),V=(k+O)/2),I.forEach(A=>{const de=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(fe=>`${D.bulletActiveClass}${fe}`)].map(fe=>typeof fe=="string"&&fe.includes(" ")?fe.split(" "):fe).flat();A.classList.remove(...de)}),G.length>1)I.forEach(A=>{const de=hf(A);de===q?A.classList.add(...D.bulletActiveClass.split(" ")):e.isElement&&A.setAttribute("part","bullet"),D.dynamicBullets&&(de>=O&&de<=k&&A.classList.add(...`${D.bulletActiveClass}-main`.split(" ")),de===O&&m(A,"prev"),de===k&&m(A,"next"))});else{const A=I[q];if(A&&A.classList.add(...D.bulletActiveClass.split(" ")),e.isElement&&I.forEach((de,fe)=>{de.setAttribute("part",fe===q?"bullet-active":"bullet")}),D.dynamicBullets){const de=I[O],fe=I[k];for(let $=O;$<=k;$+=1)I[$]&&I[$].classList.add(...`${D.bulletActiveClass}-main`.split(" "));m(de,"prev"),m(fe,"next")}}if(D.dynamicBullets){const A=Math.min(I.length,D.dynamicMainBullets+4),de=(c*A-c)/2-V*c,fe=P?"right":"left";I.forEach($=>{$.style[e.isHorizontal()?fe:"top"]=`${de}px`})}}G.forEach((I,O)=>{if(D.type==="fraction"&&(I.querySelectorAll(Jl(D.currentClass)).forEach(k=>{k.textContent=D.formatFractionCurrent(q+1)}),I.querySelectorAll(Jl(D.totalClass)).forEach(k=>{k.textContent=D.formatFractionTotal(C)})),D.type==="progressbar"){let k;D.progressbarOpposite?k=e.isHorizontal()?"vertical":"horizontal":k=e.isHorizontal()?"horizontal":"vertical";const V=(q+1)/C;let A=1,de=1;k==="horizontal"?A=V:de=V,I.querySelectorAll(Jl(D.progressbarFillClass)).forEach(fe=>{fe.style.transform=`translate3d(0,0,0) scaleX(${A}) scaleY(${de})`,fe.style.transitionDuration=`${e.params.speed}ms`})}D.type==="custom"&&D.renderCustom?(I.innerHTML=D.renderCustom(e,q+1,C),O===0&&a("paginationRender",I)):(O===0&&a("paginationRender",I),a("paginationUpdate",I)),e.params.watchOverflow&&e.enabled&&I.classList[e.isLocked?"add":"remove"](D.lockClass)})}function S(){const P=e.params.pagination;if(p())return;const D=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let G=e.pagination.el;G=sr(G);let q="";if(P.type==="bullets"){let ee=e.params.loop?Math.ceil(D/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&ee>D&&(ee=D);for(let M=0;M<ee;M+=1)P.renderBullet?q+=P.renderBullet.call(e,M,P.bulletClass):q+=`<${P.bulletElement} ${e.isElement?'part="bullet"':""} class="${P.bulletClass}"></${P.bulletElement}>`}P.type==="fraction"&&(P.renderFraction?q=P.renderFraction.call(e,P.currentClass,P.totalClass):q=`<span class="${P.currentClass}"></span> / <span class="${P.totalClass}"></span>`),P.type==="progressbar"&&(P.renderProgressbar?q=P.renderProgressbar.call(e,P.progressbarFillClass):q=`<span class="${P.progressbarFillClass}"></span>`),e.pagination.bullets=[],G.forEach(ee=>{P.type!=="custom"&&(ee.innerHTML=q||""),P.type==="bullets"&&e.pagination.bullets.push(...ee.querySelectorAll(Jl(P.bulletClass)))}),P.type!=="custom"&&a("paginationRender",G[0])}function R(){e.params.pagination=RV(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const P=e.params.pagination;if(!P.el)return;let D;typeof P.el=="string"&&e.isElement&&(D=e.el.querySelector(P.el)),!D&&typeof P.el=="string"&&(D=[...document.querySelectorAll(P.el)]),D||(D=P.el),!(!D||D.length===0)&&(e.params.uniqueNavElements&&typeof P.el=="string"&&Array.isArray(D)&&D.length>1&&(D=[...e.el.querySelectorAll(P.el)],D.length>1&&(D=D.find(G=>TS(G,".swiper")[0]===e.el))),Array.isArray(D)&&D.length===1&&(D=D[0]),Object.assign(e.pagination,{el:D}),D=sr(D),D.forEach(G=>{P.type==="bullets"&&P.clickable&&G.classList.add(...(P.clickableClass||"").split(" ")),G.classList.add(P.modifierClass+P.type),G.classList.add(e.isHorizontal()?P.horizontalClass:P.verticalClass),P.type==="bullets"&&P.dynamicBullets&&(G.classList.add(`${P.modifierClass}${P.type}-dynamic`),f=0,P.dynamicMainBullets<1&&(P.dynamicMainBullets=1)),P.type==="progressbar"&&P.progressbarOpposite&&G.classList.add(P.progressbarOppositeClass),P.clickable&&G.addEventListener("click",_),e.enabled||G.classList.add(P.lockClass)}))}function H(){const P=e.params.pagination;if(p())return;let D=e.pagination.el;D&&(D=sr(D),D.forEach(G=>{G.classList.remove(P.hiddenClass),G.classList.remove(P.modifierClass+P.type),G.classList.remove(e.isHorizontal()?P.horizontalClass:P.verticalClass),P.clickable&&(G.classList.remove(...(P.clickableClass||"").split(" ")),G.removeEventListener("click",_))})),e.pagination.bullets&&e.pagination.bullets.forEach(G=>G.classList.remove(...P.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const P=e.params.pagination;let{el:D}=e.pagination;D=sr(D),D.forEach(G=>{G.classList.remove(P.horizontalClass,P.verticalClass),G.classList.add(e.isHorizontal()?P.horizontalClass:P.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?U():(R(),S(),E())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&E()}),r("snapIndexChange",()=>{E()}),r("snapGridLengthChange",()=>{S(),E()}),r("destroy",()=>{H()}),r("enable disable",()=>{let{el:P}=e.pagination;P&&(P=sr(P),P.forEach(D=>D.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{E()}),r("click",(P,D)=>{const G=D.target,q=sr(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&q&&q.length>0&&!G.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&G===e.navigation.nextEl||e.navigation.prevEl&&G===e.navigation.prevEl))return;const ee=q[0].classList.contains(e.params.pagination.hiddenClass);a(ee===!0?"paginationShow":"paginationHide"),q.forEach(M=>M.classList.toggle(e.params.pagination.hiddenClass))}});const j=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:P}=e.pagination;P&&(P=sr(P),P.forEach(D=>D.classList.remove(e.params.pagination.paginationDisabledClass))),R(),S(),E()},U=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:P}=e.pagination;P&&(P=sr(P),P.forEach(D=>D.classList.add(e.params.pagination.paginationDisabledClass))),H()};Object.assign(e.pagination,{enable:j,disable:U,render:S,update:E,init:R,destroy:H})}function IV(n){const{effect:e,swiper:t,on:r,setTranslate:a,setTransition:l,overwriteParams:c,perspective:f,recreateShadows:p,getEffectParams:m}=n;r("beforeInit",()=>{if(t.params.effect!==e)return;t.classNames.push(`${t.params.containerModifierClass}${e}`),f&&f()&&t.classNames.push(`${t.params.containerModifierClass}3d`);const _=c?c():{};Object.assign(t.params,_),Object.assign(t.originalParams,_)}),r("setTranslate",()=>{t.params.effect===e&&a()}),r("setTransition",(_,E)=>{t.params.effect===e&&l(E)}),r("transitionEnd",()=>{if(t.params.effect===e&&p){if(!m||!m().slideShadows)return;t.slides.forEach(_=>{_.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(E=>E.remove())}),p()}});let y;r("virtualUpdate",()=>{t.params.effect===e&&(t.slides.length||(y=!0),requestAnimationFrame(()=>{y&&t.slides&&t.slides.length&&(a(),y=!1)}))})}function NV(n,e){const t=ty(e);return t!==e&&(t.style.backfaceVisibility="hidden",t.style["-webkit-backface-visibility"]="hidden"),t}function OV(n){let{swiper:e,duration:t,transformElements:r,allSlides:a}=n;const{activeIndex:l}=e,c=f=>f.parentElement?f.parentElement:e.slides.find(m=>m.shadowRoot&&m.shadowRoot===f.parentNode);if(e.params.virtualTranslate&&t!==0){let f=!1,p;a?p=r:p=r.filter(m=>{const y=m.classList.contains("swiper-slide-transform")?c(m):m;return e.getSlideIndex(y)===l}),p.forEach(m=>{lk(m,()=>{if(f||!e||e.destroyed)return;f=!0,e.animating=!1;const y=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});e.wrapperEl.dispatchEvent(y)})})}}function DV(n,e,t){const r=`swiper-slide-shadow${` swiper-slide-shadow-${n}`}`,a=ty(e);let l=a.querySelector(`.${r.split(" ").join(".")}`);return l||(l=wu("div",r.split(" ")),a.append(l)),l}function MV(n){let{swiper:e,extendParams:t,on:r}=n;t({cardsEffect:{slideShadows:!0,rotate:!0,perSlideRotate:2,perSlideOffset:8}}),IV({effect:"cards",swiper:e,on:r,setTranslate:()=>{const{slides:c,activeIndex:f,rtlTranslate:p}=e,m=e.params.cardsEffect,{startTranslate:y,isTouched:_}=e.touchEventsData,E=p?-e.translate:e.translate;for(let S=0;S<c.length;S+=1){const R=c[S],H=R.progress,j=Math.min(Math.max(H,-4),4);let U=R.swiperSlideOffset;e.params.centeredSlides&&!e.params.cssMode&&(e.wrapperEl.style.transform=`translateX(${e.minTranslate()}px)`),e.params.centeredSlides&&e.params.cssMode&&(U-=c[0].swiperSlideOffset);let P=e.params.cssMode?-U-e.translate:-U,D=0;const G=-100*Math.abs(j);let q=1,ee=-m.perSlideRotate*j,M=m.perSlideOffset-Math.abs(j)*.75;const C=e.virtual&&e.params.virtual.enabled?e.virtual.from+S:S,I=(C===f||C===f-1)&&j>0&&j<1&&(_||e.params.cssMode)&&E<y,O=(C===f||C===f+1)&&j<0&&j>-1&&(_||e.params.cssMode)&&E>y;if(I||O){const de=(1-Math.abs((Math.abs(j)-.5)/.5))**.5;ee+=-28*j*de,q+=-.5*de,M+=96*de,D=`${-25*de*Math.abs(j)}%`}if(j<0?P=`calc(${P}px ${p?"-":"+"} (${M*Math.abs(j)}%))`:j>0?P=`calc(${P}px ${p?"-":"+"} (-${M*Math.abs(j)}%))`:P=`${P}px`,!e.isHorizontal()){const de=D;D=P,P=de}const k=j<0?`${1+(1-q)*j}`:`${1-(1-q)*j}`,V=`
        translate3d(${P}, ${D}, ${G}px)
        rotateZ(${m.rotate?p?-ee:ee:0}deg)
        scale(${k})
      `;if(m.slideShadows){let de=R.querySelector(".swiper-slide-shadow");de||(de=DV("cards",R)),de&&(de.style.opacity=Math.min(Math.max((Math.abs(j)-.5)/.5,0),1))}R.style.zIndex=-Math.abs(Math.round(H))+c.length;const A=NV(m,R);A.style.transform=V}},setTransition:c=>{const f=e.slides.map(p=>ty(p));f.forEach(p=>{p.style.transitionDuration=`${c}ms`,p.querySelectorAll(".swiper-slide-shadow").forEach(m=>{m.style.transitionDuration=`${c}ms`})}),OV({swiper:e,duration:c,transformElements:f})},perspective:()=>!0,overwriteParams:()=>({_loopSwapReset:!1,watchSlidesProgress:!0,loopAdditionalSlides:e.params.cardsEffect.rotate?3:2,centeredSlides:!0,virtualTranslate:!e.params.cssMode})})}function gT(){var M,C,I,O,k;const{id:n}=K1(),{addToCart:e}=_a(),[t,r]=L.useState(null),[a,l]=L.useState(!0),[c,f]=L.useState(1),[p,m]=L.useState([]),[y,_]=L.useState([]),S=lS().currentUser;L.useEffect(()=>{(async()=>{try{const A=Jt(dt,"products",n),de=await da(A);if(de.exists()){const fe=de.data();r(fe)}}catch(A){console.error("Error fetching product:",A)}finally{l(!1)}})()},[n]);const R={Sudan:"SDG",Egypt:"EGP",KSA:"SAR"},H=((M=t==null?void 0:t.availableInCountries)==null?void 0:M.length)>0?t.availableInCountries[0]:"KSA",j=R[H]||"USD",U=t?Number(t.price)*c:0,P=(t==null?void 0:t.category)==="شرابات"||(t==null?void 0:t.category)==="اكسسوارات",D=V=>{m(A=>A.includes(V)?A.filter(de=>de!==V):[...A,V])},G=V=>{_(A=>A.includes(V)?A.filter(de=>de!==V):[...A,V])},q=()=>{var A;if(!P&&!p.length||!y.length){Zt("اختر المقاس واللون أولاً.",{icon:"⚠️"});return}const V={id:`${t.name}-${Date.now()}`,name:t.name,price:Number(t.price),image:(A=t.imageUrls)==null?void 0:A[0],quantity:c,selectedSizes:p,selectedColors:y};e(V)},ee=async()=>{var V;if(!S){Zt.error("سجّل الدخول لحفظ المفضلة.");return}try{const A=Jt(dt,"users",S.uid);if(!(await da(A)).exists()){Zt.error("لم يتم العثور على المستخدم.");return}await Jd(A,{favorites:rO({id:n,name:t.name,image:(V=t.imageUrls)==null?void 0:V[0],price:t.price})}),Zt.success("تمت إضافة المنتج إلى المفضلة!")}catch(A){console.error(A),Zt.error("فشل في الإضافة إلى المفضلة.")}};return a?w.jsx("div",{className:"flex justify-center items-center min-h-[60vh]",children:w.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-4 border-black"})}):t?w.jsxs("div",{className:"min-h-screen bg-[#f9f9f9] text-gray-800 pb-36 px-4 pt-4 space-y-6",dir:"rtl",children:[w.jsx("button",{onClick:()=>window.history.back(),className:"absolute top-4 left-4 bg-white shadow p-2 rounded-full z-10",children:w.jsx(Yx,{size:20})}),w.jsx("div",{className:"rounded-xl overflow-hidden bg-white shadow-md",children:w.jsx(PS,{pagination:{clickable:!0},modules:[MV,CV],className:"h-[300px]",children:(C=t.imageUrls)==null?void 0:C.map((V,A)=>w.jsx(kS,{children:w.jsx("img",{src:V,alt:"",className:"w-full h-full object-contain bg-white"})},A))})}),w.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-md relative",children:[w.jsx("button",{onClick:ee,className:"absolute left-4 top-4 text-red-500",title:"إضافة إلى المفضلة",children:w.jsx(Ru,{size:22})}),w.jsx("h1",{className:"text-xl font-bold text-center",children:t.name}),w.jsxs("p",{className:"text-center text-blue-600 font-semibold mt-1",children:[j," ",U.toFixed(2)]})]}),!P&&w.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-md",children:[w.jsx("h3",{className:"font-semibold text-sm mb-2 text-center",children:"المقاس"}),w.jsx("div",{className:"flex gap-3 overflow-x-auto scrollbar-hide justify-center",children:(I=t.sizes)==null?void 0:I.map((V,A)=>w.jsx("button",{onClick:()=>D(V),className:`w-9 h-9 rounded-full border font-semibold text-sm transition ${p.includes(V)?"bg-blue-600 text-white":"bg-white border-gray-300 text-gray-700"}`,children:V},A))})]}),w.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-md",children:[w.jsx("h3",{className:"font-semibold text-sm mb-2 text-center",children:"اللون"}),w.jsx("div",{className:"flex gap-3 overflow-x-auto scrollbar-hide justify-center",children:(O=t.colors)==null?void 0:O.map((V,A)=>w.jsx("button",{onClick:()=>G(V),className:`w-9 h-9 rounded-full border-2 ${y.includes(V)?"outline outline-2 outline-offset-2 outline-blue-600":"border-gray-300"}`,style:{backgroundColor:V}},A))})]}),w.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-md flex justify-between items-center",children:[w.jsx("p",{className:"font-semibold",children:"الكمية"}),w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("button",{onClick:()=>f(V=>Math.max(1,V-1)),className:"w-8 h-8 rounded-full bg-gray-200 text-lg font-bold",children:"-"}),w.jsx("span",{children:c}),w.jsx("button",{onClick:()=>{if(c>=10){Zt("اتصل بنا للطلبات الخاصة",{icon:"📞"});return}f(V=>V+1)},className:"w-8 h-8 rounded-full bg-gray-200 text-lg font-bold",children:"+"})]})]}),w.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-md",children:[w.jsx("h3",{className:"text-sm font-bold mb-1",children:"الوصف"}),w.jsx("p",{className:"text-sm text-gray-600",children:(k=t.description)==null?void 0:k.slice(0,150)})]}),w.jsx("div",{className:"fixed bottom-3 left-4 right-4 z-50",children:w.jsxs("button",{onClick:q,className:"w-full py-3 bg-blue-600 text-white rounded-full flex items-center justify-center gap-2 text-sm font-bold shadow-lg",children:[w.jsx(Cu,{size:18}),"أضف للسلة"]})})]}):w.jsx("div",{children:"Product not found"})}const PV=["Sudan","KSA","Egypt"],kV=()=>{const[n,e]=L.useState([]),[t,r]=L.useState([]),[a,l]=L.useState("products"),[c,f]=L.useState(!1),[p,m]=L.useState(""),[y,_]=L.useState(""),[E,S]=L.useState(""),[R,H]=L.useState(""),[j,U]=L.useState([]),[P,D]=L.useState(""),[G,q]=L.useState(""),[ee,M]=L.useState(0),[C,I]=L.useState(0),[O,k]=L.useState([]),V=Er();L.useEffect(()=>{const W=async()=>{const pe=await Tu(oa(dt,"products"));e(pe.docs.map(z=>({id:z.id,...z.data()})))},ce=async()=>{const pe=await Tu(oa(dt,"orders"));r(pe.docs.map(z=>({id:z.id,...z.data()})))};W(),ce()},[]);const A=async W=>{if(W.preventDefault(),!p||!y||!R||!E||j.length===0||O.length===0){alert("يرجى تعبئة جميع الحقول");return}try{const ce=[];for(const pe of j){const z=new FormData;z.append("file",pe),z.append("upload_preset","mutarafupload");const se=await(await fetch("https://api.cloudinary.com/v1_1/dhsjfpu3p/image/upload",{method:"POST",body:z})).json();ce.push(se.secure_url)}await Cw(oa(dt,"products"),{name:p,price:y,description:E,category:R,imageUrls:ce,soldCount:ee,rating:C,colors:P.split(",").map(pe=>pe.trim()),sizes:G.split(",").map(pe=>pe.trim()),availableInCountries:O}),alert("✅ تم إضافة المنتج بنجاح"),m(""),_(""),S(""),H(""),U([]),D(""),q(""),M(0),I(0),k([])}catch(ce){alert("❌ حدث خطأ أثناء رفع الصور"),console.error(ce)}},de=async W=>{await Hm(Jt(dt,"products",W)),e(n.filter(ce=>ce.id!==W))},fe=async W=>{await Hm(Jt(dt,"orders",W)),r(t.filter(ce=>ce.id!==W))},$=W=>{V(`/product-details/${W}`)};return w.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",dir:"rtl",children:[w.jsx("h1",{className:"text-3xl font-bold mb-6 text-center",children:"لوحة التحكم"}),w.jsxs("div",{className:"flex justify-center gap-4 mb-6",children:[w.jsx("button",{onClick:()=>l("products"),className:`px-6 py-2 rounded font-semibold ${a==="products"?"bg-black text-white":"bg-gray-200 text-gray-800"}`,children:"إدارة المنتجات"}),w.jsx("button",{onClick:()=>l("orders"),className:`px-6 py-2 rounded font-semibold ${a==="orders"?"bg-black text-white":"bg-gray-200 text-gray-800"}`,children:"إدارة الطلبات"})]}),a==="products"&&w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"flex justify-center mb-4",children:w.jsx("button",{onClick:()=>f(!c),className:"bg-green-600 text-white px-6 py-2 rounded font-semibold hover:bg-green-700 transition",children:c?"إخفاء النموذج":"إضافة منتج جديد"})}),c&&w.jsxs("form",{onSubmit:A,className:"space-y-4 bg-white p-6 rounded-lg shadow-md max-w-2xl mx-auto mb-6",children:[w.jsx("input",{type:"text",placeholder:"اسم المنتج",value:p,onChange:W=>m(W.target.value),className:"border p-2 w-full rounded"}),w.jsx("input",{type:"text",placeholder:"السعر",value:y,onChange:W=>_(W.target.value),className:"border p-2 w-full rounded"}),w.jsx("textarea",{placeholder:"وصف المنتج",value:E,onChange:W=>S(W.target.value),className:"border p-2 w-full rounded"}),w.jsx("input",{type:"text",placeholder:"التصنيف",value:R,onChange:W=>H(W.target.value),className:"border p-2 w-full rounded"}),w.jsx("input",{type:"text",placeholder:"الألوان (مثال: أحمر, أسود)",value:P,onChange:W=>D(W.target.value),className:"border p-2 w-full rounded"}),w.jsx("input",{type:"text",placeholder:"المقاسات (مثال: 41, 42)",value:G,onChange:W=>q(W.target.value),className:"border p-2 w-full rounded"}),w.jsxs("div",{children:[w.jsx("p",{className:"mb-2 font-semibold",children:"الدول المتاحة:"}),w.jsx("div",{className:"flex gap-4",children:PV.map(W=>w.jsxs("label",{className:"flex items-center gap-1",children:[w.jsx("input",{type:"checkbox",checked:O.includes(W),onChange:ce=>{k(pe=>ce.target.checked?[...pe,W]:pe.filter(z=>z!==W))}}),w.jsx("span",{children:W})]},W))})]}),w.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:W=>U(Array.from(W.target.files)),className:"border p-2 w-full rounded"}),w.jsx("button",{type:"submit",className:"bg-black text-white w-full py-2 rounded",children:"إضافة المنتج"})]}),w.jsxs("div",{className:"max-w-4xl mx-auto bg-white p-6 rounded-lg shadow",children:[w.jsx("h2",{className:"text-xl font-semibold mb-4",children:"قائمة المنتجات"}),w.jsx("ul",{className:"space-y-4",children:n.map(W=>{var ce,pe;return w.jsxs("li",{className:"flex justify-between items-center border-b pb-3",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("img",{src:((ce=W.imageUrls)==null?void 0:ce[0])||"",alt:W.name,className:"w-16 h-16 object-cover rounded"}),w.jsxs("div",{children:[w.jsx("p",{className:"font-bold",children:W.name}),w.jsxs("p",{className:"text-sm text-gray-500",children:["₪",W.price," - ",W.category]}),w.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["الدول: ",((pe=W.availableInCountries)==null?void 0:pe.join(", "))||"-"]})]})]}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx("button",{onClick:()=>$(W.id),className:"text-blue-600 hover:underline",children:w.jsx(tR,{})}),w.jsx("button",{onClick:()=>de(W.id),className:"text-red-500 mr-3 hover:underline",children:w.jsx(So,{})})]})]},W.id)})})]})]}),a==="orders"&&w.jsxs("div",{className:"max-w-5xl mx-auto bg-white p-6 rounded-lg shadow",children:[w.jsx("h2",{className:"text-xl font-semibold mb-4",children:"قائمة الطلبات"}),t.length===0?w.jsx("p",{className:"text-center text-gray-400",children:"لا توجد طلبات حالياً."}):w.jsx("ul",{className:"space-y-6",children:t.map(W=>{var ce,pe,z,te;return w.jsxs("li",{className:"border-b pb-6 flex flex-col gap-3",children:[w.jsxs("div",{className:"flex justify-between items-start",children:[w.jsxs("div",{className:"text-sm space-y-1",children:[w.jsxs("p",{children:[w.jsx("strong",{children:"الاسم:"})," ",W.name]}),w.jsxs("p",{children:[w.jsx("strong",{children:"التاريخ:"})," ",(ce=W.createdAt)==null?void 0:ce.toDate().toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]}),w.jsxs("p",{children:[w.jsx("strong",{children:"الهاتف:"})," ",W.phone]}),w.jsxs("p",{children:[w.jsx("strong",{children:"العنوان:"})," ",w.jsx("a",{href:(pe=W.address)==null?void 0:pe.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:(z=W.address)==null?void 0:z.label})]}),w.jsxs("p",{children:[w.jsx("strong",{children:"الدفع:"})," ",W.paymentMethod]}),w.jsxs("p",{children:[w.jsx("strong",{children:"الإجمالي:"})," ",W.total," ",W.currency]})]}),w.jsx("button",{onClick:()=>fe(W.id),className:"text-red-500 hover:underline",children:w.jsx(So,{})})]}),w.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mt-2",children:(te=W.cartItems)==null?void 0:te.map((se,ue)=>{var ye,Ie;return w.jsxs("div",{className:"flex items-center gap-3 border p-2 rounded",children:[w.jsx("img",{src:se.image,alt:se.name,className:"w-14 h-14 object-cover rounded border"}),w.jsxs("div",{className:"text-sm space-y-1",children:[w.jsx("p",{className:"font-bold",children:se.name}),w.jsxs("p",{children:["الكمية: ",se.quantity]}),w.jsxs("p",{children:["المقاس: ",(ye=se.selectedSizes)==null?void 0:ye.join(", ")]}),w.jsxs("div",{className:"flex items-center gap-1",children:["الألوان:"," ",(Ie=se.selectedColors)==null?void 0:Ie.map((Ae,gt)=>w.jsx("span",{className:"w-3 h-3 rounded-full inline-block border",style:{backgroundColor:Ae}},gt))]})]})]},ue)})})]},W.id)})})]})]})};function VV(){const{cartItems:n,isCartOpen:e,setIsCartOpen:t,removeItem:r}=_a(),[a,l]=L.useState(!1),c=Er(),f=n.reduce((_,E)=>_+E.quantity*parseFloat(E.price),0),[p,m]=L.useState("SAR");L.useEffect(()=>{const _=localStorage.getItem("shippingCountry");m(_?(S=>{switch(S){case"EGY":return"EGP";case"SA":case"SAU":return"SAR";case"SDN":return"SDG";default:return"SAR"}})(_):"SAR")},[]);const y=async()=>{if(!fn.currentUser){Zt.error("يرجى تسجيل الدخول أولاً."),c("/auth");return}try{t(!1),c("/checkout")}catch(E){console.error("فشل التحقق من العناوين:",E),Zt.error("حدث خطأ أثناء التحقق من العنوان.")}};return a&&AddressModal,w.jsxs("div",{className:`fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2
        h-[80vh] border-2 border-blue-500/20 w-[75vw] bg-white rounded-3xl shadow-2xl shadow-blue-500/50 p-4 z-50
        transition-transform duration-300 ease-in-out
        ${e?"scale-100 opacity-100":"scale-90 opacity-0 pointer-events-none"}`,dir:"rtl",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsx("h2",{className:"text-xl font-bold",children:"سلة التسوق"}),w.jsx("button",{onClick:()=>t(!1),children:w.jsx(PT,{})})]}),w.jsx("div",{className:"flex-1 overflow-y-auto max-h-[calc(100vh-180px)] space-y-4 pr-1",children:n.length===0?w.jsxs("div",{className:"flex flex-col items-center justify-center py-10 text-gray-500 space-y-4",children:[w.jsx("img",{src:"https://res.cloudinary.com/dhsjfpu3p/image/upload/v1750246226/ChatGPT_Image_Jun_18_2025_02_29_09_PM_hya6lj.png",alt:"Cart is empty",className:"w-40 h-auto opacity-90"}),w.jsx("p",{className:"text-lg font-semibold",children:"سلة التسوق فارغة"})]}):n.map(_=>w.jsxs("div",{className:"flex items-center gap-3 p-3 border border-gray-200 rounded-2xl shadow-sm hover:shadow-md transition",children:[w.jsx("img",{src:_.image,alt:_.name,className:"w-16 h-16 rounded-xl object-cover border"}),w.jsxs("div",{className:"flex-1",children:[w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsx("p",{className:"text-sm font-semibold",children:_.name}),w.jsx("button",{onClick:()=>r(_.id),children:w.jsx(So,{size:18,className:"text-red-500 hover:text-red-700"})})]}),w.jsxs("div",{className:"text-xs text-gray-600 mt-1 space-y-1",children:[w.jsxs("div",{children:["الكمية:"," ",w.jsx("span",{className:"font-semibold",children:_.quantity})]}),_.selectedSizes.length>0&&w.jsxs("div",{children:["المقاس: ",_.selectedSizes.join(", ")]}),_.selectedColors.length>0&&w.jsxs("div",{className:"flex items-center gap-1",children:[w.jsx("span",{children:"الألوان:"}),_.selectedColors.map((E,S)=>w.jsx("span",{className:"inline-block w-4 h-4 rounded-full border border-gray-300",style:{backgroundColor:E},title:E},S))]})]})]})]},_.id))}),n.length>0&&w.jsxs("div",{className:"mt-4",children:[w.jsxs("div",{className:"text-lg font-bold text-black text-center",children:["الإجمالي: ",f.toFixed(2)," ",p]}),w.jsx("button",{className:"w-full mt-3 bg-black text-white py-2 rounded-lg font-semibold",onClick:y,children:"تأكيد الطلب"})]})]})}function LV(){const[n,e]=L.useState(!1),[t,r]=L.useState([]),{openCart:a}=_a();L.useEffect(()=>{l()},[]);const l=async()=>{var p;const f=fn.currentUser;if(f)try{const y=((p=(await da(Jt(dt,"users",f.uid))).data())==null?void 0:p.favorites)||[];r(y)}catch(m){console.error("Error fetching favorites:",m)}},c=async f=>{var m;const p=fn.currentUser;if(p)try{const y=Jt(dt,"users",p.uid),S=(((m=(await da(y)).data())==null?void 0:m.favorites)||[]).filter(R=>R.id!==f);await Jd(y,{favorites:S}),r(S)}catch(y){console.error("Error removing favorite:",y)}};return w.jsxs("div",{children:[w.jsxs("div",{dir:"rtl",className:"flex items-center w-full px-4 py-2 bg-white shadow-md",children:[w.jsx("button",{className:"border-2 rounded-xl p-1 ml-2",children:w.jsx(yf,{className:"w-8 h-8 p-1",onClick:()=>e(f=>!f)})}),w.jsx("div",{className:"flex-1 text-center text-xl font-bold",children:"المفضلة ❤️"}),w.jsx("button",{className:"border-2 rounded-xl p-1 m-2 mr-auto",onClick:a,children:w.jsx(Cu,{className:"w-8 h-8 p-1"})}),w.jsx(Hf,{visible:n,onClose:()=>e(!1)})]}),t.length>0?w.jsx("div",{className:"px-4 py-6 grid grid-cols-2 md:grid-cols-4 gap-4",dir:"rtl",children:t.map(f=>w.jsxs("div",{className:"relative space-y-2",children:[w.jsx(hS,{product:f}),w.jsxs("button",{onClick:()=>c(f.id),className:"w-full bg-red-100 hover:bg-red-200 text-red-600 text-sm py-1 rounded flex items-center justify-center gap-2",children:[w.jsx(So,{size:16}),"إزالة من المفضلة"]})]},f.id))}):w.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-gray-500 text-center space-y-4",children:[w.jsx("img",{src:"https://res.cloudinary.com/dhsjfpu3p/image/upload/v1750235636/ChatGPT_Image_Jun_18_2025_11_32_07_AM_rcs9bv.png",alt:"لا يوجد مفضلة",className:"w-60 h-auto opacity-80"}),w.jsx("p",{className:"text-lg font-semibold",children:"لا توجد عناصر في المفضلة حالياً."})]})]})}function jV(){const{cartItems:n,removeItem:e,clearCart:t}=_a(),[r,a]=L.useState(!1),l=Er(),[c,f]=L.useState([]),[p,m]=L.useState(null),[y,_]=L.useState({name:"",phone:""}),[E,S]=L.useState("KSA"),[R,H]=L.useState(""),[j,U]=L.useState("SAR");L.useEffect(()=>{const q=fn.currentUser;q&&da(Jt(dt,"users",q.uid)).then(ee=>{const M=ee.data();_({name:M.displayName||"مستخدم",phone:M.phoneNumber||""}),f(M.addresses||[])})},[]),L.useEffect(()=>{const q=localStorage.getItem("shippingCountry"),ee=M=>{switch(M){case"EGY":return{country:"Egypt",currency:"EGP"};case"SA":case"SAU":return{country:"KSA",currency:"SAR"};case"SDN":return{country:"Sudan",currency:"SDG"};default:return{country:"KSA",currency:"SAR"}}};if(q){const{country:M,currency:C}=ee(q);S(M),U(C)}else S("KSA"),U("SAR")},[]);const P=()=>{switch(E){case"Egypt":return["الدفع عند الاستلام","فودافون كاش"];case"KSA":return["الدفع عند الاستلام","مدى","STC Pay"];case"Sudan":return["الدفع عند الاستلام"];default:return["الدفع عند الاستلام"]}},D=n.reduce((q,ee)=>q+ee.quantity*parseFloat(ee.price),0),G=async()=>{if(!y.phone){Zt.error("يرجى اضافة رقم هاتف");return}if(!p){Zt.error("يرجر التحقق من عنوانك المسجل"),console.log(r),a(!0);return}try{const q={cartItems:n,name:y.name,phone:y.phone,address:p,paymentMethod:R,total:D,currency:j,createdAt:new Date};if(await Cw(oa(dt,"orders"),q),R==="فودافون كاش"){let ee="";n.forEach((k,V)=>{ee+=`
${V+1}. ${k.name} × ${k.quantity}
المقاسات: ${k.selectedSizes.join(", ")}
الألوان: ${k.selectedColors.join(", ")}`});const M=`
🛍️ *طلب جديد - فوري*
الاسم: ${y.name}
📞 الهاتف: ${y.phone}
📍 العنوان: ${p==null?void 0:p.label}
💰 الإجمالي: ${D.toFixed(2)} ${j}
💳 الدفع: ${R}
📦 المنتجات:${ee}
      `.trim(),C="966575626225",I=encodeURIComponent(M),O=`https://wa.me/${C}?text=${I}`;window.open(O,"_blank"),Zt.info("📨 يرجى تأكيد الدفع على واتساب")}Zt.success("✅ تم إرسال الطلب بنجاح!"),t(),l("/")}catch(q){console.error("❌ فشل إرسال الطلب:",q),Zt.error("حدث خطأ أثناء إرسال الطلب. حاول مجددًا.")}};return w.jsxs("div",{className:"max-w-2xl mx-auto p-4 space-y-6 text-right",dir:"rtl",children:[w.jsx("h1",{className:"text-2xl font-bold",children:"إتمام الشراء"}),w.jsx("div",{className:"space-y-3",children:n.map(q=>w.jsxs("div",{className:"flex justify-between items-center p-2 border rounded-lg",children:[w.jsxs("div",{children:[w.jsx("p",{className:"font-semibold",children:q.name}),w.jsxs("p",{className:"text-sm text-gray-500",children:["الكمية: ",q.quantity]}),w.jsxs("p",{className:"text-sm text-gray-500",children:["المقاس: ",q.selectedSizes.join(", ")," - الألوان:",q.selectedColors.map((ee,M)=>w.jsx("span",{className:"inline-block w-3 h-3 rounded-full mx-1",style:{backgroundColor:ee}},M))]})]}),w.jsx("button",{onClick:()=>e(q.id),children:w.jsx(So,{className:"text-red-500"})})]},q.id))}),w.jsxs("div",{children:[w.jsx("h2",{className:"font-bold text-lg mb-1",children:"اختر عنوان التوصيل:"}),w.jsxs("select",{className:"w-full border p-2 rounded",onChange:q=>{const ee=parseInt(q.target.value);m(c[ee])},children:[w.jsx("option",{children:"اختر عنواناً"}),c.map((q,ee)=>w.jsx("option",{value:ee,children:q.label},ee))]})]}),r&&w.jsx(vS,{onClose:()=>{a(!1),setTimeout(()=>l("/"),300),Zt.success("تم اضافة العنوان توجه لتاكيد طلبك")}}),w.jsxs("div",{children:[w.jsx("h2",{className:"font-bold text-lg mb-1",children:"طريقة الدفع:"}),w.jsxs("select",{className:"w-full border p-2 rounded",onChange:q=>H(q.target.value),children:[w.jsx("option",{children:"اختر طريقة الدفع"}),P().map((q,ee)=>w.jsx("option",{value:q,children:q},ee))]})]}),w.jsxs("div",{className:"bg-gray-50 p-3 rounded space-y-1 text-sm text-gray-700",children:[w.jsxs("div",{children:["الاسم: ",w.jsx("b",{children:y.name})]}),w.jsxs("div",{children:["رقم الهاتف: ",w.jsx("b",{children:y.phone||"غير مضاف"})]}),w.jsxs("div",{children:["الدولة: ",w.jsx("b",{children:E})]})]}),w.jsxs("div",{className:"text-lg font-bold text-center text-black",children:["الإجمالي: ",D.toFixed(2)," ",j]}),w.jsx("button",{onClick:G,className:"w-full bg-black text-white py-3 rounded-lg font-semibold",children:"إكمال الطلب"})]})}function UV(){return w.jsx(nP,{children:w.jsxs(Dx,{basename:"/Mutaraf",children:[w.jsx(XP,{position:"top-center"}),w.jsx(zV,{})]})})}function zV(){const n=_r(),e=Er(),t=n.pathname,r=[{id:"home",icon:w.jsx(sg,{}),path:"/"},{id:"search",icon:w.jsx(pu,{}),path:"/search"},{id:"favs",icon:w.jsx(Ru,{}),path:"/favs"},{id:"user",icon:w.jsx(jd,{}),path:"/user"}],l=["/product-details","/admin-dashboard"].some(c=>t.startsWith(c));return w.jsxs("div",{className:"min-h-screen pb-16",dir:"rtl",children:[w.jsx(VV,{}),w.jsxs(lx,{children:[w.jsx(gi,{path:"/product/:id",element:w.jsx(gT,{})}),w.jsx(gi,{path:"/",element:w.jsx(rP,{})}),w.jsx(gi,{path:"/search",element:w.jsx(sP,{})}),w.jsx(gi,{path:"/product-details/:id",element:w.jsx(gT,{})}),w.jsx(gi,{path:"/admin-dashboard",element:w.jsx(kV,{})}),w.jsx(gi,{path:"/favs",element:w.jsx(LV,{})}),w.jsx(gi,{path:"/user",element:w.jsx(WP,{})}),w.jsx(gi,{path:"/checkout",element:w.jsx(jV,{})}),w.jsx(gi,{path:"*",element:w.jsx("h1",{className:"text-center mt-10 text-red-600",children:"404 - Page Not Found"})})]}),!l&&w.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t rounded-t-3xl shadow-md flex justify-around items-center h-16 z-50",children:r.map(c=>w.jsx("div",{onClick:()=>e(c.path),className:`flex flex-col items-center cursor-pointer ${t===c.path?"text-black":"text-gray-400"}`,children:w.jsx("div",{className:"text-xl",children:c.icon})},c.id))})]})}g1.createRoot(document.getElementById("root")).render(w.jsx(L.StrictMode,{children:w.jsx(UV,{})}));
